var li=Object.defineProperty;var ii=(t,s,a)=>s in t?li(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var Pr=(t,s,a)=>ii(t,typeof s!="symbol"?s+"":s,a);import{j as e,S as ci,P as Ae,a as dn,b as un,c as di,C as mn,I as hn,d as xn,e as fn,R as gn,L as pn,f as bn,g as ui,T as mi,V as yn,h as vn,A as jn,i as wn,k as Nn,D as Sn,l as hi,O as kn,m as xi,n as Cn,o as fi,p as Fn,q as Pn,r as gi,s as En,t as qs,u as Ge,v as _n,w as pi,x as Ie,y as Tt,z as bi,B as ha,E as yi,F as vi,G as ji,H as wi,J as Ni,K as Si,M as ki,N as Ci,Q as lr,U as xs,W as Fi,X as Pi,Y as Ei,Z as ir,_ as Dn,$ as Rn,a0 as _i,a1 as Di}from"./ui-buVJH0Mg.js";import{a as cr,r as d,R as Ri,d as Mi,b as Ii}from"./vendor-DAxN6H-X.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();var Mn,Er=cr;Mn=Er.createRoot,Er.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ue.apply(this,arguments)}var $e;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($e||($e={}));const _r="popstate";function Ai(t){t===void 0&&(t={});function s(r,n){let{pathname:o,search:l,hash:i}=r.location;return Hs("",{pathname:o,search:l,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:Kt(n)}return Bi(s,a,null,t)}function je(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function fs(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Ti(){return Math.random().toString(36).substr(2,8)}function Dr(t,s){return{usr:t.state,key:t.key,idx:s}}function Hs(t,s,a,r){return a===void 0&&(a=null),Ue({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Lt(s):s,{state:a,key:s&&s.key||r||Ti()})}function Kt(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Lt(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function Bi(t,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:o=!1}=r,l=n.history,i=$e.Pop,c=null,h=u();h==null&&(h=0,l.replaceState(Ue({},l.state,{idx:h}),""));function u(){return(l.state||{idx:null}).idx}function m(){i=$e.Pop;let g=u(),b=g==null?null:g-h;h=g,c&&c({action:i,location:x.location,delta:b})}function f(g,b){i=$e.Push;let p=Hs(x.location,g,b);h=u()+1;let j=Dr(p,h),P=x.createHref(p);try{l.pushState(j,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;n.location.assign(P)}o&&c&&c({action:i,location:x.location,delta:1})}function v(g,b){i=$e.Replace;let p=Hs(x.location,g,b);h=u();let j=Dr(p,h),P=x.createHref(p);l.replaceState(j,"",P),o&&c&&c({action:i,location:x.location,delta:0})}function y(g){let b=n.location.origin!=="null"?n.location.origin:n.location.href,p=typeof g=="string"?g:Kt(g);return p=p.replace(/ $/,"%20"),je(b,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,b)}let x={get action(){return i},get location(){return t(n,l)},listen(g){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(_r,m),c=g,()=>{n.removeEventListener(_r,m),c=null}},createHref(g){return s(n,g)},createURL:y,encodeLocation(g){let b=y(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:v,go(g){return l.go(g)}};return x}var Me;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Me||(Me={}));const Li=new Set(["lazy","caseSensitive","path","id","index","children"]);function Ui(t){return t.index===!0}function la(t,s,a,r){return a===void 0&&(a=[]),r===void 0&&(r={}),t.map((n,o)=>{let l=[...a,String(o)],i=typeof n.id=="string"?n.id:l.join("-");if(je(n.index!==!0||!n.children,"Cannot specify children on an index route"),je(!r[i],'Found a route id collision on id "'+i+`".  Route id's must be globally unique within Data Router usages`),Ui(n)){let c=Ue({},n,s(n),{id:i});return r[i]=c,c}else{let c=Ue({},n,s(n),{id:i,children:void 0});return r[i]=c,n.children&&(c.children=la(n.children,s,l,r)),c}})}function $t(t,s,a){return a===void 0&&(a="/"),aa(t,s,a,!1)}function aa(t,s,a,r){let n=typeof s=="string"?Lt(s):s,o=bs(n.pathname||"/",a);if(o==null)return null;let l=In(t);zi(l);let i=null;for(let c=0;i==null&&c<l.length;++c){let h=Zi(o);i=Ji(l[c],h,r)}return i}function Oi(t,s){let{route:a,pathname:r,params:n}=t;return{id:a.id,pathname:r,params:n,data:s[a.id],handle:a.handle}}function In(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(o,l,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(je(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=Ct([r,c.relativePath]),u=a.concat(c);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),In(o.children,s,u,h)),!(o.path==null&&!o.index)&&s.push({path:h,score:Ki(h,o.index),routesMeta:u})};return t.forEach((o,l)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))n(o,l);else for(let c of An(o.path))n(o,l,c)}),s}function An(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),o=a.replace(/\?$/,"");if(r.length===0)return n?[o,""]:[o];let l=An(r.join("/")),i=[];return i.push(...l.map(c=>c===""?o:[o,c].join("/"))),n&&i.push(...l),i.map(c=>t.startsWith("/")&&c===""?"/":c)}function zi(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:qi(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const Hi=/^:[\w-]+$/,Vi=3,$i=2,Gi=1,Wi=10,Yi=-2,Rr=t=>t==="*";function Ki(t,s){let a=t.split("/"),r=a.length;return a.some(Rr)&&(r+=Yi),s&&(r+=$i),a.filter(n=>!Rr(n)).reduce((n,o)=>n+(Hi.test(o)?Vi:o===""?Gi:Wi),r)}function qi(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function Ji(t,s,a){a===void 0&&(a=!1);let{routesMeta:r}=t,n={},o="/",l=[];for(let i=0;i<r.length;++i){let c=r[i],h=i===r.length-1,u=o==="/"?s:s.slice(o.length)||"/",m=Mr({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},u),f=c.route;if(!m&&h&&a&&!r[r.length-1].route.index&&(m=Mr({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(n,m.params),l.push({params:n,pathname:Ct([o,m.pathname]),pathnameBase:tc(Ct([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=Ct([o,m.pathnameBase]))}return l}function Mr(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=Xi(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let o=n[0],l=o.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:r.reduce((h,u,m)=>{let{paramName:f,isOptional:v}=u;if(f==="*"){let x=i[m]||"";l=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const y=i[m];return v&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function Xi(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function Zi(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return fs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function bs(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function Qi(t,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?Lt(t):t;return{pathname:a?a.startsWith("/")?a:ec(a,s):s,search:sc(r),hash:ac(n)}}function ec(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Da(t,s,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tn(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function xa(t,s){let a=Tn(t);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function fa(t,s,a,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=Lt(t):(n=Ue({},t),je(!n.pathname||!n.pathname.includes("?"),Da("?","pathname","search",n)),je(!n.pathname||!n.pathname.includes("#"),Da("#","pathname","hash",n)),je(!n.search||!n.search.includes("#"),Da("#","search","hash",n)));let o=t===""||n.pathname==="",l=o?"/":n.pathname,i;if(l==null)i=a;else{let m=s.length-1;if(!r&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),m-=1;n.pathname=f.join("/")}i=m>=0?s[m]:"/"}let c=Qi(n,i),h=l&&l!=="/"&&l.endsWith("/"),u=(o||l===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(h||u)&&(c.pathname+="/"),c}const Ct=t=>t.join("/").replace(/\/\/+/g,"/"),tc=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sc=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ac=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ia{constructor(s,a,r,n){n===void 0&&(n=!1),this.status=s,this.statusText=a||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vs(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bn=["post","put","patch","delete"],rc=new Set(Bn),nc=["get",...Bn],oc=new Set(nc),lc=new Set([301,302,303,307,308]),ic=new Set([307,308]),Ra={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cc={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Es={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dc=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Ln="remix-router-transitions";function uc(t){const s=t.window?t.window:typeof window<"u"?window:void 0,a=typeof s<"u"&&typeof s.document<"u"&&typeof s.document.createElement<"u",r=!a;je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let n;if(t.mapRouteProperties)n=t.mapRouteProperties;else if(t.detectErrorBoundary){let w=t.detectErrorBoundary;n=S=>({hasErrorBoundary:w(S)})}else n=dc;let o={},l=la(t.routes,n,void 0,o),i,c=t.basename||"/",h=t.dataStrategy||fc,u=t.patchRoutesOnNavigation,m=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,v=new Set,y=null,x=null,g=null,b=t.hydrationData!=null,p=$t(l,t.history.location,c),j=!1,P=null;if(p==null&&!u){let w=at(404,{pathname:t.history.location.pathname}),{matches:S,route:F}=$r(l);p=S,P={[F.id]:w}}p&&!t.hydrationData&&Xs(p,l,t.history.location.pathname).active&&(p=null);let C;if(p)if(p.some(w=>w.route.lazy))C=!1;else if(!p.some(w=>w.route.loader))C=!0;else if(m.v7_partialHydration){let w=t.hydrationData?t.hydrationData.loaderData:null,S=t.hydrationData?t.hydrationData.errors:null;if(S){let F=p.findIndex(M=>S[M.route.id]!==void 0);C=p.slice(0,F+1).every(M=>!La(M.route,w,S))}else C=p.every(F=>!La(F.route,w,S))}else C=t.hydrationData!=null;else if(C=!1,p=[],m.v7_partialHydration){let w=Xs(null,l,t.history.location.pathname);w.active&&w.matches&&(j=!0,p=w.matches)}let D,N={historyAction:t.history.action,location:t.history.location,matches:p,initialized:C,navigation:Ra,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},_=$e.Pop,I=!1,k,E=!1,R=new Map,L=null,z=!1,oe=!1,de=[],pe=new Set,T=new Map,ee=0,be=-1,X=new Map,Fe=new Set,J=new Map,te=new Map,A=new Set,we=new Map,G=new Map,ne;function ye(){if(f=t.history.listen(w=>{let{action:S,location:F,delta:M}=w;if(ne){ne(),ne=void 0;return}fs(G.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=Ht({currentLocation:N.location,nextLocation:F,historyAction:S});if(B&&M!=null){let Q=new Promise(ie=>{ne=ie});t.history.go(M*-1),yt(B,{state:"blocked",location:F,proceed(){yt(B,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),Q.then(()=>t.history.go(M))},reset(){let ie=new Map(N.blockers);ie.set(B,Es),Y({blockers:ie})}});return}return Ye(S,F)}),a){Ec(s,R);let w=()=>_c(s,R);s.addEventListener("pagehide",w),L=()=>s.removeEventListener("pagehide",w)}return N.initialized||Ye($e.Pop,N.location,{initialHydration:!0}),D}function le(){f&&f(),L&&L(),v.clear(),k&&k.abort(),N.fetchers.forEach((w,S)=>ot(S)),N.blockers.forEach((w,S)=>Nt(S))}function re(w){return v.add(w),()=>v.delete(w)}function Y(w,S){S===void 0&&(S={}),N=Ue({},N,w);let F=[],M=[];m.v7_fetcherPersist&&N.fetchers.forEach((B,Q)=>{B.state==="idle"&&(A.has(Q)?M.push(Q):F.push(Q))}),A.forEach(B=>{!N.fetchers.has(B)&&!T.has(B)&&M.push(B)}),[...v].forEach(B=>B(N,{deletedFetchers:M,viewTransitionOpts:S.viewTransitionOpts,flushSync:S.flushSync===!0})),m.v7_fetcherPersist?(F.forEach(B=>N.fetchers.delete(B)),M.forEach(B=>ot(B))):M.forEach(B=>A.delete(B))}function Be(w,S,F){var M,B;let{flushSync:Q}=F===void 0?{}:F,ie=N.actionData!=null&&N.navigation.formMethod!=null&&ft(N.navigation.formMethod)&&N.navigation.state==="loading"&&((M=w.state)==null?void 0:M._isRedirect)!==!0,W;S.actionData?Object.keys(S.actionData).length>0?W=S.actionData:W=null:ie?W=N.actionData:W=null;let K=S.loaderData?Hr(N.loaderData,S.loaderData,S.matches||[],S.errors):N.loaderData,H=N.blockers;H.size>0&&(H=new Map(H),H.forEach((Se,Je)=>H.set(Je,Es)));let q=I===!0||N.navigation.formMethod!=null&&ft(N.navigation.formMethod)&&((B=w.state)==null?void 0:B._isRedirect)!==!0;i&&(l=i,i=void 0),z||_===$e.Pop||(_===$e.Push?t.history.push(w,w.state):_===$e.Replace&&t.history.replace(w,w.state));let he;if(_===$e.Pop){let Se=R.get(N.location.pathname);Se&&Se.has(w.pathname)?he={currentLocation:N.location,nextLocation:w}:R.has(w.pathname)&&(he={currentLocation:w,nextLocation:N.location})}else if(E){let Se=R.get(N.location.pathname);Se?Se.add(w.pathname):(Se=new Set([w.pathname]),R.set(N.location.pathname,Se)),he={currentLocation:N.location,nextLocation:w}}Y(Ue({},S,{actionData:W,loaderData:K,historyAction:_,location:w,initialized:!0,navigation:Ra,revalidation:"idle",restoreScrollPosition:Cr(w,S.matches||N.matches),preventScrollReset:q,blockers:H}),{viewTransitionOpts:he,flushSync:Q===!0}),_=$e.Pop,I=!1,E=!1,z=!1,oe=!1,de=[]}async function We(w,S){if(typeof w=="number"){t.history.go(w);return}let F=Ba(N.location,N.matches,c,m.v7_prependBasename,w,m.v7_relativeSplatPath,S==null?void 0:S.fromRouteId,S==null?void 0:S.relative),{path:M,submission:B,error:Q}=Ir(m.v7_normalizeFormMethod,!1,F,S),ie=N.location,W=Hs(N.location,M,S&&S.state);W=Ue({},W,t.history.encodeLocation(W));let K=S&&S.replace!=null?S.replace:void 0,H=$e.Push;K===!0?H=$e.Replace:K===!1||B!=null&&ft(B.formMethod)&&B.formAction===N.location.pathname+N.location.search&&(H=$e.Replace);let q=S&&"preventScrollReset"in S?S.preventScrollReset===!0:void 0,he=(S&&S.flushSync)===!0,Se=Ht({currentLocation:ie,nextLocation:W,historyAction:H});if(Se){yt(Se,{state:"blocked",location:W,proceed(){yt(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),We(w,S)},reset(){let Je=new Map(N.blockers);Je.set(Se,Es),Y({blockers:Je})}});return}return await Ye(H,W,{submission:B,pendingError:Q,preventScrollReset:q,replace:S&&S.replace,enableViewTransition:S&&S.viewTransition,flushSync:he})}function De(){if(me(),Y({revalidation:"loading"}),N.navigation.state!=="submitting"){if(N.navigation.state==="idle"){Ye(N.historyAction,N.location,{startUninterruptedRevalidation:!0});return}Ye(_||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:E===!0})}}async function Ye(w,S,F){k&&k.abort(),k=null,_=w,z=(F&&F.startUninterruptedRevalidation)===!0,ai(N.location,N.matches),I=(F&&F.preventScrollReset)===!0,E=(F&&F.enableViewTransition)===!0;let M=i||l,B=F&&F.overrideNavigation,Q=F!=null&&F.initialHydration&&N.matches&&N.matches.length>0&&!j?N.matches:$t(M,S,c),ie=(F&&F.flushSync)===!0;if(Q&&N.initialized&&!oe&&jc(N.location,S)&&!(F&&F.submission&&ft(F.submission.formMethod))){Be(S,{matches:Q},{flushSync:ie});return}let W=Xs(Q,M,S.pathname);if(W.active&&W.matches&&(Q=W.matches),!Q){let{error:Te,notFoundMatches:Ee,route:Oe}=os(S.pathname);Be(S,{matches:Ee,loaderData:{},errors:{[Oe.id]:Te}},{flushSync:ie});return}k=new AbortController;let K=ds(t.history,S,k.signal,F&&F.submission),H;if(F&&F.pendingError)H=[Gt(Q).route.id,{type:Me.error,error:F.pendingError}];else if(F&&F.submission&&ft(F.submission.formMethod)){let Te=await ut(K,S,F.submission,Q,W.active,{replace:F.replace,flushSync:ie});if(Te.shortCircuited)return;if(Te.pendingActionResult){let[Ee,Oe]=Te.pendingActionResult;if(lt(Oe)&&Vs(Oe.error)&&Oe.error.status===404){k=null,Be(S,{matches:Te.matches,loaderData:{},errors:{[Ee]:Oe.error}});return}}Q=Te.matches||Q,H=Te.pendingActionResult,B=Ma(S,F.submission),ie=!1,W.active=!1,K=ds(t.history,K.url,K.signal)}let{shortCircuited:q,matches:he,loaderData:Se,errors:Je}=await ss(K,S,Q,W.active,B,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,ie,H);q||(k=null,Be(S,Ue({matches:he||Q},Vr(H),{loaderData:Se,errors:Je})))}async function ut(w,S,F,M,B,Q){Q===void 0&&(Q={}),me();let ie=Fc(S,F);if(Y({navigation:ie},{flushSync:Q.flushSync===!0}),B){let H=await Zs(M,S.pathname,w.signal);if(H.type==="aborted")return{shortCircuited:!0};if(H.type==="error"){let q=Gt(H.partialMatches).route.id;return{matches:H.partialMatches,pendingActionResult:[q,{type:Me.error,error:H.error}]}}else if(H.matches)M=H.matches;else{let{notFoundMatches:q,error:he,route:Se}=os(S.pathname);return{matches:q,pendingActionResult:[Se.id,{type:Me.error,error:he}]}}}let W,K=As(M,S);if(!K.route.action&&!K.route.lazy)W={type:Me.error,error:at(405,{method:w.method,pathname:S.pathname,routeId:K.route.id})};else if(W=(await mt("action",N,w,[K],M,null))[K.route.id],w.signal.aborted)return{shortCircuited:!0};if(Wt(W)){let H;return Q&&Q.replace!=null?H=Q.replace:H=Ur(W.response.headers.get("Location"),new URL(w.url),c)===N.location.pathname+N.location.search,await dt(w,W,!0,{submission:F,replace:H}),{shortCircuited:!0}}if(Mt(W))throw at(400,{type:"defer-action"});if(lt(W)){let H=Gt(M,K.route.id);return(Q&&Q.replace)!==!0&&(_=$e.Push),{matches:M,pendingActionResult:[H.route.id,W]}}return{matches:M,pendingActionResult:[K.route.id,W]}}async function ss(w,S,F,M,B,Q,ie,W,K,H,q){let he=B||Ma(S,Q),Se=Q||ie||Wr(he),Je=!z&&(!m.v7_partialHydration||!K);if(M){if(Je){let ze=as(q);Y(Ue({navigation:he},ze!==void 0?{actionData:ze}:{}),{flushSync:H})}let Pe=await Zs(F,S.pathname,w.signal);if(Pe.type==="aborted")return{shortCircuited:!0};if(Pe.type==="error"){let ze=Gt(Pe.partialMatches).route.id;return{matches:Pe.partialMatches,loaderData:{},errors:{[ze]:Pe.error}}}else if(Pe.matches)F=Pe.matches;else{let{error:ze,notFoundMatches:is,route:Ps}=os(S.pathname);return{matches:is,loaderData:{},errors:{[Ps.id]:ze}}}}let Te=i||l,[Ee,Oe]=Tr(t.history,N,F,Se,S,m.v7_partialHydration&&K===!0,m.v7_skipActionErrorRevalidation,oe,de,pe,A,J,Fe,Te,c,q);if(Ea(Pe=>!(F&&F.some(ze=>ze.route.id===Pe))||Ee&&Ee.some(ze=>ze.route.id===Pe)),be=++ee,Ee.length===0&&Oe.length===0){let Pe=ks();return Be(S,Ue({matches:F,loaderData:{},errors:q&&lt(q[1])?{[q[0]]:q[1].error}:null},Vr(q),Pe?{fetchers:new Map(N.fetchers)}:{}),{flushSync:H}),{shortCircuited:!0}}if(Je){let Pe={};if(!M){Pe.navigation=he;let ze=as(q);ze!==void 0&&(Pe.actionData=ze)}Oe.length>0&&(Pe.fetchers=Ns(Oe)),Y(Pe,{flushSync:H})}Oe.forEach(Pe=>{Ke(Pe.key),Pe.controller&&T.set(Pe.key,Pe.controller)});let ls=()=>Oe.forEach(Pe=>Ke(Pe.key));k&&k.signal.addEventListener("abort",ls);let{loaderResults:Cs,fetcherResults:St}=await $(N,F,Ee,Oe,w);if(w.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",ls),Oe.forEach(Pe=>T.delete(Pe.key));let vt=ta(Cs);if(vt)return await dt(w,vt.result,!0,{replace:W}),{shortCircuited:!0};if(vt=ta(St),vt)return Fe.add(vt.key),await dt(w,vt.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:_a,errors:Fs}=zr(N,F,Cs,q,Oe,St,we);we.forEach((Pe,ze)=>{Pe.subscribe(is=>{(is||Pe.done)&&we.delete(ze)})}),m.v7_partialHydration&&K&&N.errors&&(Fs=Ue({},N.errors,Fs));let Vt=ks(),Qs=ae(be),ea=Vt||Qs||Oe.length>0;return Ue({matches:F,loaderData:_a,errors:Fs},ea?{fetchers:new Map(N.fetchers)}:{})}function as(w){if(w&&!lt(w[1]))return{[w[0]]:w[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Ns(w){return w.forEach(S=>{let F=N.fetchers.get(S.key),M=_s(void 0,F?F.data:void 0);N.fetchers.set(S.key,M)}),new Map(N.fetchers)}function rs(w,S,F,M){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ke(w);let B=(M&&M.flushSync)===!0,Q=i||l,ie=Ba(N.location,N.matches,c,m.v7_prependBasename,F,m.v7_relativeSplatPath,S,M==null?void 0:M.relative),W=$t(Q,ie,c),K=Xs(W,Q,ie);if(K.active&&K.matches&&(W=K.matches),!W){ve(w,S,at(404,{pathname:ie}),{flushSync:B});return}let{path:H,submission:q,error:he}=Ir(m.v7_normalizeFormMethod,!0,ie,M);if(he){ve(w,S,he,{flushSync:B});return}let Se=As(W,H),Je=(M&&M.preventScrollReset)===!0;if(q&&ft(q.formMethod)){Ss(w,S,H,Se,W,K.active,B,Je,q);return}J.set(w,{routeId:S,path:H}),ns(w,S,H,Se,W,K.active,B,Je,q)}async function Ss(w,S,F,M,B,Q,ie,W,K){me(),J.delete(w);function H(Ve){if(!Ve.route.action&&!Ve.route.lazy){let cs=at(405,{method:K.formMethod,pathname:F,routeId:S});return ve(w,S,cs,{flushSync:ie}),!0}return!1}if(!Q&&H(M))return;let q=N.fetchers.get(w);Z(w,Pc(K,q),{flushSync:ie});let he=new AbortController,Se=ds(t.history,F,he.signal,K);if(Q){let Ve=await Zs(B,new URL(Se.url).pathname,Se.signal,w);if(Ve.type==="aborted")return;if(Ve.type==="error"){ve(w,S,Ve.error,{flushSync:ie});return}else if(Ve.matches){if(B=Ve.matches,M=As(B,F),H(M))return}else{ve(w,S,at(404,{pathname:F}),{flushSync:ie});return}}T.set(w,he);let Je=ee,Ee=(await mt("action",N,Se,[M],B,w))[M.route.id];if(Se.signal.aborted){T.get(w)===he&&T.delete(w);return}if(m.v7_fetcherPersist&&A.has(w)){if(Wt(Ee)||lt(Ee)){Z(w,Rt(void 0));return}}else{if(Wt(Ee))if(T.delete(w),be>Je){Z(w,Rt(void 0));return}else return Fe.add(w),Z(w,_s(K)),dt(Se,Ee,!1,{fetcherSubmission:K,preventScrollReset:W});if(lt(Ee)){ve(w,S,Ee.error);return}}if(Mt(Ee))throw at(400,{type:"defer-action"});let Oe=N.navigation.location||N.location,ls=ds(t.history,Oe,he.signal),Cs=i||l,St=N.navigation.state!=="idle"?$t(Cs,N.navigation.location,c):N.matches;je(St,"Didn't find any matches after fetcher action");let vt=++ee;X.set(w,vt);let _a=_s(K,Ee.data);N.fetchers.set(w,_a);let[Fs,Vt]=Tr(t.history,N,St,K,Oe,!1,m.v7_skipActionErrorRevalidation,oe,de,pe,A,J,Fe,Cs,c,[M.route.id,Ee]);Vt.filter(Ve=>Ve.key!==w).forEach(Ve=>{let cs=Ve.key,Fr=N.fetchers.get(cs),oi=_s(void 0,Fr?Fr.data:void 0);N.fetchers.set(cs,oi),Ke(cs),Ve.controller&&T.set(cs,Ve.controller)}),Y({fetchers:new Map(N.fetchers)});let Qs=()=>Vt.forEach(Ve=>Ke(Ve.key));he.signal.addEventListener("abort",Qs);let{loaderResults:ea,fetcherResults:Pe}=await $(N,St,Fs,Vt,ls);if(he.signal.aborted)return;he.signal.removeEventListener("abort",Qs),X.delete(w),T.delete(w),Vt.forEach(Ve=>T.delete(Ve.key));let ze=ta(ea);if(ze)return dt(ls,ze.result,!1,{preventScrollReset:W});if(ze=ta(Pe),ze)return Fe.add(ze.key),dt(ls,ze.result,!1,{preventScrollReset:W});let{loaderData:is,errors:Ps}=zr(N,St,ea,void 0,Vt,Pe,we);if(N.fetchers.has(w)){let Ve=Rt(Ee.data);N.fetchers.set(w,Ve)}ae(vt),N.navigation.state==="loading"&&vt>be?(je(_,"Expected pending action"),k&&k.abort(),Be(N.navigation.location,{matches:St,loaderData:is,errors:Ps,fetchers:new Map(N.fetchers)})):(Y({errors:Ps,loaderData:Hr(N.loaderData,is,St,Ps),fetchers:new Map(N.fetchers)}),oe=!1)}async function ns(w,S,F,M,B,Q,ie,W,K){let H=N.fetchers.get(w);Z(w,_s(K,H?H.data:void 0),{flushSync:ie});let q=new AbortController,he=ds(t.history,F,q.signal);if(Q){let Ee=await Zs(B,new URL(he.url).pathname,he.signal,w);if(Ee.type==="aborted")return;if(Ee.type==="error"){ve(w,S,Ee.error,{flushSync:ie});return}else if(Ee.matches)B=Ee.matches,M=As(B,F);else{ve(w,S,at(404,{pathname:F}),{flushSync:ie});return}}T.set(w,q);let Se=ee,Te=(await mt("loader",N,he,[M],B,w))[M.route.id];if(Mt(Te)&&(Te=await ur(Te,he.signal,!0)||Te),T.get(w)===q&&T.delete(w),!he.signal.aborted){if(A.has(w)){Z(w,Rt(void 0));return}if(Wt(Te))if(be>Se){Z(w,Rt(void 0));return}else{Fe.add(w),await dt(he,Te,!1,{preventScrollReset:W});return}if(lt(Te)){ve(w,S,Te.error);return}je(!Mt(Te),"Unhandled fetcher deferred data"),Z(w,Rt(Te.data))}}async function dt(w,S,F,M){let{submission:B,fetcherSubmission:Q,preventScrollReset:ie,replace:W}=M===void 0?{}:M;S.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let K=S.response.headers.get("Location");je(K,"Expected a Location header on the redirect Response"),K=Ur(K,new URL(w.url),c);let H=Hs(N.location,K,{_isRedirect:!0});if(a){let Ee=!1;if(S.response.headers.has("X-Remix-Reload-Document"))Ee=!0;else if(dr.test(K)){const Oe=t.history.createURL(K);Ee=Oe.origin!==s.location.origin||bs(Oe.pathname,c)==null}if(Ee){W?s.location.replace(K):s.location.assign(K);return}}k=null;let q=W===!0||S.response.headers.has("X-Remix-Replace")?$e.Replace:$e.Push,{formMethod:he,formAction:Se,formEncType:Je}=N.navigation;!B&&!Q&&he&&Se&&Je&&(B=Wr(N.navigation));let Te=B||Q;if(ic.has(S.response.status)&&Te&&ft(Te.formMethod))await Ye(q,H,{submission:Ue({},Te,{formAction:K}),preventScrollReset:ie||I,enableViewTransition:F?E:void 0});else{let Ee=Ma(H,B);await Ye(q,H,{overrideNavigation:Ee,fetcherSubmission:Q,preventScrollReset:ie||I,enableViewTransition:F?E:void 0})}}async function mt(w,S,F,M,B,Q){let ie,W={};try{ie=await gc(h,w,S,F,M,B,Q,o,n)}catch(K){return M.forEach(H=>{W[H.route.id]={type:Me.error,error:K}}),W}for(let[K,H]of Object.entries(ie))if(wc(H)){let q=H.result;W[K]={type:Me.redirect,response:yc(q,F,K,B,c,m.v7_relativeSplatPath)}}else W[K]=await bc(H);return W}async function $(w,S,F,M,B){let Q=w.matches,ie=mt("loader",w,B,F,S,null),W=Promise.all(M.map(async q=>{if(q.matches&&q.match&&q.controller){let Se=(await mt("loader",w,ds(t.history,q.path,q.controller.signal),[q.match],q.matches,q.key))[q.match.route.id];return{[q.key]:Se}}else return Promise.resolve({[q.key]:{type:Me.error,error:at(404,{pathname:q.path})}})})),K=await ie,H=(await W).reduce((q,he)=>Object.assign(q,he),{});return await Promise.all([kc(S,K,B.signal,Q,w.loaderData),Cc(S,H,M)]),{loaderResults:K,fetcherResults:H}}function me(){oe=!0,de.push(...Ea()),J.forEach((w,S)=>{T.has(S)&&pe.add(S),Ke(S)})}function Z(w,S,F){F===void 0&&(F={}),N.fetchers.set(w,S),Y({fetchers:new Map(N.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function ve(w,S,F,M){M===void 0&&(M={});let B=Gt(N.matches,S);ot(w),Y({errors:{[B.route.id]:F},fetchers:new Map(N.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function He(w){return te.set(w,(te.get(w)||0)+1),A.has(w)&&A.delete(w),N.fetchers.get(w)||cc}function ot(w){let S=N.fetchers.get(w);T.has(w)&&!(S&&S.state==="loading"&&X.has(w))&&Ke(w),J.delete(w),X.delete(w),Fe.delete(w),m.v7_fetcherPersist&&A.delete(w),pe.delete(w),N.fetchers.delete(w)}function wt(w){let S=(te.get(w)||0)-1;S<=0?(te.delete(w),A.add(w),m.v7_fetcherPersist||ot(w)):te.set(w,S),Y({fetchers:new Map(N.fetchers)})}function Ke(w){let S=T.get(w);S&&(S.abort(),T.delete(w))}function Js(w){for(let S of w){let F=He(S),M=Rt(F.data);N.fetchers.set(S,M)}}function ks(){let w=[],S=!1;for(let F of Fe){let M=N.fetchers.get(F);je(M,"Expected fetcher: "+F),M.state==="loading"&&(Fe.delete(F),w.push(F),S=!0)}return Js(w),S}function ae(w){let S=[];for(let[F,M]of X)if(M<w){let B=N.fetchers.get(F);je(B,"Expected fetcher: "+F),B.state==="loading"&&(Ke(F),X.delete(F),S.push(F))}return Js(S),S.length>0}function ue(w,S){let F=N.blockers.get(w)||Es;return G.get(w)!==S&&G.set(w,S),F}function Nt(w){N.blockers.delete(w),G.delete(w)}function yt(w,S){let F=N.blockers.get(w)||Es;je(F.state==="unblocked"&&S.state==="blocked"||F.state==="blocked"&&S.state==="blocked"||F.state==="blocked"&&S.state==="proceeding"||F.state==="blocked"&&S.state==="unblocked"||F.state==="proceeding"&&S.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+S.state);let M=new Map(N.blockers);M.set(w,S),Y({blockers:M})}function Ht(w){let{currentLocation:S,nextLocation:F,historyAction:M}=w;if(G.size===0)return;G.size>1&&fs(!1,"A router only supports one blocker at a time");let B=Array.from(G.entries()),[Q,ie]=B[B.length-1],W=N.blockers.get(Q);if(!(W&&W.state==="proceeding")&&ie({currentLocation:S,nextLocation:F,historyAction:M}))return Q}function os(w){let S=at(404,{pathname:w}),F=i||l,{matches:M,route:B}=$r(F);return Ea(),{notFoundMatches:M,route:B,error:S}}function Ea(w){let S=[];return we.forEach((F,M)=>{(!w||w(M))&&(F.cancel(),S.push(M),we.delete(M))}),S}function si(w,S,F){if(y=w,g=S,x=F||null,!b&&N.navigation===Ra){b=!0;let M=Cr(N.location,N.matches);M!=null&&Y({restoreScrollPosition:M})}return()=>{y=null,g=null,x=null}}function kr(w,S){return x&&x(w,S.map(M=>Oi(M,N.loaderData)))||w.key}function ai(w,S){if(y&&g){let F=kr(w,S);y[F]=g()}}function Cr(w,S){if(y){let F=kr(w,S),M=y[F];if(typeof M=="number")return M}return null}function Xs(w,S,F){if(u)if(w){if(Object.keys(w[0].params).length>0)return{active:!0,matches:aa(S,F,c,!0)}}else return{active:!0,matches:aa(S,F,c,!0)||[]};return{active:!1,matches:null}}async function Zs(w,S,F,M){if(!u)return{type:"success",matches:w};let B=w;for(;;){let Q=i==null,ie=i||l,W=o;try{await u({signal:F,path:S,matches:B,fetcherKey:M,patch:(q,he)=>{F.aborted||Lr(q,he,ie,W,n)}})}catch(q){return{type:"error",error:q,partialMatches:B}}finally{Q&&!F.aborted&&(l=[...l])}if(F.aborted)return{type:"aborted"};let K=$t(ie,S,c);if(K)return{type:"success",matches:K};let H=aa(ie,S,c,!0);if(!H||B.length===H.length&&B.every((q,he)=>q.route.id===H[he].route.id))return{type:"success",matches:null};B=H}}function ri(w){o={},i=la(w,n,void 0,o)}function ni(w,S){let F=i==null;Lr(w,S,i||l,o,n),F&&(l=[...l],Y({}))}return D={get basename(){return c},get future(){return m},get state(){return N},get routes(){return l},get window(){return s},initialize:ye,subscribe:re,enableScrollRestoration:si,navigate:We,fetch:rs,revalidate:De,createHref:w=>t.history.createHref(w),encodeLocation:w=>t.history.encodeLocation(w),getFetcher:He,deleteFetcher:wt,dispose:le,getBlocker:ue,deleteBlocker:Nt,patchRoutes:ni,_internalFetchControllers:T,_internalActiveDeferreds:we,_internalSetRoutes:ri},D}function mc(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ba(t,s,a,r,n,o,l,i){let c,h;if(l){c=[];for(let m of s)if(c.push(m),m.route.id===l){h=m;break}}else c=s,h=s[s.length-1];let u=fa(n||".",xa(c,o),bs(t.pathname,a)||t.pathname,i==="path");if(n==null&&(u.search=t.search,u.hash=t.hash),(n==null||n===""||n===".")&&h){let m=mr(u.search);if(h.route.index&&!m)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let f=new URLSearchParams(u.search),v=f.getAll("index");f.delete("index"),v.filter(x=>x).forEach(x=>f.append("index",x));let y=f.toString();u.search=y?"?"+y:""}}return r&&a!=="/"&&(u.pathname=u.pathname==="/"?a:Ct([a,u.pathname])),Kt(u)}function Ir(t,s,a,r){if(!r||!mc(r))return{path:a};if(r.formMethod&&!Sc(r.formMethod))return{path:a,error:at(405,{method:r.formMethod})};let n=()=>({path:a,error:at(400,{type:"invalid-body"})}),o=r.formMethod||"get",l=t?o.toUpperCase():o.toLowerCase(),i=zn(a);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ft(l))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,y)=>{let[x,g]=y;return""+v+x+"="+g+`
`},""):String(r.body);return{path:a,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ft(l))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:a,submission:{formMethod:l,formAction:i,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return n()}}}je(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=Ua(r.formData),h=r.formData;else if(r.body instanceof FormData)c=Ua(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=Or(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=Or(c)}catch{return n()}let u={formMethod:l,formAction:i,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(ft(u.formMethod))return{path:a,submission:u};let m=Lt(a);return s&&m.search&&mr(m.search)&&c.append("index",""),m.search="?"+c,{path:Kt(m),submission:u}}function Ar(t,s,a){a===void 0&&(a=!1);let r=t.findIndex(n=>n.route.id===s);return r>=0?t.slice(0,a?r+1:r):t}function Tr(t,s,a,r,n,o,l,i,c,h,u,m,f,v,y,x){let g=x?lt(x[1])?x[1].error:x[1].data:void 0,b=t.createURL(s.location),p=t.createURL(n),j=a;o&&s.errors?j=Ar(a,Object.keys(s.errors)[0],!0):x&&lt(x[1])&&(j=Ar(a,x[0]));let P=x?x[1].statusCode:void 0,C=l&&P&&P>=400,D=j.filter((_,I)=>{let{route:k}=_;if(k.lazy)return!0;if(k.loader==null)return!1;if(o)return La(k,s.loaderData,s.errors);if(hc(s.loaderData,s.matches[I],_)||c.some(L=>L===_.route.id))return!0;let E=s.matches[I],R=_;return Br(_,Ue({currentUrl:b,currentParams:E.params,nextUrl:p,nextParams:R.params},r,{actionResult:g,actionStatus:P,defaultShouldRevalidate:C?!1:i||b.pathname+b.search===p.pathname+p.search||b.search!==p.search||Un(E,R)}))}),N=[];return m.forEach((_,I)=>{if(o||!a.some(z=>z.route.id===_.routeId)||u.has(I))return;let k=$t(v,_.path,y);if(!k){N.push({key:I,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let E=s.fetchers.get(I),R=As(k,_.path),L=!1;f.has(I)?L=!1:h.has(I)?(h.delete(I),L=!0):E&&E.state!=="idle"&&E.data===void 0?L=i:L=Br(R,Ue({currentUrl:b,currentParams:s.matches[s.matches.length-1].params,nextUrl:p,nextParams:a[a.length-1].params},r,{actionResult:g,actionStatus:P,defaultShouldRevalidate:C?!1:i})),L&&N.push({key:I,routeId:_.routeId,path:_.path,matches:k,match:R,controller:new AbortController})}),[D,N]}function La(t,s,a){if(t.lazy)return!0;if(!t.loader)return!1;let r=s!=null&&s[t.id]!==void 0,n=a!=null&&a[t.id]!==void 0;return!r&&n?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!n}function hc(t,s,a){let r=!s||a.route.id!==s.route.id,n=t[a.route.id]===void 0;return r||n}function Un(t,s){let a=t.route.path;return t.pathname!==s.pathname||a!=null&&a.endsWith("*")&&t.params["*"]!==s.params["*"]}function Br(t,s){if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate(s);if(typeof a=="boolean")return a}return s.defaultShouldRevalidate}function Lr(t,s,a,r,n){var o;let l;if(t){let h=r[t];je(h,"No route found to patch children into: routeId = "+t),h.children||(h.children=[]),l=h.children}else l=a;let i=s.filter(h=>!l.some(u=>On(h,u))),c=la(i,n,[t||"_","patch",String(((o=l)==null?void 0:o.length)||"0")],r);l.push(...c)}function On(t,s){return"id"in t&&"id"in s&&t.id===s.id?!0:t.index===s.index&&t.path===s.path&&t.caseSensitive===s.caseSensitive?(!t.children||t.children.length===0)&&(!s.children||s.children.length===0)?!0:t.children.every((a,r)=>{var n;return(n=s.children)==null?void 0:n.some(o=>On(a,o))}):!1}async function xc(t,s,a){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let n=a[t.id];je(n,"No route found in manifest");let o={};for(let l in r){let c=n[l]!==void 0&&l!=="hasErrorBoundary";fs(!c,'Route "'+n.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!c&&!Li.has(l)&&(o[l]=r[l])}Object.assign(n,o),Object.assign(n,Ue({},s(n),{lazy:void 0}))}async function fc(t){let{matches:s}=t,a=s.filter(n=>n.shouldLoad);return(await Promise.all(a.map(n=>n.resolve()))).reduce((n,o,l)=>Object.assign(n,{[a[l].route.id]:o}),{})}async function gc(t,s,a,r,n,o,l,i,c,h){let u=o.map(v=>v.route.lazy?xc(v.route,c,i):void 0),m=o.map((v,y)=>{let x=u[y],g=n.some(p=>p.route.id===v.route.id);return Ue({},v,{shouldLoad:g,resolve:async p=>(p&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(g=!0),g?pc(s,r,v,x,p,h):Promise.resolve({type:Me.data,result:void 0}))})}),f=await t({matches:m,request:r,params:o[0].params,fetcherKey:l,context:h});try{await Promise.all(u)}catch{}return f}async function pc(t,s,a,r,n,o){let l,i,c=h=>{let u,m=new Promise((y,x)=>u=x);i=()=>u(),s.signal.addEventListener("abort",i);let f=y=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+a.route.id+"]"))):h({request:s,params:a.params,context:o},...y!==void 0?[y]:[]),v=(async()=>{try{return{type:"data",result:await(n?n(x=>f(x)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([v,m])};try{let h=a.route[t];if(r)if(h){let u,[m]=await Promise.all([c(h).catch(f=>{u=f}),r]);if(u!==void 0)throw u;l=m}else if(await r,h=a.route[t],h)l=await c(h);else if(t==="action"){let u=new URL(s.url),m=u.pathname+u.search;throw at(405,{method:s.method,pathname:m,routeId:a.route.id})}else return{type:Me.data,result:void 0};else if(h)l=await c(h);else{let u=new URL(s.url),m=u.pathname+u.search;throw at(404,{pathname:m})}je(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+a.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Me.error,result:h}}finally{i&&s.signal.removeEventListener("abort",i)}return l}async function bc(t){let{result:s,type:a}=t;if(Hn(s)){let m;try{let f=s.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?s.body==null?m=null:m=await s.json():m=await s.text()}catch(f){return{type:Me.error,error:f}}return a===Me.error?{type:Me.error,error:new ia(s.status,s.statusText,m),statusCode:s.status,headers:s.headers}:{type:Me.data,data:m,statusCode:s.status,headers:s.headers}}if(a===Me.error){if(Gr(s)){var r,n;if(s.data instanceof Error){var o,l;return{type:Me.error,error:s.data,statusCode:(o=s.init)==null?void 0:o.status,headers:(l=s.init)!=null&&l.headers?new Headers(s.init.headers):void 0}}return{type:Me.error,error:new ia(((r=s.init)==null?void 0:r.status)||500,void 0,s.data),statusCode:Vs(s)?s.status:void 0,headers:(n=s.init)!=null&&n.headers?new Headers(s.init.headers):void 0}}return{type:Me.error,error:s,statusCode:Vs(s)?s.status:void 0}}if(Nc(s)){var i,c;return{type:Me.deferred,deferredData:s,statusCode:(i=s.init)==null?void 0:i.status,headers:((c=s.init)==null?void 0:c.headers)&&new Headers(s.init.headers)}}if(Gr(s)){var h,u;return{type:Me.data,data:s.data,statusCode:(h=s.init)==null?void 0:h.status,headers:(u=s.init)!=null&&u.headers?new Headers(s.init.headers):void 0}}return{type:Me.data,data:s}}function yc(t,s,a,r,n,o){let l=t.headers.get("Location");if(je(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!dr.test(l)){let i=r.slice(0,r.findIndex(c=>c.route.id===a)+1);l=Ba(new URL(s.url),i,n,!0,l,o),t.headers.set("Location",l)}return t}function Ur(t,s,a){if(dr.test(t)){let r=t,n=r.startsWith("//")?new URL(s.protocol+r):new URL(r),o=bs(n.pathname,a)!=null;if(n.origin===s.origin&&o)return n.pathname+n.search+n.hash}return t}function ds(t,s,a,r){let n=t.createURL(zn(s)).toString(),o={signal:a};if(r&&ft(r.formMethod)){let{formMethod:l,formEncType:i}=r;o.method=l.toUpperCase(),i==="application/json"?(o.headers=new Headers({"Content-Type":i}),o.body=JSON.stringify(r.json)):i==="text/plain"?o.body=r.text:i==="application/x-www-form-urlencoded"&&r.formData?o.body=Ua(r.formData):o.body=r.formData}return new Request(n,o)}function Ua(t){let s=new URLSearchParams;for(let[a,r]of t.entries())s.append(a,typeof r=="string"?r:r.name);return s}function Or(t){let s=new FormData;for(let[a,r]of t.entries())s.append(a,r);return s}function vc(t,s,a,r,n){let o={},l=null,i,c=!1,h={},u=a&&lt(a[1])?a[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in s))return;let f=m.route.id,v=s[f];if(je(!Wt(v),"Cannot handle redirect results in processLoaderData"),lt(v)){let y=v.error;u!==void 0&&(y=u,u=void 0),l=l||{};{let x=Gt(t,f);l[x.route.id]==null&&(l[x.route.id]=y)}o[f]=void 0,c||(c=!0,i=Vs(v.error)?v.error.status:500),v.headers&&(h[f]=v.headers)}else Mt(v)?(r.set(f,v.deferredData),o[f]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!c&&(i=v.statusCode),v.headers&&(h[f]=v.headers)):(o[f]=v.data,v.statusCode&&v.statusCode!==200&&!c&&(i=v.statusCode),v.headers&&(h[f]=v.headers))}),u!==void 0&&a&&(l={[a[0]]:u},o[a[0]]=void 0),{loaderData:o,errors:l,statusCode:i||200,loaderHeaders:h}}function zr(t,s,a,r,n,o,l){let{loaderData:i,errors:c}=vc(s,a,r,l);return n.forEach(h=>{let{key:u,match:m,controller:f}=h,v=o[u];if(je(v,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(lt(v)){let y=Gt(t.matches,m==null?void 0:m.route.id);c&&c[y.route.id]||(c=Ue({},c,{[y.route.id]:v.error})),t.fetchers.delete(u)}else if(Wt(v))je(!1,"Unhandled fetcher revalidation redirect");else if(Mt(v))je(!1,"Unhandled fetcher deferred data");else{let y=Rt(v.data);t.fetchers.set(u,y)}}),{loaderData:i,errors:c}}function Hr(t,s,a,r){let n=Ue({},s);for(let o of a){let l=o.route.id;if(s.hasOwnProperty(l)?s[l]!==void 0&&(n[l]=s[l]):t[l]!==void 0&&o.route.loader&&(n[l]=t[l]),r&&r.hasOwnProperty(l))break}return n}function Vr(t){return t?lt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Gt(t,s){return(s?t.slice(0,t.findIndex(r=>r.route.id===s)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $r(t){let s=t.length===1?t[0]:t.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:s}],route:s}}function at(t,s){let{pathname:a,routeId:r,method:n,type:o,message:l}=s===void 0?{}:s,i="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(i="Bad Request",n&&a&&r?c="You made a "+n+' request to "'+a+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):t===403?(i="Forbidden",c='Route "'+r+'" does not match URL "'+a+'"'):t===404?(i="Not Found",c='No route matches URL "'+a+'"'):t===405&&(i="Method Not Allowed",n&&a&&r?c="You made a "+n.toUpperCase()+' request to "'+a+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":n&&(c='Invalid request method "'+n.toUpperCase()+'"')),new ia(t||500,i,new Error(c),!0)}function ta(t){let s=Object.entries(t);for(let a=s.length-1;a>=0;a--){let[r,n]=s[a];if(Wt(n))return{key:r,result:n}}}function zn(t){let s=typeof t=="string"?Lt(t):t;return Kt(Ue({},s,{hash:""}))}function jc(t,s){return t.pathname!==s.pathname||t.search!==s.search?!1:t.hash===""?s.hash!=="":t.hash===s.hash?!0:s.hash!==""}function wc(t){return Hn(t.result)&&lc.has(t.result.status)}function Mt(t){return t.type===Me.deferred}function lt(t){return t.type===Me.error}function Wt(t){return(t&&t.type)===Me.redirect}function Gr(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Nc(t){let s=t;return s&&typeof s=="object"&&typeof s.data=="object"&&typeof s.subscribe=="function"&&typeof s.cancel=="function"&&typeof s.resolveData=="function"}function Hn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Sc(t){return oc.has(t.toLowerCase())}function ft(t){return rc.has(t.toLowerCase())}async function kc(t,s,a,r,n){let o=Object.entries(s);for(let l=0;l<o.length;l++){let[i,c]=o[l],h=t.find(f=>(f==null?void 0:f.route.id)===i);if(!h)continue;let u=r.find(f=>f.route.id===h.route.id),m=u!=null&&!Un(u,h)&&(n&&n[h.route.id])!==void 0;Mt(c)&&m&&await ur(c,a,!1).then(f=>{f&&(s[i]=f)})}}async function Cc(t,s,a){for(let r=0;r<a.length;r++){let{key:n,routeId:o,controller:l}=a[r],i=s[n];t.find(h=>(h==null?void 0:h.route.id)===o)&&Mt(i)&&(je(l,"Expected an AbortController for revalidating fetcher deferred result"),await ur(i,l.signal,!0).then(h=>{h&&(s[n]=h)}))}}async function ur(t,s,a){if(a===void 0&&(a=!1),!await t.deferredData.resolveData(s)){if(a)try{return{type:Me.data,data:t.deferredData.unwrappedData}}catch(n){return{type:Me.error,error:n}}return{type:Me.data,data:t.deferredData.data}}}function mr(t){return new URLSearchParams(t).getAll("index").some(s=>s==="")}function As(t,s){let a=typeof s=="string"?Lt(s).search:s.search;if(t[t.length-1].route.index&&mr(a||""))return t[t.length-1];let r=Tn(t);return r[r.length-1]}function Wr(t){let{formMethod:s,formAction:a,formEncType:r,text:n,formData:o,json:l}=t;if(!(!s||!a||!r)){if(n!=null)return{formMethod:s,formAction:a,formEncType:r,formData:void 0,json:void 0,text:n};if(o!=null)return{formMethod:s,formAction:a,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:s,formAction:a,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ma(t,s){return s?{state:"loading",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Fc(t,s){return{state:"submitting",location:t,formMethod:s.formMethod,formAction:s.formAction,formEncType:s.formEncType,formData:s.formData,json:s.json,text:s.text}}function _s(t,s){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:s}}function Pc(t,s){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:s?s.data:void 0}}function Rt(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ec(t,s){try{let a=t.sessionStorage.getItem(Ln);if(a){let r=JSON.parse(a);for(let[n,o]of Object.entries(r||{}))o&&Array.isArray(o)&&s.set(n,new Set(o||[]))}}catch{}}function _c(t,s){if(s.size>0){let a={};for(let[r,n]of s)a[r]=[...n];try{t.sessionStorage.setItem(Ln,JSON.stringify(a))}catch(r){fs(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ca(){return ca=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ca.apply(this,arguments)}const ga=d.createContext(null),Vn=d.createContext(null),Ut=d.createContext(null),hr=d.createContext(null),Pt=d.createContext({outlet:null,matches:[],isDataRoute:!1}),$n=d.createContext(null);function Dc(t,s){let{relative:a}=s===void 0?{}:s;ys()||je(!1);let{basename:r,navigator:n}=d.useContext(Ut),{hash:o,pathname:l,search:i}=Wn(t,{relative:a}),c=l;return r!=="/"&&(c=l==="/"?r:Ct([r,l])),n.createHref({pathname:c,search:i,hash:o})}function ys(){return d.useContext(hr)!=null}function bt(){return ys()||je(!1),d.useContext(hr).location}function Gn(t){d.useContext(Ut).static||d.useLayoutEffect(t)}function et(){let{isDataRoute:t}=d.useContext(Pt);return t?$c():Rc()}function Rc(){ys()||je(!1);let t=d.useContext(ga),{basename:s,future:a,navigator:r}=d.useContext(Ut),{matches:n}=d.useContext(Pt),{pathname:o}=bt(),l=JSON.stringify(xa(n,a.v7_relativeSplatPath)),i=d.useRef(!1);return Gn(()=>{i.current=!0}),d.useCallback(function(h,u){if(u===void 0&&(u={}),!i.current)return;if(typeof h=="number"){r.go(h);return}let m=fa(h,JSON.parse(l),o,u.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:Ct([s,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[s,r,l,o,t])}function Mc(){let{matches:t}=d.useContext(Pt),s=t[t.length-1];return s?s.params:{}}function Wn(t,s){let{relative:a}=s===void 0?{}:s,{future:r}=d.useContext(Ut),{matches:n}=d.useContext(Pt),{pathname:o}=bt(),l=JSON.stringify(xa(n,r.v7_relativeSplatPath));return d.useMemo(()=>fa(t,JSON.parse(l),o,a==="path"),[t,l,o,a])}function Ic(t,s,a,r){ys()||je(!1);let{navigator:n}=d.useContext(Ut),{matches:o}=d.useContext(Pt),l=o[o.length-1],i=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=bt(),u;u=h;let m=u.pathname||"/",f=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=$t(t,{pathname:f});return Uc(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:Ct([c,n.encodeLocation?n.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ct([c,n.encodeLocation?n.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,a,r)}function Ac(){let t=Vc(),s=Vs(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},s),a?d.createElement("pre",{style:n},a):null,null)}const Tc=d.createElement(Ac,null);class Bc extends d.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?d.createElement(Pt.Provider,{value:this.props.routeContext},d.createElement($n.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lc(t){let{routeContext:s,match:a,children:r}=t,n=d.useContext(ga);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),d.createElement(Pt.Provider,{value:s},r)}function Uc(t,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var o;if(!a)return null;if(a.errors)t=a.matches;else if((o=r)!=null&&o.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let l=t,i=(n=a)==null?void 0:n.errors;if(i!=null){let u=l.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);u>=0||je(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,h=-1;if(a&&r&&r.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=u),m.route.id){let{loaderData:f,errors:v}=a,y=m.route.loader&&f[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||y){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((u,m,f)=>{let v,y=!1,x=null,g=null;a&&(v=i&&m.route.id?i[m.route.id]:void 0,x=m.route.errorElement||Tc,c&&(h<0&&f===0?(Gc("route-fallback"),y=!0,g=null):h===f&&(y=!0,g=m.route.hydrateFallbackElement||null)));let b=s.concat(l.slice(0,f+1)),p=()=>{let j;return v?j=x:y?j=g:m.route.Component?j=d.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=u,d.createElement(Lc,{match:m,routeContext:{outlet:u,matches:b,isDataRoute:a!=null},children:j})};return a&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?d.createElement(Bc,{location:a.location,revalidation:a.revalidation,component:x,error:v,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):p()},null)}var Yn=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Yn||{}),Kn=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kn||{});function Oc(t){let s=d.useContext(ga);return s||je(!1),s}function zc(t){let s=d.useContext(Vn);return s||je(!1),s}function Hc(t){let s=d.useContext(Pt);return s||je(!1),s}function qn(t){let s=Hc(),a=s.matches[s.matches.length-1];return a.route.id||je(!1),a.route.id}function Vc(){var t;let s=d.useContext($n),a=zc(),r=qn();return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}function $c(){let{router:t}=Oc(Yn.UseNavigateStable),s=qn(Kn.UseNavigateStable),a=d.useRef(!1);return Gn(()=>{a.current=!0}),d.useCallback(function(n,o){o===void 0&&(o={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,ca({fromRouteId:s},o)))},[t,s])}const Yr={};function Gc(t,s,a){Yr[t]||(Yr[t]=!0)}function Wc(t,s){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function Oa(t){let{to:s,replace:a,state:r,relative:n}=t;ys()||je(!1);let{future:o,static:l}=d.useContext(Ut),{matches:i}=d.useContext(Pt),{pathname:c}=bt(),h=et(),u=fa(s,xa(i,o.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(u);return d.useEffect(()=>h(JSON.parse(m),{replace:a,state:r,relative:n}),[h,m,n,a,r]),null}function Yc(t){let{basename:s="/",children:a=null,location:r,navigationType:n=$e.Pop,navigator:o,static:l=!1,future:i}=t;ys()&&je(!1);let c=s.replace(/^\/*/,"/"),h=d.useMemo(()=>({basename:c,navigator:o,static:l,future:ca({v7_relativeSplatPath:!1},i)}),[c,i,o,l]);typeof r=="string"&&(r=Lt(r));let{pathname:u="/",search:m="",hash:f="",state:v=null,key:y="default"}=r,x=d.useMemo(()=>{let g=bs(u,c);return g==null?null:{location:{pathname:g,search:m,hash:f,state:v,key:y},navigationType:n}},[c,u,m,f,v,y,n]);return x==null?null:d.createElement(Ut.Provider,{value:h},d.createElement(hr.Provider,{children:a,value:x}))}new Promise(()=>{});function Kc(t){let s={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(s,{element:d.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(s,{hydrateFallbackElement:d.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(s,{errorElement:d.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},$s.apply(this,arguments)}function qc(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}function Jc(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xc(t,s){return t.button===0&&(!s||s==="_self")&&!Jc(t)}const Zc=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qc="6";try{window.__reactRouterVersion=Qc}catch{}function ed(t,s){return uc({basename:s==null?void 0:s.basename,future:$s({},s==null?void 0:s.future,{v7_prependBasename:!0}),history:Ai({window:s==null?void 0:s.window}),hydrationData:(s==null?void 0:s.hydrationData)||td(),routes:t,mapRouteProperties:Kc,dataStrategy:s==null?void 0:s.dataStrategy,patchRoutesOnNavigation:s==null?void 0:s.patchRoutesOnNavigation,window:s==null?void 0:s.window}).initialize()}function td(){var t;let s=(t=window)==null?void 0:t.__staticRouterHydrationData;return s&&s.errors&&(s=$s({},s,{errors:sd(s.errors)})),s}function sd(t){if(!t)return null;let s=Object.entries(t),a={};for(let[r,n]of s)if(n&&n.__type==="RouteErrorResponse")a[r]=new ia(n.status,n.statusText,n.data,n.internal===!0);else if(n&&n.__type==="Error"){if(n.__subType){let o=window[n.__subType];if(typeof o=="function")try{let l=new o(n.message);l.stack="",a[r]=l}catch{}}if(a[r]==null){let o=new Error(n.message);o.stack="",a[r]=o}}else a[r]=n;return a}const ad=d.createContext({isTransitioning:!1}),rd=d.createContext(new Map),nd="startTransition",Kr=Ri[nd],od="flushSync",qr=Mi[od];function ld(t){Kr?Kr(t):t()}function Ds(t){qr?qr(t):t()}class id{constructor(){this.status="pending",this.promise=new Promise((s,a)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",s(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",a(r))}})}}function cd(t){let{fallbackElement:s,router:a,future:r}=t,[n,o]=d.useState(a.state),[l,i]=d.useState(),[c,h]=d.useState({isTransitioning:!1}),[u,m]=d.useState(),[f,v]=d.useState(),[y,x]=d.useState(),g=d.useRef(new Map),{v7_startTransition:b}=r||{},p=d.useCallback(_=>{b?ld(_):_()},[b]),j=d.useCallback((_,I)=>{let{deletedFetchers:k,flushSync:E,viewTransitionOpts:R}=I;_.fetchers.forEach((z,oe)=>{z.data!==void 0&&g.current.set(oe,z.data)}),k.forEach(z=>g.current.delete(z));let L=a.window==null||a.window.document==null||typeof a.window.document.startViewTransition!="function";if(!R||L){E?Ds(()=>o(_)):p(()=>o(_));return}if(E){Ds(()=>{f&&(u&&u.resolve(),f.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let z=a.window.document.startViewTransition(()=>{Ds(()=>o(_))});z.finished.finally(()=>{Ds(()=>{m(void 0),v(void 0),i(void 0),h({isTransitioning:!1})})}),Ds(()=>v(z));return}f?(u&&u.resolve(),f.skipTransition(),x({state:_,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(i(_),h({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[a.window,f,u,g,p]);d.useLayoutEffect(()=>a.subscribe(j),[a,j]),d.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new id)},[c]),d.useEffect(()=>{if(u&&l&&a.window){let _=l,I=u.promise,k=a.window.document.startViewTransition(async()=>{p(()=>o(_)),await I});k.finished.finally(()=>{m(void 0),v(void 0),i(void 0),h({isTransitioning:!1})}),v(k)}},[p,l,u,a.window]),d.useEffect(()=>{u&&l&&n.location.key===l.location.key&&u.resolve()},[u,f,n.location,l]),d.useEffect(()=>{!c.isTransitioning&&y&&(i(y.state),h({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),x(void 0))},[c.isTransitioning,y]),d.useEffect(()=>{},[]);let P=d.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:_=>a.navigate(_),push:(_,I,k)=>a.navigate(_,{state:I,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(_,I,k)=>a.navigate(_,{replace:!0,state:I,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[a]),C=a.basename||"/",D=d.useMemo(()=>({router:a,navigator:P,static:!1,basename:C}),[a,P,C]),N=d.useMemo(()=>({v7_relativeSplatPath:a.future.v7_relativeSplatPath}),[a.future.v7_relativeSplatPath]);return d.useEffect(()=>Wc(r,a.future),[r,a.future]),d.createElement(d.Fragment,null,d.createElement(ga.Provider,{value:D},d.createElement(Vn.Provider,{value:n},d.createElement(rd.Provider,{value:g.current},d.createElement(ad.Provider,{value:c},d.createElement(Yc,{basename:C,location:n.location,navigationType:n.historyAction,navigator:P,future:N},n.initialized||a.future.v7_partialHydration?d.createElement(dd,{routes:a.routes,future:a.future,state:n}):s))))),null)}const dd=d.memo(ud);function ud(t){let{routes:s,future:a,state:r}=t;return Ic(s,void 0,r,a)}const md=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jn=d.forwardRef(function(s,a){let{onClick:r,relative:n,reloadDocument:o,replace:l,state:i,target:c,to:h,preventScrollReset:u,viewTransition:m}=s,f=qc(s,Zc),{basename:v}=d.useContext(Ut),y,x=!1;if(typeof h=="string"&&hd.test(h)&&(y=h,md))try{let j=new URL(window.location.href),P=h.startsWith("//")?new URL(j.protocol+h):new URL(h),C=bs(P.pathname,v);P.origin===j.origin&&C!=null?h=C+P.search+P.hash:x=!0}catch{}let g=Dc(h,{relative:n}),b=xd(h,{replace:l,state:i,target:c,preventScrollReset:u,relative:n,viewTransition:m});function p(j){r&&r(j),j.defaultPrevented||b(j)}return d.createElement("a",$s({},f,{href:y||g,onClick:x||o?r:p,ref:a,target:c}))});var Jr;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jr||(Jr={}));var Xr;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xr||(Xr={}));function xd(t,s){let{target:a,replace:r,state:n,preventScrollReset:o,relative:l,viewTransition:i}=s===void 0?{}:s,c=et(),h=bt(),u=Wn(t,{relative:l});return d.useCallback(m=>{if(Xc(m,a)){m.preventDefault();let f=r!==void 0?r:Kt(h)===Kt(u);c(t,{replace:f,state:n,preventScrollReset:o,relative:l,viewTransition:i})}},[h,c,u,r,n,a,t,o,l,i])}function Xn(t){var s,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(a=Xn(t[s]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function Zn(){for(var t,s,a=0,r="",n=arguments.length;a<n;a++)(t=arguments[a])&&(s=Xn(t))&&(r&&(r+=" "),r+=s);return r}const Zr=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qr=Zn,pa=(t,s)=>a=>{var r;if((s==null?void 0:s.variants)==null)return Qr(t,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:n,defaultVariants:o}=s,l=Object.keys(n).map(h=>{const u=a==null?void 0:a[h],m=o==null?void 0:o[h];if(u===null)return null;const f=Zr(u)||Zr(m);return n[h][f]}),i=a&&Object.entries(a).reduce((h,u)=>{let[m,f]=u;return f===void 0||(h[m]=f),h},{}),c=s==null||(r=s.compoundVariants)===null||r===void 0?void 0:r.reduce((h,u)=>{let{class:m,className:f,...v}=u;return Object.entries(v).every(y=>{let[x,g]=y;return Array.isArray(g)?g.includes({...o,...i}[x]):{...o,...i}[x]===g})?[...h,m,f]:h},[]);return Qr(t,l,c,a==null?void 0:a.class,a==null?void 0:a.className)},xr="-",fd=t=>{const s=pd(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const i=l.split(xr);return i[0]===""&&i.length!==1&&i.shift(),Qn(i,s)||gd(l)},getConflictingClassGroupIds:(l,i)=>{const c=a[l]||[];return i&&r[l]?[...c,...r[l]]:c}}},Qn=(t,s)=>{var l;if(t.length===0)return s.classGroupId;const a=t[0],r=s.nextPart.get(a),n=r?Qn(t.slice(1),r):void 0;if(n)return n;if(s.validators.length===0)return;const o=t.join(xr);return(l=s.validators.find(({validator:i})=>i(o)))==null?void 0:l.classGroupId},en=/^\[(.+)\]$/,gd=t=>{if(en.test(t)){const s=en.exec(t)[1],a=s==null?void 0:s.substring(0,s.indexOf(":"));if(a)return"arbitrary.."+a}},pd=t=>{const{theme:s,prefix:a}=t,r={nextPart:new Map,validators:[]};return yd(Object.entries(t.classGroups),a).forEach(([o,l])=>{za(l,r,o,s)}),r},za=(t,s,a,r)=>{t.forEach(n=>{if(typeof n=="string"){const o=n===""?s:tn(s,n);o.classGroupId=a;return}if(typeof n=="function"){if(bd(n)){za(n(r),s,a,r);return}s.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([o,l])=>{za(l,tn(s,o),a,r)})})},tn=(t,s)=>{let a=t;return s.split(xr).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},bd=t=>t.isThemeGetter,yd=(t,s)=>s?t.map(([a,r])=>{const n=r.map(o=>typeof o=="string"?s+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,i])=>[s+l,i])):o);return[a,n]}):t,vd=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=new Map,r=new Map;const n=(o,l)=>{a.set(o,l),s++,s>t&&(s=0,r=a,a=new Map)};return{get(o){let l=a.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return n(o,l),l},set(o,l){a.has(o)?a.set(o,l):n(o,l)}}},eo="!",jd=t=>{const{separator:s,experimentalParseClassName:a}=t,r=s.length===1,n=s[0],o=s.length,l=i=>{const c=[];let h=0,u=0,m;for(let g=0;g<i.length;g++){let b=i[g];if(h===0){if(b===n&&(r||i.slice(g,g+o)===s)){c.push(i.slice(u,g)),u=g+o;continue}if(b==="/"){m=g;continue}}b==="["?h++:b==="]"&&h--}const f=c.length===0?i:i.substring(u),v=f.startsWith(eo),y=v?f.substring(1):f,x=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return a?i=>a({className:i,parseClassName:l}):l},wd=t=>{if(t.length<=1)return t;const s=[];let a=[];return t.forEach(r=>{r[0]==="["?(s.push(...a.sort(),r),a=[]):a.push(r)}),s.push(...a.sort()),s},Nd=t=>({cache:vd(t.cacheSize),parseClassName:jd(t),...fd(t)}),Sd=/\s+/,kd=(t,s)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n}=s,o=[],l=t.trim().split(Sd);let i="";for(let c=l.length-1;c>=0;c-=1){const h=l[c],{modifiers:u,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:v}=a(h);let y=!!v,x=r(y?f.substring(0,v):f);if(!x){if(!y){i=h+(i.length>0?" "+i:i);continue}if(x=r(f),!x){i=h+(i.length>0?" "+i:i);continue}y=!1}const g=wd(u).join(":"),b=m?g+eo:g,p=b+x;if(o.includes(p))continue;o.push(p);const j=n(x,y);for(let P=0;P<j.length;++P){const C=j[P];o.push(b+C)}i=h+(i.length>0?" "+i:i)}return i};function Cd(){let t=0,s,a,r="";for(;t<arguments.length;)(s=arguments[t++])&&(a=to(s))&&(r&&(r+=" "),r+=a);return r}const to=t=>{if(typeof t=="string")return t;let s,a="";for(let r=0;r<t.length;r++)t[r]&&(s=to(t[r]))&&(a&&(a+=" "),a+=s);return a};function Fd(t,...s){let a,r,n,o=l;function l(c){const h=s.reduce((u,m)=>m(u),t());return a=Nd(h),r=a.cache.get,n=a.cache.set,o=i,i(c)}function i(c){const h=r(c);if(h)return h;const u=kd(c,a);return n(c,u),u}return function(){return o(Cd.apply(null,arguments))}}const Le=t=>{const s=a=>a[t]||[];return s.isThemeGetter=!0,s},so=/^\[(?:([a-z-]+):)?(.+)\]$/i,Pd=/^\d+\/\d+$/,Ed=new Set(["px","full","screen"]),_d=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Rd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Md=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Id=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kt=t=>hs(t)||Ed.has(t)||Pd.test(t),Et=t=>vs(t,"length",Hd),hs=t=>!!t&&!Number.isNaN(Number(t)),Ia=t=>vs(t,"number",hs),Rs=t=>!!t&&Number.isInteger(Number(t)),Ad=t=>t.endsWith("%")&&hs(t.slice(0,-1)),xe=t=>so.test(t),_t=t=>_d.test(t),Td=new Set(["length","size","percentage"]),Bd=t=>vs(t,Td,ao),Ld=t=>vs(t,"position",ao),Ud=new Set(["image","url"]),Od=t=>vs(t,Ud,$d),zd=t=>vs(t,"",Vd),Ms=()=>!0,vs=(t,s,a)=>{const r=so.exec(t);return r?r[1]?typeof s=="string"?r[1]===s:s.has(r[1]):a(r[2]):!1},Hd=t=>Dd.test(t)&&!Rd.test(t),ao=()=>!1,Vd=t=>Md.test(t),$d=t=>Id.test(t),Gd=()=>{const t=Le("colors"),s=Le("spacing"),a=Le("blur"),r=Le("brightness"),n=Le("borderColor"),o=Le("borderRadius"),l=Le("borderSpacing"),i=Le("borderWidth"),c=Le("contrast"),h=Le("grayscale"),u=Le("hueRotate"),m=Le("invert"),f=Le("gap"),v=Le("gradientColorStops"),y=Le("gradientColorStopPositions"),x=Le("inset"),g=Le("margin"),b=Le("opacity"),p=Le("padding"),j=Le("saturate"),P=Le("scale"),C=Le("sepia"),D=Le("skew"),N=Le("space"),_=Le("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",xe,s],R=()=>[xe,s],L=()=>["",kt,Et],z=()=>["auto",hs,xe],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",xe],be=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[hs,xe];return{cacheSize:500,separator:":",theme:{colors:[Ms],spacing:[kt,Et],blur:["none","",_t,xe],brightness:X(),borderColor:[t],borderRadius:["none","","full",_t,xe],borderSpacing:R(),borderWidth:L(),contrast:X(),grayscale:ee(),hueRotate:X(),invert:ee(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Ad,Et],inset:E(),margin:E(),opacity:X(),padding:R(),saturate:X(),scale:X(),sepia:ee(),skew:X(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[_t]}],"break-after":[{"break-after":be()}],"break-before":[{"break-before":be()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),xe]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rs,xe]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Rs,xe]}],"grid-cols":[{"grid-cols":[Ms]}],"col-start-end":[{col:["auto",{span:["full",Rs,xe]},xe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ms]}],"row-start-end":[{row:["auto",{span:[Rs,xe]},xe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,s]}],"min-w":[{"min-w":[xe,s,"min","max","fit"]}],"max-w":[{"max-w":[xe,s,"none","full","min","max","fit","prose",{screen:[_t]},_t]}],h:[{h:[xe,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,s,"auto","min","max","fit"]}],"font-size":[{text:["base",_t,Et]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ia]}],"font-family":[{font:[Ms]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",hs,Ia]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kt,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kt,Et]}],"underline-offset":[{"underline-offset":["auto",kt,xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),Ld]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Od]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:de()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[kt,xe]}],"outline-w":[{outline:[kt,Et]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[kt,Et]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_t,zd]}],"shadow-color":[{shadow:[Ms]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_t,xe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[j]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Rs,xe]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[kt,Et,Ia]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Wd=Fd(Gd),Yd="/api";class st extends Error{constructor(s,a,r){super(s),this.status=a,this.data=r,this.name="APIError"}}class Kd{getAuthToken(){return localStorage.getItem("access_token")}async makeRequest(s,a={}){const{method:r="GET",body:n,headers:o={},skipAuth:l=!1,timeout:i=3e4}=a;if(!l){const h=this.getAuthToken();if(!h)throw localStorage.removeItem("access_token"),localStorage.removeItem("user_data"),localStorage.removeItem("supabase_refresh_token"),localStorage.removeItem("supabase_session_id"),localStorage.removeItem("supabase_user_id"),window.location.href="/login",new st("No authentication token found. Please log in again.",401);o.Authorization=`Bearer ${h}`}n&&!o["Content-Type"]&&(o["Content-Type"]="application/json");const c={method:r,headers:o,signal:AbortSignal.timeout(i)};n&&(c.body=typeof n=="string"?n:JSON.stringify(n));try{const h=`${Yd}${s}`;console.log("[API] Making request to:",h),console.log("[API] Request method:",r),console.log("[API] Request headers:",o),console.log("[API] Request body:",n);const u=await fetch(h,c);console.log("[API] Response status:",u.status),console.log("[API] Response headers:",Object.fromEntries(u.headers.entries()));const m=u.headers.get("content-type");let f;if(m!=null&&m.includes("application/json")?f=await u.json():f=await u.text(),console.log("[API] Response data:",f),!u.ok){if(u.status===401)throw localStorage.removeItem("access_token"),localStorage.removeItem("user_data"),localStorage.removeItem("supabase_refresh_token"),localStorage.removeItem("supabase_session_id"),localStorage.removeItem("supabase_user_id"),s==="/profile"?new st("Authentication required. Please log in again.",401):(window.location.href="/login",new st("Authentication required. Please log in again.",401));if(u.status===403)throw new st("Access denied. You do not have permission to perform this action.",403);if(u.status===404)throw new st("Resource not found. Please check the URL and try again.",404);if(u.status>=500){console.error(`Server error ${u.status}:`,f);let y="Server error. Please try again later.";throw s.includes("detection_history")?y="Unable to load detection history. Please try again later.":s.includes("meal_plan")?y="Unable to save/load meal plans. Please try again later.":s.includes("feedback")&&(y="Unable to save feedback. Please try again later."),new st(y,u.status,f)}const v=(f==null?void 0:f.message)||f||`HTTP ${u.status}: ${u.statusText}`;throw new st(v,u.status,f)}return f}catch(h){throw h instanceof TypeError&&h.message.includes("fetch")?new st("Network error. Please check your connection and try again.",0):h instanceof DOMException&&h.name==="TimeoutError"?new st("Request timeout. Please try again.",0):h instanceof st?h:new st(`Unexpected error: ${h instanceof Error?h.message:"Unknown error"}`,0)}}async get(s,a){return this.makeRequest(s,{...a,method:"GET"})}async post(s,a,r){return this.makeRequest(s,{...r,method:"POST",body:a})}async put(s,a,r){return this.makeRequest(s,{...r,method:"PUT",body:a})}async delete(s,a){return this.makeRequest(s,{...a,method:"DELETE"})}async patch(s,a,r){return this.makeRequest(s,{...r,method:"PATCH",body:a})}async login(s){return this.post("/login",s,{skipAuth:!0})}async register(s){return this.post("/register",s,{skipAuth:!0})}async refreshToken(s){return this.post("/refresh-token",s,{skipAuth:!0})}async getUserProfile(){return this.get("/profile")}async updateUserProfile(s){return this.put("/profile",s)}async getSicknessSettings(){return this.get("/settings/sickness")}async saveSicknessSettings(s){return this.post("/settings/sickness",s)}async getAllSettings(){return this.get("/settings")}async getMealPlansFromFlask(){try{return await this.get("/meal_plan")}catch(s){return console.warn("Meal plans API error (normal for new users):",s),{status:"success",meal_plans:[]}}}async saveMealPlanToFlask(s){return this.post("/meal_plan",s)}async updateMealPlanInFlask(s,a){return this.put(`/meal_plans/${s}`,a)}async deleteMealPlanFromFlask(s){return this.delete(`/meal_plans/${s}`)}async clearAllMealPlansFromFlask(){return this.delete("/meal_plans/clear")}async saveDetectionHistory(s){console.log("[API] saveDetectionHistory called with data:",s),console.log("[API] Making POST request to /food_detection/detection_history");const a=await this.post("/food_detection/detection_history",s);return console.log("[API] saveDetectionHistory response:",a),a}async updateDetectionHistoryWithResources(s){return this.post("/food_detection/update_resources",s)}async getDetectionHistory(){return this.get("/food_detection/detection_history")}async saveSession(s){return this.post("/session",s)}async getSession(s){return this.get(`/session/${s}`)}async updateSession(s,a){return this.put(`/session/${s}`,a)}async getAllSessions(){return this.get("/session")}async storeAISession(s){return this.post("/store-session",s)}async getPaymentPlans(){return this.get("/payment/plans")}async getPaymentSubscription(){return this.get("/payment/subscription")}async getPaymentUsage(){return this.get("/payment/usage")}async checkPaymentUsage(s){return this.get(`/payment/check-usage/${s}`)}async initializePayment(s){return this.post("/payment/initialize-payment",s)}async verifyPayment(s){return this.get(`/payment/verify-payment/${s}`)}async cancelSubscription(){return this.post("/payment/cancel-subscription")}async upgradeSubscription(s){return this.post("/payment/upgrade-subscription",s)}async smartPlan(s){return typeof s=="string"?this.post("https://ai-utu2.onrender.com/smart_plan",{ingredients:s},{skipAuth:!0}):this.post("https://ai-utu2.onrender.com/smart_plan",s,{skipAuth:!0})}async processAI(s){return this.post("https://ai-utu2.onrender.com/process",s,{skipAuth:!0})}async getInstructions(s){return this.post("https://ai-utu2.onrender.com/instructions",s,{skipAuth:!0})}async getResources(s){return this.post("https://ai-utu2.onrender.com/resources",s,{skipAuth:!0})}async detectFood(s){const a=new FormData;return a.append("image",s),this.post("https://ai-utu2.onrender.com/food_detect",a,{skipAuth:!0,headers:{}})}async getFoodDetectResources(s){return this.post("https://ai-utu2.onrender.com/food_detect_resources",{food_detected:s},{skipAuth:!0})}async getImage(s){return this.post("https://get-images-qa23.onrender.com/image",{prompt:s},{skipAuth:!0})}async proxyRequest(s){return this.get("/api/proxy?url="+encodeURIComponent(s),{skipAuth:!0})}}const Ne=new Kd;function ce(...t){return Wd(Zn(t))}const ro=d.createContext(void 0),sa="access_token",Is="user_data";function qd(){const[t,s]=d.useState(null),[a,r]=d.useState(null),[n,o]=d.useState(!0),l=d.useCallback(()=>{localStorage.removeItem(sa),localStorage.removeItem(Is),localStorage.removeItem("supabase_refresh_token"),localStorage.removeItem("supabase_session_id"),localStorage.removeItem("supabase_user_id"),s(null),r(null)},[]),i=d.useCallback(async()=>{try{l(),window.location.href="/login"}catch(u){console.error("Error signing out:",u),l(),window.location.href="/login"}},[l]),c=d.useCallback(async()=>{o(!0);try{const u=localStorage.getItem(sa),m=localStorage.getItem(Is),f=localStorage.getItem("supabase_refresh_token");if(u&&m)try{const v=JSON.parse(m);try{r(u),s(v);const y=await Ne.getUserProfile();if(y.status==="success"&&y.data){const x=y.data,g={uid:x.id,email:x.email,displayName:x.display_name,photoURL:void 0};s(g),localStorage.setItem(Is,JSON.stringify(g)),o(!1);return}}catch(y){if(console.error("Current token invalid, attempting refresh:",y),f)try{const x=await Ne.refreshToken({refresh_token:f});if(x.status==="success"&&x.access_token){localStorage.setItem(sa,x.access_token),localStorage.setItem("supabase_refresh_token",x.refresh_token||f),r(x.access_token),s(v);const g=await Ne.getUserProfile();if(g.status==="success"&&g.data){const b=g.data,p={uid:b.id,email:b.email,displayName:b.display_name,photoURL:void 0};s(p),localStorage.setItem(Is,JSON.stringify(p)),o(!1);return}}}catch(x){console.error("Token refresh failed:",x)}console.log("Unable to refresh token, clearing session"),l(),o(!1);return}o(!1);return}catch(v){console.error("Error parsing stored user data:",v),l()}l(),o(!1)}catch(u){console.error("Error in refreshAuth:",u),l(),o(!1)}},[l]);return d.useEffect(()=>{const u=setTimeout(()=>{c()},100);return()=>clearTimeout(u)},[c]),d.useEffect(()=>{const u=()=>{const m=localStorage.getItem(sa),f=localStorage.getItem(Is);if(m&&f)try{const v=JSON.parse(f);r(m),s(v)}catch(v){console.error("Error parsing user data from storage:",v),l()}else l()};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}},[l]),{user:t,token:a,loading:n,isAuthenticated:!!a&&!!t,refreshAuth:c,signOut:i,clearSession:l}}const tt=()=>{const t=d.useContext(ro);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Jd=pa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),O=d.forwardRef(({className:t,variant:s,size:a,asChild:r=!1,...n},o)=>{const l=r?ci:"button";return e.jsx(l,{className:ce(Jd({variant:s,size:a,className:t})),ref:o,...n})});O.displayName="Button";const _e=d.forwardRef(({className:t,type:s,...a},r)=>e.jsx("input",{type:s,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...a}));_e.displayName="Input";const fe=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));fe.displayName="Card";const ke=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:ce("flex flex-col space-y-1.5 p-6",t),...s}));ke.displayName="CardHeader";const Ce=d.forwardRef(({className:t,...s},a)=>e.jsx("h3",{ref:a,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...s}));Ce.displayName="CardTitle";const jt=d.forwardRef(({className:t,...s},a)=>e.jsx("p",{ref:a,className:ce("text-sm text-muted-foreground",t),...s}));jt.displayName="CardDescription";const ge=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:ce("p-6 pt-0",t),...s}));ge.displayName="CardContent";const Xd=d.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:ce("flex items-center p-6 pt-0",t),...s}));Xd.displayName="CardFooter";var Zd="Label",no=d.forwardRef((t,s)=>e.jsx(Ae.label,{...t,ref:s,onMouseDown:a=>{var n;a.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));no.displayName=Zd;var oo=no;const Qd=pa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),V=d.forwardRef(({className:t,...s},a)=>e.jsx(oo,{ref:a,className:ce(Qd(),t),...s}));V.displayName=oo.displayName;const eu=1,tu=1e6;let Aa=0;function su(){return Aa=(Aa+1)%Number.MAX_SAFE_INTEGER,Aa.toString()}const Ta=new Map,sn=t=>{if(Ta.has(t))return;const s=setTimeout(()=>{Ta.delete(t),zs({type:"REMOVE_TOAST",toastId:t})},tu);Ta.set(t,s)},au=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,eu)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?sn(a):t.toasts.forEach(r=>{sn(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},ra=[];let na={toasts:[]};function zs(t){na=au(na,t),ra.forEach(s=>{s(na)})}function ru({...t}){const s=su(),a=n=>zs({type:"UPDATE_TOAST",toast:{...n,id:s}}),r=()=>zs({type:"DISMISS_TOAST",toastId:s});return zs({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:n=>{n||r()}}}),{id:s,dismiss:r,update:a}}function Ze(){const[t,s]=d.useState(na);return d.useEffect(()=>(ra.push(s),()=>{const a=ra.indexOf(s);a>-1&&ra.splice(a,1)}),[t]),{...t,toast:ru,dismiss:a=>zs({type:"DISMISS_TOAST",toastId:a})}}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lo=(...t)=>t.filter((s,a,r)=>!!s&&s.trim()!==""&&r.indexOf(s)===a).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ou={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=d.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:l,...i},c)=>d.createElement("svg",{ref:c,...ou,width:s,height:s,stroke:t,strokeWidth:r?Number(a)*24/Number(s):a,className:lo("lucide",n),...i},[...l.map(([h,u])=>d.createElement(h,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(t,s)=>{const a=d.forwardRef(({className:r,...n},o)=>d.createElement(lu,{ref:o,iconNode:s,className:lo(`lucide-${nu(t)}`,r),...n}));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=U("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=U("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=U("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=U("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=U("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=U("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=U("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=U("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=U("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=U("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=U("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=U("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=U("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=U("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=U("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=U("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=U("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=U("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=U("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=U("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=U("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=U("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=U("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=U("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=U("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=U("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=U("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=U("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=U("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=U("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=U("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=U("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=U("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=U("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=U("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=U("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=U("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=U("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=U("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=U("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=U("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=U("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=U("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ps=({size:t="md",className:s="",showText:a=!0,onClick:r})=>{const n={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},o={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return e.jsxs("div",{className:`flex items-center gap-2 ${s} ${r?"cursor-pointer hover:opacity-80 transition-opacity":""}`,onClick:r,children:[e.jsx("div",{className:`${n[t]} flex-shrink-0`,children:e.jsx("img",{src:"/assets/images/image.png",alt:"MealLensAI Logo",className:"w-full h-full object-contain"})}),a&&e.jsx("span",{className:`font-semibold text-pink-400 ${o[t]}`,children:"meallensai"})]})},Ru=()=>{const t=et(),s=bt(),{toast:a}=Ze(),{isAuthenticated:r,refreshAuth:n}=tt(),[o,l]=d.useState(""),[i,c]=d.useState(""),[h,u]=d.useState(!1),[m,f]=d.useState(!1);d.useEffect(()=>{var y,x;if(r){const g=((x=(y=s.state)==null?void 0:y.from)==null?void 0:x.pathname)||"/";t(g,{replace:!0})}},[r,t,s]);const v=async y=>{var x,g;if(y.preventDefault(),!o||!i){a({title:"Error",description:"Please fill in all fields.",variant:"destructive"});return}f(!0);try{const b=await Ne.login({email:o,password:i});if(b.status==="success"&&b.access_token){localStorage.setItem("access_token",b.access_token),localStorage.setItem("supabase_refresh_token",b.refresh_token||""),localStorage.setItem("supabase_session_id",b.session_id||""),localStorage.setItem("supabase_user_id",b.user_id||"");const p={uid:b.user_id||"",email:o,displayName:b.name||o.split("@")[0],photoURL:null};localStorage.setItem("user_data",JSON.stringify(p)),await n(),a({title:"Welcome back!",description:"You have been successfully logged in."});const j=((g=(x=s.state)==null?void 0:x.from)==null?void 0:g.pathname)||"/";t(j,{replace:!0})}else a({title:"Login Failed",description:b.message||"Invalid email or password.",variant:"destructive"})}catch(b){console.error("Login error:",b),b instanceof st?a({title:"Login Failed",description:b.message,variant:"destructive"}):a({title:"Login Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{f(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/placeholder.svg?height=100&width=100')] opacity-5"}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(ps,{size:"xl",className:"justify-center mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Smart Food Detection & Recipe Generation"})]}),e.jsxs(fe,{className:"shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsxs(ke,{className:"space-y-1 pb-6",children:[e.jsx(Ce,{className:"text-2xl font-bold text-center text-gray-900",children:"Welcome Back"}),e.jsx("p",{className:"text-center text-gray-600",children:"Sign in to your account to continue"})]}),e.jsxs(ge,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{id:"email",type:"email",placeholder:"Enter your email",value:o,onChange:y=>l(y.target.value),className:"pl-10 h-12 border-gray-300 focus:border-orange-500 focus:ring-orange-500",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{id:"password",type:h?"text":"password",placeholder:"Enter your password",value:i,onChange:y=>c(y.target.value),className:"pl-10 pr-10 h-12 border-gray-300 focus:border-orange-500 focus:ring-orange-500",required:!0}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!h),children:h?e.jsx(Ga,{className:"h-4 w-4 text-gray-400"}):e.jsx(Wa,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsx(O,{type:"submit",disabled:m,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:m?e.jsxs(e.Fragment,{children:[e.jsx(qt,{className:"h-5 w-5 mr-3 animate-spin"}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(Jn,{to:"/signup",className:"font-semibold text-orange-600 hover:text-orange-700 transition-colors duration-200",children:"Sign up here"})]})})]})]})]})]})},Mu=()=>{const t=et(),s=bt(),{toast:a}=Ze(),{isAuthenticated:r,refreshAuth:n}=tt(),[o,l]=d.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[i,c]=d.useState(!1),[h,u]=d.useState(!1),[m,f]=d.useState(!1);d.useEffect(()=>{var p,j;if(r){const P=((j=(p=s.state)==null?void 0:p.from)==null?void 0:j.pathname)||"/";t(P,{replace:!0})}},[r,t,s]);const v=p=>{const{name:j,value:P}=p.target;l(C=>({...C,[j]:P}))},y=()=>o.firstName.trim()?o.lastName.trim()?o.email.trim()?o.email.includes("@")?o.password.length<6?(a({title:"Validation Error",description:"Password must be at least 6 characters long.",variant:"destructive"}),!1):o.password!==o.confirmPassword?(a({title:"Validation Error",description:"Passwords do not match.",variant:"destructive"}),!1):!0:(a({title:"Validation Error",description:"Please enter a valid email address.",variant:"destructive"}),!1):(a({title:"Validation Error",description:"Email is required.",variant:"destructive"}),!1):(a({title:"Validation Error",description:"Last name is required.",variant:"destructive"}),!1):(a({title:"Validation Error",description:"First name is required.",variant:"destructive"}),!1),x=async p=>{var j,P,C,D;if(p.preventDefault(),!!y()){f(!0);try{const N=await Ne.register({email:o.email,password:o.password,first_name:o.firstName,last_name:o.lastName});if(N.status!=="success"){a({title:"Signup Failed",description:N.message||"Failed to create account.",variant:"destructive"});return}const _=await Ne.login({email:o.email,password:o.password});if(_.status==="success")if(_.access_token){localStorage.setItem("access_token",_.access_token),_.refresh_token&&localStorage.setItem("supabase_refresh_token",_.refresh_token),_.session_id&&localStorage.setItem("supabase_session_id",_.session_id),_.user_id&&localStorage.setItem("supabase_user_id",_.user_id);const I={uid:_.user_id||((j=_.user_data)==null?void 0:j.id),email:((P=_.user_data)==null?void 0:P.email)||o.email,displayName:`${o.firstName} ${o.lastName}`,photoURL:null};localStorage.setItem("user_data",JSON.stringify(I)),await n(),a({title:"Account Created!",description:"Welcome to MealLensAI! Your account has been successfully created."});const k=((D=(C=s.state)==null?void 0:C.from)==null?void 0:D.pathname)||"/";t(k,{replace:!0})}else a({title:"Signup Failed",description:"Failed to retrieve authentication token.",variant:"destructive"});else a({title:"Auto-login Failed",description:_.message||"Account created but login failed. Please try logging in manually.",variant:"destructive"}),t("/login")}catch(N){console.error("Signup error:",N),N instanceof st?a({title:"Signup Failed",description:N.message,variant:"destructive"}):a({title:"Signup Failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{f(!1)}}},b=(p=>p.length===0?{strength:0,label:"",color:""}:p.length<6?{strength:25,label:"Weak",color:"bg-red-500"}:p.length<8?{strength:50,label:"Fair",color:"bg-yellow-500"}:p.length<12?{strength:75,label:"Good",color:"bg-blue-500"}:{strength:100,label:"Strong",color:"bg-green-500"})(o.password);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/placeholder.svg?height=100&width=100')] opacity-5"}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(ps,{size:"xl",className:"justify-center mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Join the Smart Food Revolution"})]}),e.jsxs(fe,{className:"shadow-2xl border-0 bg-white/80 backdrop-blur-sm",children:[e.jsxs(ke,{className:"space-y-1 pb-6",children:[e.jsx(Ce,{className:"text-2xl font-bold text-center text-gray-900",children:"Create Your Account"}),e.jsx("p",{className:"text-center text-gray-600",children:"Start your journey with AI-powered food detection"})]}),e.jsxs(ge,{className:"space-y-6",children:[e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"firstName",className:"text-sm font-medium text-gray-700",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{id:"firstName",name:"firstName",type:"text",placeholder:"First name",value:o.firstName,onChange:v,className:"pl-10 h-12 border-gray-300 focus:border-orange-500 focus:ring-orange-500",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"lastName",className:"text-sm font-medium text-gray-700",children:"Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{id:"lastName",name:"lastName",type:"text",placeholder:"Last name",value:o.lastName,onChange:v,className:"pl-10 h-12 border-gray-300 focus:border-orange-500 focus:ring-orange-500",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:o.email,onChange:v,className:"pl-10 h-12 border-gray-300 focus:border-orange-500 focus:ring-orange-500",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{id:"password",name:"password",type:i?"text":"password",placeholder:"Create a password",value:o.password,onChange:v,className:"pl-10 pr-10 h-12 border-gray-300 focus:border-orange-500 focus:ring-orange-500",required:!0}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!i),children:i?e.jsx(Ga,{className:"h-4 w-4 text-gray-400"}):e.jsx(Wa,{className:"h-4 w-4 text-gray-400"})})]}),o.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Password strength:"}),e.jsx("span",{className:`font-medium ${b.strength<=25?"text-red-600":b.strength<=50?"text-yellow-600":b.strength<=75?"text-blue-600":"text-green-600"}`,children:b.label})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${b.color}`,style:{width:`${b.strength}%`}})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",placeholder:"Confirm your password",value:o.confirmPassword,onChange:v,className:"pl-10 pr-10 h-12 border-gray-300 focus:border-orange-500 focus:ring-orange-500",required:!0}),e.jsx(O,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!h),children:h?e.jsx(Ga,{className:"h-4 w-4 text-gray-400"}):e.jsx(Wa,{className:"h-4 w-4 text-gray-400"})})]}),o.confirmPassword&&e.jsx("div",{className:"flex items-center space-x-2 text-sm",children:o.password===o.confirmPassword?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-green-600",children:"Passwords match"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Va,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-red-600",children:"Passwords do not match"})]})})]}),e.jsx(O,{type:"submit",disabled:m,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:m?e.jsxs(e.Fragment,{children:[e.jsx(qt,{className:"h-5 w-5 mr-3 animate-spin"}),"Creating account..."]}):"Create Account"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(Jn,{to:"/login",className:"font-semibold text-orange-600 hover:text-orange-700 transition-colors duration-200",children:"Sign in here"})]})})]})]})]})]})};class Iu{constructor(){Pr(this,"publicKey");this.publicKey="pk_test_..."}async initializePayment(s){var a;try{return await Ne.post("/payment/initialize-payment",{email:s.email,amount:s.amount,currency:s.currency,reference:s.reference,callback_url:s.callback_url,plan_id:(a=s.metadata)==null?void 0:a.plan_id,metadata:s.metadata})}catch(r){throw console.error("Error initializing payment:",r),new Error("Failed to initialize payment")}}async processInAppPayment(s){try{return await Ne.post("/payment/process-in-app",s)}catch(a){throw console.error("Error processing in-app payment:",a),new Error("Failed to process payment")}}async verifyPayment(s){try{return await Ne.get(`/payment/verify-payment/${s}`)}catch(a){throw console.error("Error verifying payment:",a),new Error("Failed to verify payment")}}async getSubscriptionPlans(){try{const s=await Ne.get("/payment/plans");if(s.status==="success")return s.plans||[];throw new Error(s.message||"Failed to load plans")}catch(s){throw console.error("Error loading subscription plans:",s),new Error("Failed to load subscription plans")}}async getUserSubscription(){try{const s=await Ne.get("/payment/subscription");return s.status==="success"?s.subscription:null}catch(s){return console.error("Error loading user subscription:",s),null}}async checkFeatureUsage(s){try{return await Ne.get(`/payment/check-usage/${s}`)}catch(a){throw console.error("Error checking feature usage:",a),new Error("Failed to check feature usage")}}async recordFeatureUsage(s){try{return await Ne.post(`/payment/record-usage/${s}`)}catch(a){throw console.error("Error recording feature usage:",a),new Error("Failed to record feature usage")}}calculateTrialStatus(s){const a=new Date(s),r=new Date(a.getTime()+3*24*60*60*1e3),n=new Date,o=n<r,l=Math.max(0,Math.ceil((r.getTime()-n.getTime())/(24*60*60*1e3))),i=!o;return{isInTrial:o,trialDaysLeft:l,trialEndDate:r.toISOString(),isExpired:i}}async canUseFeature(s){try{return(await this.checkFeatureUsage(s)).can_use||!1}catch(a){return console.error("Error checking feature access:",a),!1}}getPublicKey(){return this.publicKey}formatAmount(s,a="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:0}).format(s)}generateReference(){return`ML_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}const ms=new Iu,fo=d.createContext(void 0),ts=()=>{const t=d.useContext(fo);if(t===void 0)throw new Error("useSubscription must be used within a SubscriptionProvider");return t},Au=({children:t})=>{const{user:s,isAuthenticated:a}=tt(),{toast:r}=Ze(),[n,o]=d.useState(null),[l,i]=d.useState([]),[c,h]=d.useState(null),[u,m]=d.useState(!1),[f,v]=d.useState(!1),y=async()=>{if(!(!a||!s))try{m(!0);const[I,k]=await Promise.all([ms.getUserSubscription(),ms.getSubscriptionPlans()]);if(o(I),i(k),!I&&s.created_at){const E=ms.calculateTrialStatus(s.created_at);h(E)}}catch(I){console.error("Error loading subscription data:",I),r({title:"Error",description:"Failed to load subscription information",variant:"destructive"})}finally{m(!1)}},x=async()=>{try{v(!0);const I=await ms.getSubscriptionPlans();i(I)}catch(I){console.error("Error loading plans:",I),r({title:"Error",description:"Failed to load subscription plans",variant:"destructive"})}finally{v(!1)}},g=I=>{var k;if(((k=n==null?void 0:n.subscription)==null?void 0:k.status)==="active"||c!=null&&c.isInTrial)return!0;switch(I){case"food_detection":return!1;case"ingredient_detection":return!1;case"meal_planning":return!1;default:return!0}},b=I=>!g(I),p=async I=>{if(a)try{await ms.recordFeatureUsage(I)}catch(k){console.error("Error recording feature usage:",k)}},j=()=>(c==null?void 0:c.trialDaysLeft)||0,P=()=>(c==null?void 0:c.isInTrial)||!1,C=()=>(c==null?void 0:c.isExpired)||!1,D=async()=>{await y()},N=async()=>{await x()};d.useEffect(()=>{a&&s?y():(o(null),h(null))},[a,s]);const _={subscription:n,plans:l,trialStatus:c,loading:u,loadingPlans:f,canUseFeature:g,isFeatureLocked:b,refreshSubscription:D,refreshPlans:N,recordFeatureUsage:p,getTrialDaysLeft:j,isInTrial:P,isTrialExpired:C};return e.jsx(fo.Provider,{value:_,children:t})},gt=({message:t="Loading...",subMessage:s,showLogo:a=!0,size:r="md",fullScreen:n=!0})=>{const o={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},l={sm:"text-sm",md:"text-base",lg:"text-lg"};return e.jsx("div",{className:`${n?"fixed inset-0":"absolute inset-0"} bg-gradient-to-br from-red-400 via-red-500 to-orange-500 flex items-center justify-center z-50`,children:e.jsxs("div",{className:"text-center",children:[a&&e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(Ts,{className:"h-10 w-10 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"MealLensAI"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Your Smart Kitchen Assistant"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`${o[r]} border-4 border-white/20 rounded-full`}),e.jsx("div",{className:`${o[r]} border-4 border-transparent border-t-white rounded-full absolute inset-0 animate-spin`}),e.jsx("div",{className:`${o[r]} bg-white/10 rounded-full absolute inset-2 animate-pulse`})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:`text-white font-medium ${l[r]} mb-2`,children:t}),s&&e.jsx("p",{className:"text-white/70 text-sm mb-2",children:s}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]})]})})},br=({featureName:t,featureTitle:s,featureDescription:a,icon:r,className:n=""})=>{var b;const{isFeatureLocked:o,isInTrial:l,getTrialDaysLeft:i,subscription:c}=ts(),h=et(),u=o(t),m=l(),f=i(),v=((b=c==null?void 0:c.subscription)==null?void 0:b.status)==="active";if(!u)return null;const y=()=>{h("/payment")},g=v?{title:"Subscription Active",description:"You have access to all features",icon:e.jsx(pt,{className:"h-5 w-5 text-yellow-500"}),color:"text-[#FF6B6B]",bgColor:"bg-green-50",borderColor:"border-green-200"}:m?{title:`Free Trial - ${f} days left`,description:"Upgrade to continue using premium features",icon:e.jsx(Bt,{className:"h-5 w-5 text-orange-500"}),color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}:{title:"Premium Feature",description:"Subscribe to unlock this feature",icon:e.jsx(Jt,{className:"h-5 w-5 text-gray-500"}),color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200"};return e.jsx("div",{className:`w-full ${n}`,children:e.jsxs(fe,{className:`${g.bgColor} ${g.borderColor} border-2`,children:[e.jsxs(ke,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"p-3 rounded-full bg-white shadow-sm",children:r||g.icon})}),e.jsx(Ce,{className:`text-xl font-semibold ${g.color}`,children:s}),e.jsx(jt,{className:"text-base text-gray-600",children:a})]}),e.jsxs(ge,{className:"text-center space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:`font-medium ${g.color}`,children:g.title}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description})]}),m&&e.jsx("div",{className:"bg-white rounded-lg p-3 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[e.jsx(Bt,{className:"h-4 w-4 text-orange-500"}),e.jsxs("span",{className:"text-orange-700 font-medium",children:[f," day",f!==1?"s":""," remaining in trial"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(O,{onClick:y,className:"w-full bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] hover:from-[#FF5252] hover:to-[#FF6B6B] text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(pt,{className:"h-4 w-4 mr-2"}),m?"Upgrade Now":"Subscribe to Unlock"]}),m&&e.jsx(O,{variant:"outline",className:"w-full border-gray-300 text-gray-600 hover:bg-gray-50",onClick:()=>h("/settings"),children:"View Subscription Details"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[e.jsx(da,{className:"h-3 w-3"}),e.jsx("span",{children:"Premium features require active subscription"})]})})]})]})})},Tu=()=>{const t=et();d.useRef(null);const[s,a]=d.useState(null),[r,n]=d.useState(null),[o,l]=d.useState(!1),[i,c]=d.useState(""),[h,u]=d.useState([]),[m,f]=d.useState(null),[v,y]=d.useState(!1),[x,g]=d.useState(!1),{toast:b}=Ze(),{token:p,isAuthenticated:j,loading:P}=tt(),{isFeatureLocked:C,recordFeatureUsage:D}=ts();if(P)return e.jsx(gt,{message:"Analyzing your food...",subMessage:"Our AI is detecting ingredients and nutritional information",showLogo:!0,size:"lg",fullScreen:!0});if(!j)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-orange-50 flex items-center justify-center p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-6 sm:p-8 text-center space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl shadow-lg mx-auto",children:e.jsx(Xe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Authentication Required"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:"Please log in to use the food detection feature and save your detections to history."}),e.jsx(O,{onClick:()=>t("/login"),className:"w-full py-3 text-base sm:text-lg font-bold bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-lg hover:from-red-600 hover:to-orange-600 transition-all duration-300",children:"Go to Login"})]})]})});if(C("food_detection"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 flex items-center justify-center p-4 sm:p-6",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(br,{featureName:"food_detection",featureTitle:"AI Food Detection",featureDescription:"Upload photos of your meals to get detailed nutritional information, cooking instructions, and recipe suggestions powered by advanced AI.",icon:e.jsx(Xe,{className:"h-8 w-8 text-blue-600"})})})});const N=E=>{var L;const R=(L=E.target.files)==null?void 0:L[0];if(R){a(R);const z=new FileReader;z.onload=()=>{n(z.result)},z.readAsDataURL(R)}},_=E=>new Promise((R,L)=>{const z=document.createElement("canvas"),oe=z.getContext("2d"),de=new Image;de.onload=()=>{let{width:ee,height:be}=de;ee>be?ee>800&&(be=be*800/ee,ee=800):be>600&&(ee=ee*600/be,be=600),z.width=ee,z.height=be,oe==null||oe.drawImage(de,0,0,ee,be);const X=z.toDataURL("image/jpeg",.85);R(X)},de.onerror=L,de.src=URL.createObjectURL(E)}),I=async()=>{var L,z,oe,de,pe;if(!s){b({title:"Error",description:"Please select an image first.",variant:"destructive"});return}l(!0),c(""),u([]),f(null),g(!1);try{await D("food_detection")}catch(T){console.error("Error recording feature usage:",T)}let E;try{E=await _(s),console.log("[DetectFood] Image compressed successfully")}catch(T){console.error("[DetectFood] Image compression failed:",T),E=r||""}const R=new FormData;R.append("image",s);try{console.log("[DetectFood] Starting food detection...");const T=await fetch("https://ai-utu2.onrender.com/food_detect",{method:"POST",body:R});if(!T.ok)throw new Error(`HTTP error! status: ${T.status}`);const ee=await T.json();if(console.log("[DetectFood] Food detection response:",ee),ee.error){b({title:"Error",description:ee.error||"Failed to detect food.",variant:"destructive"});return}let be=ee.instructions||"";be=be.replace(/\*\*(.*?)\*\*/g,"<br><strong>$1</strong><br>"),be=be.replace(/\*\s*(.*?)\s*\*/g,"<p>$1</p>"),be=be.replace(/(\d+\.)/g,"<br>$1"),c(be),u(ee.food_detected||[]),g(!0);let X=null;if(ee.food_detected&&ee.food_detected.length>0)try{console.log("[DetectFood] Fetching resources for:",ee.food_detected);const Fe=await fetch("https://ai-utu2.onrender.com/food_detect_resources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({food_detected:ee.food_detected})});if(!Fe.ok)throw new Error(`Resources HTTP error! status: ${Fe.status}`);X=await Fe.json(),console.log("[DetectFood] Resources data received:",X),X&&(X.GoogleSearch&&Array.isArray(X.GoogleSearch)&&(X.GoogleSearch=X.GoogleSearch.flat()),X.YoutubeSearch&&Array.isArray(X.YoutubeSearch)&&(X.YoutubeSearch=X.YoutubeSearch.flat())),f(X)}catch(Fe){console.error("[DetectFood] Error fetching resources:",Fe),b({title:"Resources Error",description:"Failed to fetch cooking resources, but food detection completed.",variant:"destructive"}),X=null}else console.warn("[DetectFood] No detected foods, skipping resources fetch.");if(p)try{const Fe={recipe_type:"food_detection",suggestion:((L=ee.food_detected)==null?void 0:L.join(", "))||"",instructions:be,ingredients:"",detected_foods:JSON.stringify(ee.food_detected||[]),youtube:((oe=(z=X==null?void 0:X.YoutubeSearch)==null?void 0:z[0])==null?void 0:oe.link)||"",google:((pe=(de=X==null?void 0:X.GoogleSearch)==null?void 0:de[0])==null?void 0:pe.link)||"",resources:JSON.stringify(X||{}),image_data:E};console.log("[DetectFood] Attempting to save detection history with payload:",Fe);const J=await Ne.saveDetectionHistory(Fe);console.log("[DetectFood] Save detection history response:",J),J.status!=="success"?(console.error("[DetectFood] Failed to save detection history:",J),b({title:"Warning",description:"Food detected but failed to save to history.",variant:"destructive"})):(console.log("[DetectFood] Successfully saved detection history with resources"),b({title:"Success",description:"Detection and resources saved to history successfully.",variant:"default"}))}catch(Fe){console.error("[DetectFood] Error saving to history:",Fe),b({title:"Warning",description:"Food detected but failed to save to history.",variant:"destructive"})}else console.warn("[DetectFood] Skipping history save - no token")}catch(T){console.error("[DetectFood] Error detecting food:",T),b({title:"Error",description:"Failed to detect food. Please try again.",variant:"destructive"})}finally{l(!1)}},k=E=>{if(!E)return console.error("Invalid URL:",E),null;const R=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,L=E.match(R);return L&&L[2]&&L[2].length===11?L[2]:null};return e.jsxs("div",{className:"min-h-screen py-4 sm:py-6 lg:py-8 text-[#2D3436] leading-[1.6]",style:{fontFamily:"'Segoe UI', system-ui, -apple-system, sans-serif",background:"url('https://images.unsplash.com/photo-1495195134817-aeb325a55b65?auto=format&fit=crop&w=2000&q=80') center/cover no-repeat fixed"},children:[e.jsx("style",{children:`
        @keyframes loading-slide {
          0% { left: -30%; }
          100% { left: 100%; }
        }
      `}),e.jsx("div",{className:"max-w-[800px] mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-[rgba(255,255,255,0.95)] rounded-[1.5rem] sm:rounded-[2rem] shadow-[0_20px_40px_rgba(0,0,0,0.1)] overflow-hidden p-4 sm:p-6 lg:p-8 xl:p-12 relative",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-[2.5rem] font-[800] text-center mb-4 sm:mb-6 lg:mb-8",style:{background:"linear-gradient(135deg, #FF6B6B, #FF8E53)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent",letterSpacing:"-1px"},children:"Food Detection"}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("input",{type:"file",id:"fileInput",accept:"image/*",className:"w-full p-3 sm:p-4 border-2 border-[rgba(0,0,0,0.1)] rounded-xl sm:rounded-2xl text-sm sm:text-[1.1rem] transition-all duration-300 shadow-[0_4px_6px_rgba(0,0,0,0.05)] focus:border-[#FF6B6B] focus:shadow-[0_0_0_4px_rgba(255,107,107,0.2)]",onChange:N}),e.jsx("div",{className:"flex justify-center mt-3 sm:mt-4",children:e.jsx("img",{id:"imagePreview",src:r||"",alt:"Image Preview",className:`${r?"block":"hidden"} w-full max-w-xs sm:max-w-sm lg:max-w-md h-48 sm:h-56 lg:h-64 object-cover rounded-lg sm:rounded-xl`})})]}),e.jsx("button",{onClick:I,disabled:o||!s,className:"w-full bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white border-none rounded-xl sm:rounded-2xl py-3 sm:py-4 px-6 sm:px-8 text-lg sm:text-xl font-semibold transition-all duration-300 uppercase tracking-wider shadow-[0_4px_15px_rgba(255,107,107,0.3)] hover:translate-y-[-2px] hover:shadow-[0_6px_20px_rgba(255,107,107,0.4)] disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Processing...":"Detect Food"}),o&&e.jsx("div",{className:"flex justify-center mt-6 sm:mt-8",children:e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-[rgba(255,107,107,0.3)] border-t-[#FF6B6B] rounded-full animate-spin"})}),x&&e.jsxs("div",{className:"mt-4",children:[i&&e.jsx("div",{className:"mt-8 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Cooking Instructions"}),e.jsx("div",{className:"leading-[1.4] m-0 text-left",style:{lineHeight:"1.4",margin:0,textAlign:"left"},dangerouslySetInnerHTML:{__html:i}})]})}),v&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Youtube Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Video Tutorials"}),e.jsx("div",{className:"w-full h-1 bg-[#f0f0f0] rounded-sm my-4 overflow-hidden relative",children:e.jsx("div",{className:"absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] rounded-sm",style:{animation:"loading-slide 1.5s ease-in-out infinite"}})}),e.jsx("div",{className:"text-center",children:"Loading video tutorials..."})]})}),e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Google Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Recommended Articles"}),e.jsx("div",{className:"w-full h-1 bg-[#f0f0f0] rounded-sm my-4 overflow-hidden relative",children:e.jsx("div",{className:"absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] rounded-sm",style:{animation:"loading-slide 1.5s ease-in-out infinite"}})}),e.jsx("div",{className:"text-center",children:"Loading articles..."})]})})]}),m&&!v&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Youtube Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Video Tutorials"}),m.YoutubeSearch&&m.YoutubeSearch.length>0?e.jsx("div",{className:"space-y-6",children:m.YoutubeSearch.map((E,R)=>{if(!E||!E.link)return console.warn("Invalid YouTube item:",E),null;const L=k(E.link);return L?e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"relative w-full aspect-video bg-black",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${L}`,title:E.title||"YouTube Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-t-2xl"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight text-left",children:E.title||"Untitled Video"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4 text-left",children:E.channel||""})]})]},R):e.jsx("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight text-left",children:E.title||"Untitled Video"}),e.jsx("a",{href:E.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-red-500 text-base font-semibold hover:underline",children:"Watch Tutorial"})]})},R)}).filter(Boolean)}):e.jsx("p",{className:"text-center text-gray-600",children:"No video tutorials available."})]})}),e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Google Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Recommended Articles"}),m.GoogleSearch&&m.GoogleSearch.length>0?e.jsx("div",{className:"space-y-6",children:m.GoogleSearch.map((E,R)=>e.jsx("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight text-left",children:E.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-3 leading-relaxed text-left",children:E.description}),e.jsx("a",{href:E.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-400 text-white text-sm font-semibold px-4 py-2 rounded-xl shadow hover:from-blue-400 hover:to-blue-500 transition-colors",children:"Read More"})]})},R))}):e.jsx("p",{className:"text-center text-gray-600",children:"No articles available."})]})}),e.jsxs("div",{className:"mt-6 sm:mt-8 space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>t("/history"),className:"bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-[#FF5A5A] hover:to-[#FF7A3A] transform hover:-translate-y-1 text-base sm:text-lg",children:" Done - View in History"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>{a(null),n(null),c(""),u([]),f(null),g(!1)},className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white border-none rounded-lg sm:rounded-xl py-3 px-4 sm:px-6 text-sm sm:text-base font-medium transition-all duration-300 shadow-sm hover:shadow-md hover:from-blue-600 hover:to-blue-700 transform hover:-translate-y-1",children:" Detect Another"}),e.jsx("button",{onClick:()=>t("/"),className:"flex-1 bg-gradient-to-r from-gray-500 to-gray-600 text-white border-none rounded-lg sm:rounded-xl py-3 px-4 sm:px-6 text-sm sm:text-base font-medium transition-all duration-300 shadow-sm hover:shadow-md hover:from-gray-600 hover:to-gray-700 transform hover:-translate-y-1",children:" Go Home"})]})]})]})]})]})})]})},Bu=()=>{const t=et();bt();const[s,a]=d.useState("image"),[r,n]=d.useState(null),[o,l]=d.useState(null),[i,c]=d.useState(""),[h,u]=d.useState(!1),[m,f]=d.useState([]),[v,y]=d.useState([]),[x,g]=d.useState(""),[b,p]=d.useState(null),[j,P]=d.useState(!1),[C,D]=d.useState(""),[N,_]=d.useState(!1),[I,k]=d.useState(!1);d.useRef(null);const{token:E,isAuthenticated:R,loading:L}=tt(),{isFeatureLocked:z,recordFeatureUsage:oe}=ts(),[de,pe]=d.useState("");if(L)return e.jsx(gt,{message:"Generating AI insights...",subMessage:"Creating personalized recommendations and resources",showLogo:!0,size:"lg"});if(!R)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-orange-50 flex items-center justify-center p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-6 sm:p-8 text-center space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl shadow-lg mx-auto",children:e.jsx(Xe,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Authentication Required"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:"Please log in to use the AI Kitchen feature and save your recipe discoveries to history."}),e.jsx(O,{onClick:()=>t("/login"),className:"w-full py-3 text-base sm:text-lg font-bold bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-lg hover:from-red-600 hover:to-orange-600 transition-all duration-300",children:"Go to Login"})]})]})});if(z("ingredient_detection"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 flex items-center justify-center p-4 sm:p-6",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(br,{featureName:"ingredient_detection",featureTitle:"AI Kitchen Assistant",featureDescription:"Get personalized recipe suggestions, cooking instructions, and meal planning based on your available ingredients or food photos.",icon:e.jsx(It,{className:"h-8 w-8 text-purple-600"})})})});const T=J=>new Promise((te,A)=>{const we=document.createElement("canvas"),G=we.getContext("2d"),ne=new Image;ne.onload=()=>{let{width:re,height:Y}=ne;re>Y?re>800&&(Y=Y*800/re,re=800):Y>600&&(re=re*600/Y,Y=600),we.width=re,we.height=Y,G==null||G.drawImage(ne,0,0,re,Y);const Be=we.toDataURL("image/jpeg",.85);te(Be)},ne.onerror=A,ne.src=URL.createObjectURL(J)}),ee=async()=>{u(!0),f([]),y([]),g(""),p(null),k(!1);try{await oe("ingredient_detection")}catch(A){console.error("Error recording feature usage:",A)}let J=null;if(s==="image"&&r)try{J=await T(r),console.log("[AIResponse] Image compressed successfully")}catch(A){console.error("[AIResponse] Image compression failed:",A),J=o}const te=new FormData;if(s==="image"&&r)te.append("image_or_ingredient_list","image"),te.append("image",r);else if(s==="ingredient_list"&&i.trim())te.append("image_or_ingredient_list","ingredient_list"),te.append("ingredient_list",i);else{alert("Please provide an image or ingredient list"),u(!1);return}try{const A=await fetch("https://ai-utu2.onrender.com/process",{method:"POST",body:te});if(!A.ok)throw new Error("Failed to process ingredients");const we=await A.json();if(console.log("Process response:",we),we.error){alert(we.error);return}D(we.analysis_id),f(we.response||[]),y(we.food_suggestions||[]),k(!0)}catch(A){console.error("Error processing ingredients:",A),alert("Failed to process ingredients. Please try again.")}finally{u(!1)}},be=async J=>{var A,we,G,ne;u(!0),pe(J),g(""),p(null);let te=null;if(s==="image"&&r)try{te=await T(r),console.log("[AIResponse] Image compressed successfully for suggestion")}catch(ye){console.error("[AIResponse] Image compression failed for suggestion:",ye),te=o}console.log("Starting to fetch instructions for:",J);try{const ye=new FormData;ye.append("food_analysis_id",C),ye.append("food_choice_index",J),console.log("Fetching instructions with analysisId:",C,"and suggestion:",J);const le=await fetch("https://ai-utu2.onrender.com/instructions",{method:"POST",body:ye});if(!le.ok)throw new Error(`HTTP error! status: ${le.status}`);const re=await le.json();if(console.log("Instructions API response:",re),re.error)throw new Error(re.error);let Y=re.instructions||"";Y=Y.replace(/\*\*(.*?)\*\*/g,"<br><strong>$1</strong><br>").replace(/\*\s*(.*?)\s*\*/g,"<p>$1</p>").replace(/(\d+\.)/g,"<br>$1"),console.log("Converted HTML instructions:",Y),g(Y),u(!1),_(!0);const Be=new FormData;Be.append("food_choice_index",J);const We=await fetch("https://ai-utu2.onrender.com/resources",{method:"POST",body:Be});if(!We.ok)throw new Error(`HTTP error! status: ${We.status}`);const De=await We.json();if(De&&(De.GoogleSearch&&Array.isArray(De.GoogleSearch)&&(De.GoogleSearch=De.GoogleSearch.flat()),De.YoutubeSearch&&Array.isArray(De.YoutubeSearch)&&(De.YoutubeSearch=De.YoutubeSearch.flat())),p(De),E&&m.length&&re.instructions&&De){const Ye={recipe_type:"ingredient_detection",suggestion:J||"",instructions:re.instructions||"",ingredients:JSON.stringify(m||[]),detected_foods:JSON.stringify(m||[]),analysis_id:C||"",youtube:((we=(A=De==null?void 0:De.YoutubeSearch)==null?void 0:A[0])==null?void 0:we.link)||"",google:((ne=(G=De==null?void 0:De.GoogleSearch)==null?void 0:G[0])==null?void 0:ne.link)||"",resources:JSON.stringify(De||{}),image_data:te};try{await Ne.saveDetectionHistory(Ye)}catch(ut){console.error("Error saving detection history:",ut)}}}catch(ye){console.error("Error fetching content:",ye),g("Failed to load instructions. Please try again.")}finally{u(!1),_(!1)}},X=J=>{var A;const te=(A=J.target.files)==null?void 0:A[0];if(te){n(te);const we=new FileReader;we.onload=()=>{l(we.result)},we.readAsDataURL(te)}},Fe=J=>{const te=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,A=J.match(te);return A&&A[2].length===11?A[2]:null};return e.jsxs("div",{className:"min-h-screen py-4 sm:py-6 lg:py-8",style:{fontFamily:"'Segoe UI', system-ui, -apple-system, sans-serif",background:"url('https://images.unsplash.com/photo-1495195134817-aeb325a55b65?auto=format&fit=crop&w=2000&q=80') center/cover no-repeat fixed",color:"#2D3436",lineHeight:"1.6"},children:[e.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-[rgba(255,255,255,0.95)] rounded-[1.5rem] sm:rounded-[2rem] shadow-[0_20px_40px_rgba(0,0,0,0.1)] overflow-hidden p-4 sm:p-6 lg:p-8 xl:p-12 relative max-w-[800px] mx-auto",children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-[2.5rem] font-extrabold text-center mb-4 sm:mb-6 lg:mb-8 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] bg-clip-text text-transparent tracking-[-1px]",children:"Ingredient Detection"}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("label",{className:"block font-semibold text-base sm:text-lg text-[#2D3436] mb-2 sm:mb-3",children:"How would you like to start?"}),e.jsxs("select",{className:"w-full bg-white border-2 border-[rgba(0,0,0,0.1)] rounded-xl sm:rounded-2xl p-3 sm:p-4 text-base sm:text-lg transition-all duration-300 shadow-[0_4px_6px_rgba(0,0,0,0.05)] focus:border-[#FF6B6B] focus:shadow-[0_0_0_4px_rgba(255,107,107,0.2)]",value:s,onChange:J=>a(J.target.value),children:[e.jsx("option",{value:"image",children:"Snap or Upload Ingredient Image"}),e.jsx("option",{value:"ingredient_list",children:"List Your Ingredients"})]})]}),s==="image"&&e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("label",{className:"block font-semibold text-base sm:text-lg text-[#2D3436] mb-2 sm:mb-3",children:"Share Your Food Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:X,className:"w-full bg-white border-2 border-[rgba(0,0,0,0.1)] rounded-xl sm:rounded-2xl p-3 sm:p-4 text-base sm:text-lg transition-all duration-300 shadow-[0_4px_6px_rgba(0,0,0,0.05)] focus:border-[#FF6B6B] focus:shadow-[0_0_0_4px_rgba(255,107,107,0.2)]"}),o&&e.jsx("div",{className:"flex justify-center mt-3 sm:mt-4",children:e.jsx("img",{src:o,alt:"Preview",className:"w-full max-w-xs sm:max-w-sm lg:max-w-md h-48 sm:h-56 lg:h-64 object-cover rounded-lg sm:rounded-xl"})})]}),s==="ingredient_list"&&e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("label",{className:"block font-semibold text-base sm:text-lg text-[#2D3436] mb-2 sm:mb-3",children:"What ingredients do you have?"}),e.jsx("input",{type:"text",value:i,onChange:J=>c(J.target.value),placeholder:"e.g., chicken, tomatoes, basil, olive oil",className:"w-full bg-white border-2 border-[rgba(0,0,0,0.1)] rounded-xl sm:rounded-2xl p-3 sm:p-4 text-base sm:text-lg transition-all duration-300 shadow-[0_4px_6px_rgba(0,0,0,0.05)] focus:border-[#FF6B6B] focus:shadow-[0_0_0_4px_rgba(255,107,107,0.2)]"})]}),e.jsx("button",{onClick:ee,disabled:h,className:"w-full bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white border-none rounded-xl sm:rounded-2xl py-3 sm:py-4 px-6 sm:px-8 text-lg sm:text-xl font-semibold transition-all duration-300 uppercase tracking-wider shadow-[0_4px_15px_rgba(255,107,107,0.3)] hover:translate-y-[-2px] hover:shadow-[0_6px_20px_rgba(255,107,107,0.4)] disabled:opacity-50 disabled:cursor-not-allowed",children:"Discover Recipes"}),h&&e.jsx("div",{className:"flex justify-center mt-6 sm:mt-8",children:e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 border-4 border-[rgba(255,107,107,0.3)] border-t-[#FF6B6B] rounded-full animate-spin"})}),I&&e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)] hover:translate-y-[-5px] hover:shadow-[0_15px_35px_rgba(0,0,0,0.15)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"AI Detected Ingredient"}),e.jsx("ol",{className:"pl-4 text-left",children:m.map((J,te)=>e.jsx("li",{className:"mb-3 text-left",children:J.trim()},te))})]})}),e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)] hover:translate-y-[-5px] hover:shadow-[0_15px_35px_rgba(0,0,0,0.15)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"AI Recipe Suggestions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((J,te)=>e.jsx("button",{onClick:()=>be(J),disabled:h,className:"bg-white text-[#FF6B6B] border-2 border-[#FF6B6B] rounded-2xl px-3 py-3 m-2 transition-all duration-300 font-semibold text-base hover:bg-gradient-to-r hover:from-[#FF6B6B] hover:to-[#FF8E53] hover:text-white hover:border-transparent hover:translate-y-[-2px] hover:shadow-[0_4px_12px_rgba(255,107,107,0.2)]",children:J},te))})]})})]}),x&&e.jsx("div",{className:"mt-8 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Cooking Instructions"}),e.jsx("div",{className:"leading-[1.4] m-0 text-left",style:{lineHeight:"1.4",margin:0,textAlign:"left"},dangerouslySetInnerHTML:{__html:x}})]})}),N&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Youtube Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Video Tutorials"}),e.jsx("div",{className:"w-full h-1 bg-[#f0f0f0] rounded-sm my-4 overflow-hidden relative",children:e.jsx("div",{className:"absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] rounded-sm",style:{animation:"loading-slide 1.5s ease-in-out infinite"}})}),e.jsx("div",{className:"text-center",children:"Loading video tutorials..."})]})}),e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Google Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Recommended Articles"}),e.jsx("div",{className:"w-full h-1 bg-[#f0f0f0] rounded-sm my-4 overflow-hidden relative",children:e.jsx("div",{className:"absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] rounded-sm",style:{animation:"loading-slide 1.5s ease-in-out infinite"}})}),e.jsx("div",{className:"text-center",children:"Loading articles..."})]})})]}),b&&!N&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Youtube Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Video Tutorials"}),b.YoutubeSearch&&b.YoutubeSearch.length>0?e.jsx("div",{className:"space-y-6",children:b.YoutubeSearch.map((J,te)=>{const A=Fe(J.link);return A?e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"relative w-full aspect-video bg-black",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${A}`,title:J.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full rounded-t-2xl"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight text-left",children:J.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-4 text-left",children:J.channel||""})]})]},te):e.jsx("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight text-left",children:J.title}),e.jsx("a",{href:J.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-red-500 text-base font-semibold hover:underline",children:"Watch Tutorial"})]})},te)})}):e.jsx("p",{className:"text-center text-gray-600",children:"No video tutorials available."})]})}),e.jsx("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Google Resources"}),e.jsx("h6",{className:"font-bold mb-3 text-left",children:"Recommended Articles"}),b.GoogleSearch&&b.GoogleSearch.length>0?e.jsx("div",{className:"space-y-6",children:b.GoogleSearch.map((J,te)=>e.jsx("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight text-left",children:J.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-3 leading-relaxed text-left",children:J.description}),e.jsx("a",{href:J.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-400 text-white text-sm font-semibold px-4 py-2 rounded-xl shadow hover:from-blue-400 hover:to-blue-500 transition-colors",children:"Read More"})]})},te))}):e.jsx("p",{className:"text-center text-gray-600",children:"No articles available."})]})})]}),x&&b&&!N&&e.jsx("div",{className:"mt-6 sm:mt-8 flex justify-center",children:e.jsx("button",{onClick:()=>window.location.href="/history",className:"bg-gradient-to-r from-[#FF6B6B] to-[#FF8E53] text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl sm:rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:from-[#FF5A5A] hover:to-[#FF7A3A] transform hover:-translate-y-1 text-base sm:text-lg",children:" Done - View in History"})})]})]})}),e.jsx("style",{children:`
        @keyframes loading-slide {
          0% {
            left: -30%;
          }
          100% {
            left: 100%;
          }
        }
      `})]})},us=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Lu=({selectedDay:t,onDaySelect:s,mealPlan:a=[],startDay:r})=>{const n=m=>m.replace(/\s*\(buy:[^)]*\)/,"").trim(),o=m=>{const f=a.find(v=>v.day===m);return f?{breakfast:n(f.breakfast),lunch:n(f.lunch),dinner:n(f.dinner),snack:f.snack?n(f.snack):null}:null},[l,i]=d.useState(us),[c,h]=d.useState(null);d.useEffect(()=>{const m=r||us[0],f=us.indexOf(m),v=f===-1?us:[...us.slice(f),...us.slice(0,f)];i(v),h(m)},[r]),d.useEffect(()=>{h(t)},[t]);const u=m=>{h(f=>f===m?null:m),s(m)};return e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#2D3436] mb-4",children:"This Week"}),e.jsx("div",{className:"space-y-1",children:l.map(m=>{const f=o(m),v=a.length>0,y=c===m;return e.jsxs("div",{children:[e.jsxs("div",{onClick:()=>u(m),className:`flex items-center py-2 px-3 rounded-lg cursor-pointer transition-colors ${c===m?"bg-[#FF6B6B] text-white":"text-[#2D3436] hover:bg-[#f8f9fa]"}`,children:[y?e.jsx(ya,{className:"w-4 h-4 mr-2"}):e.jsx(va,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:m}),v&&e.jsx("div",{className:"ml-auto flex items-center gap-1",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})})]}),y&&f&&e.jsxs("div",{className:"ml-6 mt-2 space-y-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#e09026]",children:""}),e.jsx("span",{className:"text-[#1e293b] truncate",children:f.breakfast})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#FF6B6B]",children:""}),e.jsx("span",{className:"text-[#1e293b] truncate",children:f.lunch})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#6366f1]",children:""}),e.jsx("span",{className:"text-[#1e293b] truncate",children:f.dinner})]}),f.snack&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[#00b894]",children:""}),e.jsx("span",{className:"text-[#1e293b] truncate",children:f.snack})]})]})]},m)})})]})},Uu=({title:t,image:s,time:a,rating:r,mealType:n,onClick:o,originalTitle:l})=>{const[i,c]=d.useState(!1),[h,u]=d.useState(!0),[m,f]=d.useState(""),v=async p=>{if(s){f(s),u(!1);return}try{console.log("[RecipeCard] Sending to image API:",p);const j=await fetch("https://get-images-qa23.onrender.com/image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:p})});if(console.log("[RecipeCard] API response status:",j.status),!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const P=await j.json();if(console.log("[RecipeCard] API response JSON:",P),P.image_url)f(P.image_url),u(!1),console.log("[RecipeCard] Set foodImage to:",P.image_url);else throw new Error("No image URL in response")}catch(j){console.error("[RecipeCard] Error fetching food image:",j),f(y()),u(!1)}};d.useEffect(()=>{u(!0),c(!1),v(t)},[t,s]);const y=()=>{const p={breakfast:"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.istockphoto.com%2Fphotos%2Floading-circle&psig=AOvVaw28Iyc-z4JEXpGmOScNoX_Q&ust=1752286755158000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCODk74Dfs44DFQAAAAAdAAAAABAE",lunch:"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.istockphoto.com%2Fphotos%2Floading-circle&psig=AOvVaw28Iyc-z4JEXpGmOScNoX_Q&ust=1752286755158000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCODk74Dfs44DFQAAAAAdAAAAABAE",dinner:"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.istockphoto.com%2Fphotos%2Floading-circle&psig=AOvVaw28Iyc-z4JEXpGmOScNoX_Q&ust=1752286755158000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCODk74Dfs44DFQAAAAAdAAAAABAE",snack:"https://www.google.com/url?sa=i&url=https%3A%2F%2Fwww.istockphoto.com%2Fphotos%2Floading-circle&psig=AOvVaw28Iyc-z4JEXpGmOScNoX_Q&ust=1752286755158000&source=images&cd=vfe&opi=89978449&ved=0CBQQjRxqFwoTCODk74Dfs44DFQAAAAAdAAAAABAE"};return p[n]||p.dinner},x=()=>{switch(n){case"breakfast":return"";case"lunch":return"";case"dinner":return"";case"snack":return"";default:return""}},g=()=>{u(!1),c(!1)},b=()=>{i?(f(y()),u(!1)):(c(!0),v(t+" food"))};return e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer transform hover:scale-105",onClick:o,children:[e.jsxs("div",{className:"relative h-40 sm:h-48",children:[h&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Loading image..."})}),e.jsx("img",{src:m||y(),alt:t,className:"w-full h-full object-cover",onLoad:g,onError:b,style:{display:h?"none":"block"}}),e.jsx("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3 bg-white/90 backdrop-blur-sm rounded-full w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-sm sm:text-lg",children:x()})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsx("h3",{className:"font-semibold text-[#2D3436] mb-2 text-xs sm:text-sm leading-tight line-clamp-2",children:l||t}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-[#1e293b] text-xs",children:[e.jsx(Bt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:a})]}),e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((p,j)=>e.jsx(pr,{className:`w-3 h-3 ${j<r?"text-[#e09026] fill-current":"text-gray-300"}`},j))})]})]})]})},Ou=[{id:"all",label:"All Recipes",icon:Xe},{id:"breakfast",label:"Breakfast",icon:xu},{id:"lunch",label:"Lunch",icon:Xe},{id:"dinner",label:"Dinner",icon:uo},{id:"snack",label:"Dessert",icon:fu}],zu=({selectedType:t,onTypeSelect:s})=>e.jsx("div",{className:"flex flex-wrap gap-3 sm:gap-6 border-b border-[#e2e8f0] mb-4 sm:mb-6 overflow-x-auto",children:Ou.map(a=>{const r=a.icon;return e.jsxs("button",{onClick:()=>s(a.id),className:`flex items-center gap-1 sm:gap-2 pb-2 sm:pb-3 px-1 text-xs sm:text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${t===a.id?"text-[#FF6B6B] border-[#FF6B6B]":"text-[#1e293b] border-transparent hover:text-[#FF6B6B]"}`,children:[e.jsx(r,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:a.label}),e.jsx("span",{className:"sm:hidden",children:a.label.split(" ")[0]})]},a.id)})}),Hu=({recipeName:t,onClose:s,onShare:a})=>e.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-gray-100 bg-gradient-to-r from-[#FF6B6B]/5 to-[#FF8E53]/5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF6B6B] to-[#FF8E53] rounded-2xl flex items-center justify-center",children:e.jsx(It,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-[#2D3436]",children:"How to Cook"}),e.jsx("p",{className:"text-xl text-[#FF6B6B] font-semibold",children:t})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:a,className:"p-3 rounded-xl hover:bg-gray-100 transition-colors group",title:"Share Recipe",children:e.jsx(ku,{className:"w-6 h-6 text-[#FF6B6B] group-hover:scale-110 transition-transform"})}),e.jsx("button",{onClick:s,className:"p-3 rounded-xl hover:bg-gray-100 transition-colors group",children:e.jsx(Ft,{className:"w-6 h-6 text-gray-600 group-hover:text-red-500 transition-colors"})})]})]}),Vu=({instructions:t})=>e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 rounded-2xl p-8 border border-orange-100 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-[#2D3436]",children:"Cooking Instructions"})]}),e.jsx("div",{className:"prose prose-lg max-w-none text-[#1e293b] leading-relaxed text-left",style:{lineHeight:"1.4",margin:0,textAlign:"left"},dangerouslySetInnerHTML:{__html:t}})]}),$u=({videoId:t,onClose:s})=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-[#2D3436]",children:"Watch Tutorial"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-red-500 transition-colors",children:e.jsx(Ft,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"aspect-video w-full",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${t}?autoplay=1`,title:"Recipe Tutorial",className:"w-full h-full rounded-lg",allowFullScreen:!0,allow:"autoplay; encrypted-media"})})]}),Gu=({videos:t,onVideoSelect:s,onImageError:a,inlinePlayingIndex:r,onInlinePlay:n})=>{const o=i=>{n&&n(i),s&&s(null)},l=()=>{n&&n(null)};return e.jsx("div",{className:"space-y-6",children:t.map((i,c)=>e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[r===c&&i.videoId?e.jsxs("div",{className:"relative w-full aspect-video bg-black",children:[e.jsx("iframe",{src:`https://www.youtube.com/embed/${i.videoId}?autoplay=1`,title:i.title,className:"w-full h-full rounded-t-2xl",allowFullScreen:!0,allow:"autoplay; encrypted-media"}),e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 rounded-full p-2 shadow hover:bg-white",title:"Expand",onClick:()=>s(i.videoId),children:e.jsx(ju,{className:"w-5 h-5 text-gray-700"})}),e.jsx("button",{className:"absolute top-2 left-2 bg-white/80 rounded-full p-2 shadow hover:bg-white",title:"Close",onClick:l,children:e.jsx(Ft,{className:"w-5 h-5 text-gray-700"})})]}):e.jsxs("div",{className:"relative overflow-hidden cursor-pointer",onClick:()=>o(c),children:[e.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-44 object-cover group-hover:scale-105 transition-transform duration-300",onError:a}),e.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"w-14 h-14 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(mo,{className:"w-6 h-6 text-white ml-1"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight",children:i.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:i.channel}),i.videoId&&e.jsxs("button",{onClick:()=>o(c),className:"flex items-center gap-2 text-red-500 text-base font-semibold hover:underline focus:outline-none",style:{padding:0,background:"none",border:"none"},children:[e.jsx(Xa,{className:"w-5 h-5"}),"Watch Tutorial"]})]})]},c))})},Wu=({resources:t,onImageError:s})=>{const[a,r]=d.useState({}),[n,o]=d.useState({});d.useEffect(()=>{r({}),o({})},[t]);const l=async(i,c)=>{o(h=>({...h,[c]:!0}));try{const u=await fetch("https://corsproxy.io/?"+encodeURIComponent(i));if(!u.ok)throw new Error("Failed to fetch HTML");const m=await u.text(),f=m.match(/<meta[^>]+property=["']og:image["'][^>]+content=["']([^"']+)["']/i)||m.match(/<meta[^>]+content=["']([^"']+)["'][^>]+property=["']og:image["']/i),v=m.match(/<meta[^>]+property=["']twitter:image["'][^>]+content=["']([^"']+)["']/i)||m.match(/<meta[^>]+content=["']([^"']+)["'][^>]+property=["']twitter:image["']/i);let y="";f&&f[1]?y=f[1]:v&&v[1]&&(y=v[1]),r(x=>({...x,[c]:y}))}catch{r(u=>({...u,[c]:""}))}finally{o(h=>({...h,[c]:!1}))}};return e.jsx("div",{className:"space-y-6",children:t.map((i,c)=>{const h=i.image&&i.image.length>0,u=h?i.image:a[c],m=n[c];return d.useEffect(()=>{!h&&!a[c]&&!m&&l(i.url,c)},[h,a,m,i.url,c]),e.jsxs("div",{className:"group bg-white rounded-2xl border border-gray-100 overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"relative overflow-hidden",children:m?e.jsx("div",{className:"w-full h-44 flex items-center justify-center bg-gray-100 animate-pulse",children:e.jsx("span",{className:"text-gray-400",children:"Loading image..."})}):u?e.jsx("img",{src:u,alt:i.title,className:"w-full h-44 object-cover group-hover:scale-105 transition-transform duration-300",onError:s}):e.jsx("div",{className:"w-full h-44 flex items-center justify-center bg-gray-100",children:e.jsx("span",{className:"text-gray-300",children:"No image"})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h4",{className:"font-bold text-[#2D3436] text-base mb-1 line-clamp-2 leading-tight",children:i.title}),e.jsx("p",{className:"text-xs text-gray-500 mb-4 line-clamp-3 leading-relaxed",children:i.description}),e.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-400 text-white text-sm font-semibold px-4 py-2 rounded-xl shadow hover:from-blue-400 hover:to-blue-500 transition-colors",children:[e.jsx(gs,{className:"w-4 h-4"}),"Read More",e.jsx($a,{className:"w-3 h-3"})]})]})]},c)})})},Yu=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-[#FF6B6B]/20 border-t-[#FF6B6B] rounded-full animate-spin"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(It,{className:"w-6 h-6 text-[#FF6B6B]"})})]}),e.jsx("p",{className:"mt-6 text-lg text-[#1e293b] font-medium",children:"Preparing your cooking guide..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading detailed instructions and resources"})]}),Ku=()=>{const[t,s]=d.useState({hasSickness:!1,sicknessType:""}),[a,r]=d.useState(!1);return d.useEffect(()=>{(async()=>{try{const c=await Ne.getSicknessSettings();c.status==="success"&&c.settings&&s({hasSickness:c.settings.hasSickness||!1,sicknessType:c.settings.sicknessType||""})}catch(c){console.error("Error loading sickness settings from backend:",c);const h=localStorage.getItem("sicknessSettings");if(h)try{const u=JSON.parse(h);s(u)}catch(u){console.error("Error parsing saved sickness settings:",u)}}})()},[]),{settings:t,loading:a,updateSettings:i=>{const c={...t,...i};s(c),localStorage.setItem("sicknessSettings",JSON.stringify(c))},saveSettings:async i=>{r(!0);try{const c=await Ne.saveSicknessSettings(i);return c.status==="success"?(s(i),localStorage.setItem("sicknessSettings",JSON.stringify(i)),{success:!0}):(console.error("Failed to save settings to backend:",c.message),localStorage.setItem("sicknessSettings",JSON.stringify(i)),s(i),{success:!0,warning:"Saved locally only - backend unavailable"})}catch(c){return console.error("Error saving sickness settings:",c),localStorage.setItem("sicknessSettings",JSON.stringify(i)),s(i),{success:!0,warning:"Saved locally only - backend unavailable"}}finally{r(!1)}},getSicknessInfo:()=>t.hasSickness?{hasSickness:!0,sicknessType:t.sicknessType}:null}},qu=()=>{const{getSicknessInfo:t}=Ku(),[s,a]=d.useState(""),[r,n]=d.useState([]),[o,l]=d.useState([]),[i,c]=d.useState(!1),[h,u]=d.useState(!1),m=v=>{if(!v)return null;const y=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,x=v.match(y);return x&&x[2]&&x[2].length===11?x[2]:null};return{instructions:s,youtubeVideos:r,webResources:o,loading:i,loadingResources:h,generateContent:async(v,y)=>{c(!0),a(""),n([]),l([]);try{const x=t();console.log("[useTutorialContent] Generating content for:",{recipeName:v,ingredients:y,sicknessInfo:x});const g={food_name:v,ingredients:y||[]};x&&(g.sickness=x.sicknessType);const p=await fetch(x?"https://meallens-ai.onrender.com/sick_meal_plan_instructions":"https://ai-utu2.onrender.com/meal_plan_instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const j=await p.json();console.log("[useTutorialContent] Instructions API response:",j);let P=j.instructions||"";P=P.replace(/\*\*(.*?)\*\*/g,"<br><strong>$1</strong><br>").replace(/\*\s*(.*?)\s*\*/g,"<p>$1</p>").replace(/(\d+\.)/g,"<br>$1"),a(P),c(!1),u(!0);const C=new FormData;C.append("food_choice_index",v);const D=await fetch("https://ai-utu2.onrender.com/resources",{method:"POST",body:C});if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const N=await D.json();console.log("[useTutorialContent] Resources API response:",N);const _=(N.YoutubeSearch||[]).flat().map(k=>({title:k.title,thumbnail:k.thumbnail||(m(k.link)?`https://img.youtube.com/vi/${m(k.link)}/maxresdefault.jpg`:""),url:k.link,videoId:m(k.link),channel:k.channel||""}));n(_);const I=(N.GoogleSearch||[]).flat().map(k=>({title:k.title,description:k.description,url:k.link,image:k.image||""}));l(I)}catch(x){console.error("[useTutorialContent] Error generating content:",x),a("Failed to load instructions. Please try again."),n([]),l([])}finally{c(!1),u(!1)}}}},Ju=({isOpen:t,onClose:s,recipeName:a,ingredients:r=[]})=>{const[n,o]=d.useState(null),[l,i]=d.useState(null),{instructions:c,youtubeVideos:h,webResources:u,loading:m,loadingResources:f,generateContent:v}=qu();d.useEffect(()=>{t&&a&&(console.log("[CookingTutorialModal] Generating content for:",{recipeName:a,ingredients:r}),v(a,r))},[t,a,r]),d.useEffect(()=>{t||(o(null),i(null))},[t]);const y=async()=>{const p={title:`${a} Recipe`,text:`Check out this amazing recipe for ${a}!`,url:window.location.href};try{navigator.share?await navigator.share(p):(await navigator.clipboard.writeText(window.location.href),alert("Recipe link copied to clipboard!"))}catch(j){console.error("Error sharing:",j)}},x=p=>{const j=p.target,P=["https://source.unsplash.com/400x250/?food,meal,cooking","https://source.unsplash.com/400x250/?recipe,kitchen","https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400&h=250&fit=crop"],C=j.src,D=P.findIndex(N=>C.includes(N.split("?")[0]));D<P.length-1&&(j.src=P[D+1])},g=p=>{o(p),p&&i(null)},b=p=>{i(p),p!==null&&o(null)};return t?e.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:[e.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-6xl max-h-[95vh] overflow-hidden shadow-2xl",children:[e.jsx(Hu,{recipeName:a,onClose:s,onShare:y}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-120px)]",children:m?e.jsx(Yu,{}):e.jsxs("div",{className:"p-8 space-y-10",children:[c&&e.jsx(Vu,{instructions:c}),n&&e.jsx($u,{videoId:n,onClose:()=>o(null)}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 rounded-2xl p-8 border border-red-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-[#2D3436]",children:"Video Tutorials"})]}),f?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden relative",children:e.jsx("div",{className:"absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-red-500 to-pink-500 rounded-full",style:{animation:"loading-slide 1.5s ease-in-out infinite"}})}),e.jsx("p",{className:"text-gray-600 text-center",children:"Loading video tutorials..."})]}):h.length>0?e.jsx(Gu,{videos:h,onVideoSelect:g,inlinePlayingIndex:l,onInlinePlay:b,onImageError:x}):e.jsx("p",{className:"text-gray-600 text-center",children:"No video tutorials available."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-[#2D3436]",children:"Recommended Articles"})]}),f?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden relative",children:e.jsx("div",{className:"absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full",style:{animation:"loading-slide 1.5s ease-in-out infinite"}})}),e.jsx("p",{className:"text-gray-600 text-center",children:"Loading articles..."})]}):u.length>0?e.jsx(Wu,{resources:u,onImageError:x}):e.jsx("p",{className:"text-gray-600 text-center",children:"No articles available."})]})]})]})})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes loading-slide {
            0% {
              transform: translateX(-100%);
            }
            100% {
              transform: translateX(400%);
            }
          }
        `}})]}):null},go=()=>{const[t,s]=d.useState([]),[a,r]=d.useState(null),[n,o]=d.useState(!1);d.useEffect(()=>{const x=setTimeout(async()=>{o(!0);try{const g=await Ne.getMealPlansFromFlask();if(console.log("[DEBUG] Received meal plans response:",g),g.status==="success"&&g.meal_plans){const b=g.meal_plans.map(p=>({id:p.id,name:p.name,startDate:p.start_date,endDate:p.end_date,mealPlan:p.meal_plan,createdAt:p.created_at,updatedAt:p.updated_at}));console.log("[DEBUG] Processed meal plans:",b),s(b),b.length>0&&r(b[0])}else console.warn("No meal plans found or API returned error:",g.message),s([]),r(null)}catch(g){console.warn("Error fetching meal plans (this is normal for new users):",g),s([]),r(null)}finally{o(!1)}},100);return()=>clearTimeout(x)},[]);const l=y=>{const x=new Date(y);x.setDate(y.getDate()+6);const g=b=>b.toLocaleDateString("en-US",{month:"short",day:"numeric"});return{startDate:y.toISOString().split("T")[0],endDate:x.toISOString().split("T")[0],name:`${g(y)} - ${g(x)}`}};return{savedPlans:t,currentPlan:a,loading:n,saveMealPlan:async(y,x)=>{o(!0);try{const g=new Date,b=l(x||g),p={name:b.name,start_date:b.startDate,end_date:b.endDate,meal_plan:y,created_at:g.toISOString(),updated_at:g.toISOString()};console.log("[DEBUG] Sending meal plan data:",p);const j=await Ne.saveMealPlanToFlask(p);if(j.status==="success"){console.log("[DEBUG] Meal plan saved successfully:",j);const P=await Ne.getMealPlansFromFlask();if(P.status==="success"&&P.meal_plans){const C=P.meal_plans.map(D=>({id:D.id,name:D.name,startDate:D.start_date,endDate:D.end_date,mealPlan:D.meal_plan,createdAt:D.created_at,updatedAt:D.updated_at}));s(C),C.length>0&&r(C[0])}}else throw new Error(j.message||"Failed to save meal plan")}catch(g){throw console.error("Error saving meal plan:",g),g}finally{o(!1)}},updateMealPlan:async(y,x)=>{o(!0);try{const g=new Date,b={meal_plan:x,updated_at:g.toISOString()};console.log("[DEBUG] Updating meal plan:",y,b);const p=await Ne.updateMealPlanInFlask(y,b);if(p.status==="success"){console.log("[DEBUG] Meal plan updated successfully:",p),a&&a.id===y&&r({...a,mealPlan:x,updatedAt:g.toISOString()});const j=await Ne.getMealPlansFromFlask();if(j.status==="success"&&j.meal_plans){const P=j.meal_plans.map(C=>({id:C.id,name:C.name,startDate:C.start_date,endDate:C.end_date,mealPlan:C.meal_plan,createdAt:C.created_at,updatedAt:C.updated_at}));s(P)}}else throw new Error(p.message||"Failed to update meal plan")}catch(g){throw console.error("Error updating meal plan:",g),g}finally{o(!1)}},deleteMealPlan:async y=>{o(!0);try{console.log("[DEBUG] Deleting meal plan:",y);const x=await Ne.deleteMealPlanFromFlask(y);if(x.status==="success"){console.log("[DEBUG] Meal plan deleted successfully:",x),a&&a.id===y&&r(null);const g=await Ne.getMealPlansFromFlask();if(g.status==="success"&&g.meal_plans){const b=g.meal_plans.map(p=>({id:p.id,name:p.name,startDate:p.start_date,endDate:p.end_date,mealPlan:p.meal_plan,createdAt:p.created_at,updatedAt:p.updated_at}));s(b)}}else throw new Error(x.message||"Failed to delete meal plan")}catch(x){throw console.error("Error deleting meal plan:",x),x}finally{o(!1)}},selectMealPlan:y=>{const x=t.find(g=>g.id===y);x&&r(x)},duplicateMealPlan:async(y,x)=>{o(!0);try{const g=t.find(P=>P.id===y);if(!g)throw new Error("Original plan not found");const b=l(x),p={name:b.name,start_date:b.startDate,end_date:b.endDate,meal_plan:g.mealPlan,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("[DEBUG] Duplicating meal plan:",p);const j=await Ne.saveMealPlanToFlask(p);if(j.status==="success"){console.log("[DEBUG] Meal plan duplicated successfully:",j);const P=await Ne.getMealPlansFromFlask();if(P.status==="success"&&P.meal_plans){const C=P.meal_plans.map(D=>({id:D.id,name:D.name,startDate:D.start_date,endDate:D.end_date,mealPlan:D.meal_plan,createdAt:D.created_at,updatedAt:D.updated_at}));s(C),C.length>0&&r(C[0])}}else throw new Error(j.message||"Failed to duplicate meal plan")}catch(g){throw console.error("Error duplicating meal plan:",g),g}finally{o(!1)}},clearAllPlans:async()=>{o(!0);try{console.log("[DEBUG] Clearing all meal plans");const y=await Ne.clearAllMealPlansFromFlask();if(y.status==="success")console.log("[DEBUG] All meal plans cleared successfully:",y),s([]),r(null);else throw new Error(y.message||"Failed to clear meal plans")}catch(y){throw console.error("Error clearing meal plans:",y),y}finally{o(!1)}},refreshMealPlans:async()=>{o(!0);try{const y=await Ne.getMealPlansFromFlask();if(y.status==="success"&&y.meal_plans){const x=y.meal_plans.map(g=>({id:g.id,name:g.name,startDate:g.start_date,endDate:g.end_date,mealPlan:g.meal_plan,createdAt:g.created_at,updatedAt:g.updated_at}));s(x),x.length>0&&r(x[0])}else console.error("Error refreshing meal plans:",y.message),s([]),r(null)}catch(y){console.error("Error refreshing meal plans:",y),s([]),r(null)}finally{o(!1)}},generateWeekDates:l}},Xu=({onNewPlan:t,onEditPlan:s,onSelectPlan:a})=>{const{savedPlans:r,currentPlan:n,selectMealPlan:o,deleteMealPlan:l,duplicateMealPlan:i,generateWeekDates:c}=go(),{toast:h}=Ze(),[u,m]=d.useState(new Date),[f,v]=d.useState(!1),y=C=>C.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),x=(C,D)=>{const N=new Date(C),_=new Date(D);return`${y(N)} - ${y(_)}`},g=()=>{const C=new Date(u);C.setDate(u.getDate()-7),m(C)},b=()=>{const C=new Date(u);C.setDate(u.getDate()+7),m(C)},p=async C=>{if(confirm(`Are you sure you want to delete "${C.name}"?`))try{await l(C.id),h({title:"Plan Deleted",description:`"${C.name}" has been deleted successfully.`})}catch{h({title:"Error",description:"Failed to delete meal plan. Please try again.",variant:"destructive"})}},j=C=>{try{const D=c(u);i(C.id,u),h({title:"Plan Duplicated",description:`"${C.name}" has been duplicated for ${D.name}.`})}catch{h({title:"Error",description:"Failed to duplicate meal plan. Please try again.",variant:"destructive"})}},P=()=>{const C=c(u);return x(C.startDate,C.endDate)};return e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-[#e2e8f0]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#2D3436]",children:"Meal Plans"}),e.jsxs("button",{onClick:t,className:"flex items-center gap-2 bg-[#FF6B6B] text-white px-4 py-2 rounded-lg hover:bg-[#FF8E53] transition-colors",children:[e.jsx(Su,{className:"w-4 h-4"}),"New Plan"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-[#2D3436]",children:["Week of ",P()]}),e.jsxs("button",{onClick:()=>v(!f),className:"flex items-center gap-2 text-[#FF6B6B] hover:text-[#FF8E53] transition-colors",children:[e.jsx(Gs,{className:"w-4 h-4"}),"Change Week"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(io,{className:"w-5 h-5 text-[#2D3436]"})}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-sm text-[#1e293b]",children:u.toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),e.jsx("button",{onClick:b,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(va,{className:"w-5 h-5 text-[#2D3436]"})})]}),f&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:e.jsx("input",{type:"date",value:u.toISOString().split("T")[0],onChange:C=>m(new Date(C.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:border-[#FF6B6B] focus:outline-none"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[#2D3436] mb-4",children:"Saved Plans"}),r.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Gs,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No saved meal plans yet"}),e.jsx("p",{className:"text-sm",children:"Create your first plan to get started!"})]}):e.jsx("div",{className:"space-y-3",children:r.map(C=>e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer ${(n==null?void 0:n.id)===C.id?"border-[#FF6B6B] bg-[#FF6B6B]/5":"border-gray-200 hover:border-[#FF6B6B]/50 hover:bg-gray-50"}`,onClick:()=>{o(C.id),a&&a(C)},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-[#2D3436]",children:C.name}),e.jsx("p",{className:"text-sm text-[#1e293b]",children:x(C.startDate,C.endDate)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Updated ",new Date(C.updatedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:D=>{D.stopPropagation(),s(C)},className:"p-2 text-gray-600 hover:text-[#FF6B6B] transition-colors",title:"Edit Plan",children:e.jsx(xo,{className:"w-4 h-4"})}),e.jsx("button",{onClick:D=>{D.stopPropagation(),j(C)},className:"p-2 text-gray-600 hover:text-[#FF6B6B] transition-colors",title:"Duplicate Plan",children:e.jsx(gu,{className:"w-4 h-4"})}),e.jsx("button",{onClick:D=>{D.stopPropagation(),p(C)},className:"p-2 text-gray-600 hover:text-red-500 transition-colors",title:"Delete Plan",children:e.jsx(Eu,{className:"w-4 h-4"})})]})]})},C.id))})]})]})},Zu=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"],ln=()=>{var ns,dt,mt;const[t,s]=d.useState("ingredient_list"),[a,r]=d.useState(""),[n,o]=d.useState(null),[l,i]=d.useState(null),[c,h]=d.useState(!1),[u,m]=d.useState("Monday"),[f,v]=d.useState("all"),[y,x]=d.useState(!1),[g,b]=d.useState(!1),[p,j]=d.useState(null),[P,C]=d.useState([]),[D,N]=d.useState(!1),[_,I]=d.useState(new Date),[k,E]=d.useState(""),[R,L]=d.useState(""),[z,oe]=d.useState(!1),{isFeatureLocked:de,recordFeatureUsage:pe}=ts(),{currentPlan:T,saveMealPlan:ee,generateWeekDates:be,savedPlans:X,selectMealPlan:Fe,refreshMealPlans:J}=go(),{toast:te}=Ze(),[A,we]=d.useState(null);d.useEffect(()=>{(async()=>{try{const me=await Ne.getUserProfile();me.status==="success"&&me.profile&&me.profile.has_sickness&&we({hasSickness:me.profile.has_sickness,sicknessType:me.profile.sickness_type||""})}catch(me){console.error("Error loading sickness info:",me)}})()},[]);const G=d.useRef(g);if(d.useEffect(()=>{G.current&&!g&&J(),G.current=g},[g,J]),de("meal_planning"))return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 flex items-center justify-center p-4 sm:p-6",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(br,{featureName:"meal_planning",featureTitle:"Smart Meal Planning",featureDescription:"Create personalized weekly meal plans, get recipe suggestions, and manage your nutrition with AI-powered recommendations.",icon:e.jsx(Gs,{className:"h-8 w-8 text-green-600"})})})});d.useEffect(()=>{T||(m("Monday"),v("all"))},[T]),d.useEffect(()=>{!g&&(!T||!X.some($=>$.id===T.id))&&(m("Monday"),v("all"))},[g,T,X]);const ne=be(_),ye=X.map($=>({id:$.id,startDate:$.startDate,name:$.name})).sort(($,me)=>new Date($.startDate).getTime()-new Date(me.startDate).getTime()),le=ye.findIndex($=>$.startDate===ne.startDate),re=()=>{if(le>0){const $=ye[le-1];I(new Date($.startDate)),Fe($.id)}},Y=()=>{if(le<ye.length-1){const $=ye[le+1];I(new Date($.startDate)),Fe($.id)}},Be=$=>{var Z;const me=(Z=$.target.files)==null?void 0:Z[0];if(me){o(me);const ve=new FileReader;ve.onload=()=>{i(ve.result)},ve.readAsDataURL(me)}},We=async $=>{var me;if($.preventDefault(),!z){if(t==="ingredient_list"&&!a.trim()){te({title:"Error",description:"Please enter your ingredients list",variant:"destructive"});return}if(t==="image"&&!n){te({title:"Error",description:"Please select an image to upload",variant:"destructive"});return}}if(z){if(A!=null&&A.hasSickness){if(!k.trim()||!R.trim()){te({title:"Information Required",description:"Please provide both location and budget for auto-generation",variant:"destructive"});return}}else if(!k.trim()||!R.trim()){te({title:"Information Required",description:"Please provide both location and budget for auto-generation",variant:"destructive"});return}}h(!0);try{await pe("meal_planning")}catch(Z){console.error("Error recording feature usage:",Z)}try{const Z=new FormData;if(z)if(A!=null&&A.hasSickness){Z.append("sickness",A.sicknessType),Z.append("location",k),Z.append("budget",R);const wt=await fetch("https://ai-utu2.onrender.com/auto_sick_smart_plan",{method:"POST",body:Z});if(!wt.ok)throw new Error("Failed to generate meal plan");const Ke=await wt.json();console.log("[MealPlanner] Auto Sick API Response:",Ke),console.log("[MealPlanner] Meal Plan Data:",Ke.meal_plan),await ee(Ke.meal_plan,_),x(!1),r(""),o(null),i(null),E(""),L(""),oe(!1),te({title:"Success!",description:`Your auto-generated meal plan for ${ne.name} has been created and saved!`});return}else{Z.append("location",k),Z.append("budget",R);const wt=await fetch("https://ai-utu2.onrender.com/auto_generate_plan",{method:"POST",body:Z});if(!wt.ok)throw new Error("Failed to generate meal plan");const Ke=await wt.json();console.log("[MealPlanner] Auto Healthy API Response:",Ke),console.log("[MealPlanner] Meal Plan Data:",Ke.meal_plan),await ee(Ke.meal_plan,_),x(!1),r(""),o(null),i(null),E(""),L(""),oe(!1),te({title:"Success!",description:`Your auto-generated meal plan for ${ne.name} has been created and saved!`});return}Z.append("image_or_ingredient_list",t),t==="ingredient_list"?Z.append("ingredient_list",a):Z.append("image",n),A&&Z.append("sickness",A.sicknessType);const He=await fetch(A?"https://meallens-ai.onrender.com/sick_smart_plan":"https://ai-utu2.onrender.com/smart_plan",{method:"POST",body:Z});if(!He.ok)throw new Error("Failed to generate meal plan");const ot=await He.json();console.log("[MealPlanner] API Response:",ot),console.log("[MealPlanner] Meal Plan Data:",ot.meal_plan),await ee(ot.meal_plan,_),x(!1),r(""),o(null),i(null),E(""),L(""),oe(!1),te({title:"Success!",description:`Your meal plan for ${ne.name} has been created and saved!`})}catch(Z){console.error("Error generating meal plan:",Z);let ve="";Z!=null&&Z.message?ve=Z.message:typeof Z=="string"?ve=Z:Z&&typeof Z=="object"&&((me=Z[1])!=null&&me.message?ve=Z[1].message:Z.details?ve=Z.details:ve=JSON.stringify(Z)),console.log("Extracted error message:",ve),ve.includes("duplicate key value")&&ve.includes("unique_user_week")?te({title:"Duplicate Plan",description:"A meal plan for this week already exists. Please choose a different week or edit the existing plan.",variant:"destructive"}):te({title:"Error",description:"Failed to generate meal plan. Please try again.",variant:"destructive"})}finally{h(!1)}},De=($,me)=>{if(!T)return;const Z=$.replace(/\s*\(buy:[^)]*\)/,"").trim(),ve=T.mealPlan.find(ot=>ot.day===u);let He=[];if(ve)switch(me){case"breakfast":He=ve.breakfast_ingredients||[];break;case"lunch":He=ve.lunch_ingredients||[];break;case"dinner":He=ve.dinner_ingredients||[];break;case"snack":He=ve.snack_ingredients||[];break}console.log("[MealPlanner] Recipe clicked:",{cleanName:Z,mealType:me,ingredients:He}),j(Z),C(He),N(!0)},Ye=()=>{if(!T)return[];const $=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],me=$.indexOf(u);if(me===-1)return T.mealPlan;const Z=$.map(ve=>T.mealPlan.find(He=>He.day===ve)).filter(Boolean);return[...Z.slice(me),...Z.slice(0,me)]};T&&Ye();const ut=()=>{const me=Ye()[0];if(!me)return[];const Z=He=>He.replace(/\s*\(buy:[^)]*\)/,"").trim(),ve=[{title:Z(me.breakfast),type:"breakfast",time:"15 mins",rating:5,originalTitle:me.breakfast},{title:Z(me.lunch),type:"lunch",time:"25 mins",rating:4,originalTitle:me.lunch},{title:Z(me.dinner),type:"dinner",time:"35 mins",rating:5,originalTitle:me.dinner}];return me.snack&&ve.push({title:Z(me.snack),type:"snack",time:"5 mins",rating:4,originalTitle:me.snack}),f==="all"?ve:ve.filter(He=>He.type===f)},ss=()=>{x(!0)},as=$=>{te({title:"Plan Selected",description:`"${$.name}" is now active for editing.`})},Ns=$=>{I(new Date($.startDate)),Fe($.id),b(!1)},rs=$=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][$.getDay()],Ss=$=>{I($),m(rs($))};return e.jsxs("div",{className:"min-h-screen bg-[#f8fafc]",children:[e.jsxs("div",{className:"w-full flex flex-col lg:flex-row gap-4 lg:gap-6 p-4 sm:p-6",children:[e.jsx("div",{className:"w-full lg:w-64 space-y-4",children:e.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-[#e2e8f0]",children:e.jsx(Lu,{selectedDay:u,onDaySelect:m,mealPlan:(T==null?void 0:T.mealPlan)||[],startDay:T?rs(new Date(T.startDate)):void 0})})}),e.jsx("div",{className:"flex-1",children:T?e.jsxs(Ii.Fragment,{children:[e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-[#2D3436]",children:["Recipes for ",((ns=ye[le])==null?void 0:ns.name)||ne.name]}),(A==null?void 0:A.hasSickness)&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-xs sm:text-sm font-medium w-fit",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Health-aware meal plan"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-base sm:text-lg font-semibold text-[#2D3436]",children:[e.jsx("button",{onClick:re,disabled:le<=0,className:`p-1 rounded hover:bg-gray-100 transition-colors ${le<=0?"opacity-30 cursor-not-allowed":""}`,title:"Previous Saved Week",children:e.jsx(io,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#2D3436]"})}),e.jsxs("span",{className:"flex items-center gap-1 text-[#2D3436] text-sm sm:text-base",children:[e.jsx(Gs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#2D3436]"}),e.jsx("span",{className:"hidden sm:inline",children:((dt=ye[le])==null?void 0:dt.name)||ne.name}),e.jsx("span",{className:"sm:hidden",children:(((mt=ye[le])==null?void 0:mt.name)||ne.name).split(" ")[0]})]}),e.jsx("button",{onClick:Y,disabled:le===-1||le>=ye.length-1,className:`p-1 rounded hover:bg-gray-100 transition-colors ${le===-1||le>=ye.length-1?"opacity-30 cursor-not-allowed":""}`,title:"Next Saved Week",children:e.jsx(va,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#2D3436]"})})]})]}),e.jsx(zu,{selectedType:f,onTypeSelect:v})]}),c?e.jsx(gt,{message:"Loading meal plans...",subMessage:"Fetching your personalized meal recommendations",showLogo:!0,size:"md",fullScreen:!1}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:ut().map(($,me)=>e.jsx(Uu,{title:$.title,originalTitle:$.originalTitle,time:$.time,rating:$.rating,mealType:$.type,onClick:()=>De($.originalTitle||$.title,$.type)},`${u}-${$.type}-${me}`))})]}):e.jsxs("div",{className:"bg-white rounded-xl p-6 sm:p-8 lg:p-12 text-center shadow-sm border border-[#e2e8f0]",children:[e.jsx(It,{className:"w-12 h-12 sm:w-16 sm:h-16 text-[#e2e8f0] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-[#2D3436] mb-2",children:"No Meal Plan Selected"}),e.jsx("p",{className:"text-sm sm:text-base text-[#1e293b] mb-6",children:"Create a new meal plan or select an existing one to get started!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:ss,className:"bg-[#FF6B6B] text-white px-4 sm:px-6 py-3 rounded-lg hover:bg-[#FF8E53] transition-colors text-sm sm:text-base",children:"Create New Plan"}),e.jsx("button",{onClick:()=>b(!0),className:"bg-gray-100 text-[#2D3436] px-4 sm:px-6 py-3 rounded-lg hover:bg-gray-200 transition-colors text-sm sm:text-base",children:"View Saved Plans"})]})]})})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#2D3436]",children:"Manage Meal Plans"}),e.jsx("button",{onClick:()=>b(!1),className:"text-[#1e293b] hover:text-[#FF6B6B] transition-colors text-xl sm:text-2xl",children:""})]}),e.jsx(Xu,{onNewPlan:()=>{b(!1),x(!0)},onEditPlan:as,onSelectPlan:Ns})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 lg:p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-[#2D3436]",children:"Create Your Meal Plan"}),e.jsx("button",{onClick:()=>x(!1),className:"text-[#1e293b] hover:text-[#FF6B6B] transition-colors text-xl sm:text-2xl",children:""})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-semibold text-[#2D3436] mb-2",children:"Select Week"}),e.jsx("input",{type:"date",value:_.toISOString().split("T")[0],onChange:$=>Ss(new Date($.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-[#FF6B6B] focus:outline-none"}),e.jsxs("p",{className:"text-sm text-[#1e293b] mt-2",children:["Creating plan for: ",ne.name]})]}),e.jsx("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(It,{className:"w-5 h-5 text-[#2D3436]"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-[#2D3436]",children:"Auto-Generate Meal Plan"}),e.jsx("p",{className:"text-xs text-[#1e293b]",children:A!=null&&A.hasSickness?`Based on your health condition: ${A.sicknessType}`:"Based on location and budget preferences"})]})]}),e.jsx("button",{onClick:()=>oe(!z),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${z?"bg-[#FF6B6B]":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${z?"translate-x-6":"translate-x-1"}`})})]})}),(A==null?void 0:A.hasSickness)&&e.jsxs("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-sm font-semibold text-orange-800",children:"Health-aware meal planning"})]}),e.jsxs("p",{className:"text-sm text-orange-700",children:["Your meal plan will be customized for your condition: ",e.jsx("strong",{children:A.sicknessType})]})]}),!z&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx("button",{onClick:()=>s("ingredient_list"),className:`p-3 sm:p-4 rounded-xl border-2 transition-all ${t==="ingredient_list"?"border-[#FF6B6B] bg-[#FF6B6B] text-white":"border-[#e2e8f0] bg-white text-[#2D3436] hover:border-[#FF8E53]"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(yu,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm sm:text-base",children:"Type Ingredients"}),e.jsx("div",{className:"text-xs sm:text-sm opacity-90",children:"Enter manually"})]})]})}),e.jsx("button",{onClick:()=>s("image"),className:`p-3 sm:p-4 rounded-xl border-2 transition-all ${t==="image"?"border-[#FF6B6B] bg-[#FF6B6B] text-white":"border-[#e2e8f0] bg-white text-[#2D3436] hover:border-[#FF8E53]"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Yt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-sm sm:text-base",children:"Upload Image"}),e.jsx("div",{className:"text-xs sm:text-sm opacity-90",children:"Take a photo"})]})]})})]}),e.jsxs("form",{onSubmit:We,className:"space-y-6",children:[z?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`p-4 border rounded-xl ${A!=null&&A.hasSickness?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[A!=null&&A.hasSickness?e.jsx(Xe,{className:"w-5 h-5 text-green-600"}):e.jsx(It,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:`text-lg font-semibold ${A!=null&&A.hasSickness?"text-green-800":"text-blue-800"}`,children:"Auto-Generate Meal Plan"})]}),e.jsx("p",{className:`text-sm ${A!=null&&A.hasSickness?"text-green-700":"text-blue-700"}`,children:A!=null&&A.hasSickness?`We'll create a personalized meal plan based on your health condition: ${A.sicknessType}`:"We'll create a personalized meal plan based on your location and budget preferences."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#2D3436] mb-2",children:"Your Location"}),e.jsxs("select",{value:k,onChange:$=>E($.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:border-[#FF6B6B] focus:outline-none",disabled:c,children:[e.jsx("option",{value:"",children:"Select a country"}),Zu.map($=>e.jsx("option",{value:$,children:$},$))]}),e.jsx("p",{className:"text-sm text-[#1e293b] mt-1",children:"This helps us suggest locally available ingredients"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-[#2D3436] mb-2",children:"Weekly Budget"}),e.jsx("input",{type:"number",value:R,onChange:$=>L($.target.value),placeholder:"e.g., 15000",className:"w-full p-3 border border-gray-300 rounded-lg focus:border-[#FF6B6B] focus:outline-none",disabled:c}),e.jsx("p",{className:"text-sm text-[#1e293b] mt-1",children:"Your budget for the entire week"})]})]})]}):t==="ingredient_list"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-semibold text-[#2D3436] mb-3",children:"List your ingredients"}),e.jsx("textarea",{value:a,onChange:$=>r($.target.value),placeholder:"e.g., tomatoes, onions, beef, rice, bell peppers, garlic, olive oil...",className:"w-full h-32 p-4 border-2 border-[#e2e8f0] rounded-xl focus:border-[#FF6B6B] focus:outline-none transition-colors resize-none",disabled:c})]}):t==="image"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-semibold text-[#2D3436] mb-3",children:"Upload an image of your ingredients"}),e.jsx("div",{className:"border-2 border-dashed border-[#e2e8f0] rounded-xl p-8 text-center hover:border-[#FF6B6B] transition-colors",children:l?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:l,alt:"Preview",className:"max-w-full h-48 object-cover mx-auto rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>{o(null),i(null)},className:"text-[#FF6B6B] hover:text-[#FF8E53]",children:"Choose different image"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx(Du,{className:"w-12 h-12 text-[#e2e8f0] mx-auto"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#2D3436] font-medium",children:"Click to upload"}),e.jsx("p",{className:"text-[#1e293b] text-sm",children:"PNG, JPG, JPEG up to 10MB"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:Be,className:"hidden",id:"file-upload",disabled:c}),e.jsx("label",{htmlFor:"file-upload",className:"inline-block px-6 py-3 bg-[#FF6B6B] text-white rounded-lg hover:bg-[#FF8E53] transition-colors cursor-pointer",children:"Select Image"})]})})]}):null,e.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-[#FF6B6B] text-white font-bold text-lg rounded-xl hover:bg-[#FF8E53] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),z?"Auto-Generating Plan...":"Generating Plan..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-6 h-6 mr-3"}),z?"Auto-Generate Meal Plan":"Generate My Meal Plan"]})})]})]})}),e.jsx(Ju,{isOpen:D,onClose:()=>N(!1),recipeName:p||"",ingredients:P})]})},ht=({children:t})=>{const{isAuthenticated:s,loading:a}=tt(),r=bt();return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl shadow-lg",children:e.jsx(Xe,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(qt,{className:"h-8 w-8 animate-spin text-orange-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading MealLensAI..."}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Please wait while we prepare your experience"})]})]})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(Oa,{to:"/login",state:{from:r},replace:!0})},Qu=ui,em=mi,tm=d.forwardRef(({className:t,inset:s,children:a,...r},n)=>e.jsxs(dn,{ref:n,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...r,children:[a,e.jsx(va,{className:"ml-auto h-4 w-4"})]}));tm.displayName=dn.displayName;const sm=d.forwardRef(({className:t,...s},a)=>e.jsx(un,{ref:a,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));sm.displayName=un.displayName;const po=d.forwardRef(({className:t,sideOffset:s=4,...a},r)=>e.jsx(di,{children:e.jsx(mn,{ref:r,sideOffset:s,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));po.displayName=mn.displayName;const Bs=d.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(hn,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...a}));Bs.displayName=hn.displayName;const am=d.forwardRef(({className:t,children:s,checked:a,...r},n)=>e.jsxs(xn,{ref:n,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fn,{children:e.jsx(fr,{className:"h-4 w-4"})})}),s]}));am.displayName=xn.displayName;const rm=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(gn,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fn,{children:e.jsx(hu,{className:"h-2 w-2 fill-current"})})}),s]}));rm.displayName=gn.displayName;const bo=d.forwardRef(({className:t,inset:s,...a},r)=>e.jsx(pn,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));bo.displayName=pn.displayName;const Za=d.forwardRef(({className:t,...s},a)=>e.jsx(bn,{ref:a,className:ce("-mx-1 my-1 h-px bg-muted",t),...s}));Za.displayName=bn.displayName;const nm=()=>{const t=et(),s=bt(),{toast:a}=Ze(),{user:r,signOut:n,isAuthenticated:o}=tt(),l=async()=>{try{await n(),a({title:"Signed out successfully",description:"You have been logged out of your account."}),t("/login")}catch{a({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},i=(r==null?void 0:r.email)||"user@example.com",c=(r==null?void 0:r.displayName)||i.split("@")[0]||"User",h=c.charAt(0).toUpperCase();r!=null&&r.photoURL;const u=m=>!!(m==="/home"&&s.pathname==="/home"||m==="/"&&s.pathname==="/"||m!=="/"&&m!=="/home"&&s.pathname.startsWith(m));return o?e.jsx("nav",{className:"bg-white shadow-lg border-b border-gray-100 sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ps,{size:"md",className:"cursor-pointer",onClick:()=>t("/")}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Smart Recipe Assistant"})})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[e.jsxs(O,{variant:"ghost",onClick:()=>t("/home"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${u("/home")?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(on,{className:"h-4 w-4 mr-2"}),"Meal Planner"]}),e.jsxs(O,{variant:"ghost",onClick:()=>t("/ai-kitchen"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${u("/ai-kitchen")?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Ingredients Detector"]}),e.jsxs(O,{variant:"ghost",onClick:()=>t("/detected"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${u("/detected")?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Detect Food"]}),e.jsxs(O,{variant:"ghost",onClick:()=>t("/history"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${u("/history")?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-md":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(nn,{className:"h-4 w-4 mr-2"}),"History"]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(Qu,{children:[e.jsx(em,{asChild:!0,children:e.jsxs(O,{variant:"ghost",className:"relative h-12 w-auto rounded-full flex items-center space-x-3 px-4 hover:bg-gray-100 border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-full text-white font-bold text-lg shadow-md",children:h}),e.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:c}),e.jsx(ya,{className:"h-4 w-4 text-gray-500"})]})}),e.jsxs(po,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(bo,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:c}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:i})]})}),e.jsx(Za,{}),e.jsxs(Bs,{onClick:()=>t("/profile"),children:[e.jsx(Zt,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]}),e.jsxs(Bs,{onClick:()=>t("/settings"),children:[e.jsx(Ks,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsxs(Bs,{onClick:()=>t("/payment"),children:[e.jsx("span",{className:"mr-2",children:""}),e.jsx("span",{children:"Payment"})]}),e.jsx(Za,{}),e.jsxs(Bs,{onClick:l,children:[e.jsx(co,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sign Out"})]})]})]})})]}),e.jsx("div",{className:"md:hidden border-t border-gray-100 py-3",children:e.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[e.jsxs(O,{variant:"ghost",onClick:()=>t("/"),className:`flex flex-col items-center justify-center h-16 text-xs space-y-1 transition-all duration-200 ${u("/")?"text-orange-500 bg-orange-50":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(on,{className:"h-5 w-5"}),e.jsx("span",{children:"Planner"})]}),e.jsxs(O,{variant:"ghost",onClick:()=>t("/ai-kitchen"),className:`flex flex-col items-center justify-center h-16 text-xs space-y-1 transition-all duration-200 ${u("/ai-kitchen")?"text-orange-500 bg-orange-50":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(Xe,{className:"h-5 w-5"}),e.jsx("span",{children:"Detector"})]}),e.jsxs(O,{variant:"ghost",onClick:()=>t("/detected"),className:`flex flex-col items-center justify-center h-16 text-xs space-y-1 transition-all duration-200 ${u("/detected")?"text-orange-500 bg-orange-50":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(Yt,{className:"h-5 w-5"}),e.jsx("span",{children:"Detect"})]}),e.jsxs(O,{variant:"ghost",onClick:()=>t("/history"),className:`flex flex-col items-center justify-center h-16 text-xs space-y-1 transition-all duration-200 ${u("/history")?"text-orange-500 bg-orange-50":"text-gray-700 hover:text-orange-500 hover:bg-orange-50"}`,children:[e.jsx(nn,{className:"h-5 w-5"}),e.jsx("span",{children:"History"})]})]})})]})}):null},Dt=({children:t})=>{et(),bt(),Ze();const{user:s,signOut:a,isAuthenticated:r}=tt();return r?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(nm,{}),e.jsx("main",{className:"flex-1",children:t})]}):null},om=hi,yo=d.forwardRef(({className:t,...s},a)=>e.jsx(yn,{ref:a,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));yo.displayName=yn.displayName;const lm=pa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vo=d.forwardRef(({className:t,variant:s,...a},r)=>e.jsx(vn,{ref:r,className:ce(lm({variant:s}),t),...a}));vo.displayName=vn.displayName;const im=d.forwardRef(({className:t,...s},a)=>e.jsx(jn,{ref:a,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));im.displayName=jn.displayName;const jo=d.forwardRef(({className:t,...s},a)=>e.jsx(wn,{ref:a,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ft,{className:"h-4 w-4"})}));jo.displayName=wn.displayName;const wo=d.forwardRef(({className:t,...s},a)=>e.jsx(Nn,{ref:a,className:ce("text-sm font-semibold",t),...s}));wo.displayName=Nn.displayName;const No=d.forwardRef(({className:t,...s},a)=>e.jsx(Sn,{ref:a,className:ce("text-sm opacity-90",t),...s}));No.displayName=Sn.displayName;function cm(){const{toasts:t}=Ze();return e.jsxs(om,{children:[t.map(function({id:s,title:a,description:r,action:n,...o}){return e.jsxs(vo,{...o,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(wo,{children:a}),r&&e.jsx(No,{children:r})]}),n,e.jsx(jo,{})]},s)}),e.jsx(yo,{})]})}const dm=pa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:t,variant:s,...a}){return e.jsx("div",{className:ce(dm({variant:s}),t),...a})}const um=gi,mm=xi,So=d.forwardRef(({className:t,...s},a)=>e.jsx(kn,{ref:a,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));So.displayName=kn.displayName;const ko=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(mm,{children:[e.jsx(So,{}),e.jsxs(Cn,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(fi,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ft,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ko.displayName=Cn.displayName;const Co=({className:t,...s})=>e.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Co.displayName="DialogHeader";const Fo=d.forwardRef(({className:t,...s},a)=>e.jsx(Fn,{ref:a,className:ce("text-lg font-semibold leading-none tracking-tight",t),...s}));Fo.displayName=Fn.displayName;const hm=d.forwardRef(({className:t,...s},a)=>e.jsx(Pn,{ref:a,className:ce("text-sm text-muted-foreground",t),...s}));hm.displayName=Pn.displayName;const xm=t=>{switch(t){case"food_detection":return"bg-green-100 text-green-700 border-green-200";case"ingredient_detection":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},fm=t=>{switch(t){case"food_detection":return"Food Detection";case"ingredient_detection":return"Ingredient Detection";default:return"Detection"}};function gm(){const t=et(),[s,a]=d.useState([]),[r,n]=d.useState(!0),[o,l]=d.useState(null),[i,c]=d.useState(""),[h,u]=d.useState(null),[m,f]=d.useState(!1),{isAuthenticated:v,loading:y}=tt();if(Ze(),y)return e.jsx(gt,{message:"Loading authentication...",subMessage:"Please wait while we verify your login",showLogo:!0,size:"lg",fullScreen:!0});if(!v)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl shadow-lg mx-auto",children:e.jsx(Xe,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view your detection history and saved recipes."}),e.jsx(O,{onClick:()=>t("/login"),className:"w-full py-3 text-lg font-bold bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-lg hover:from-red-600 hover:to-orange-600 transition-all duration-300",children:"Go to Login"})]})]})});d.useEffect(()=>{(async()=>{var b;if(n(!0),l(null),!y){if(!v){l("Please log in to view your history."),n(!1);return}try{const p=await Ne.getDetectionHistory();if(p.status==="success"){let j=[];p.detection_history?j=p.detection_history:(b=p.data)!=null&&b.detection_history?j=p.data.detection_history:Array.isArray(p.data)?j=p.data:p.data?j=[p.data]:j=[],a(j)}else l(p.message||"Failed to load history.")}catch(p){console.error("Error fetching history:",p),p instanceof st?l(p.message):l("Failed to load history. Please try again later.")}finally{n(!1)}}})()},[v,y]);const x=s.filter(g=>{if(!i)return!0;const b=i.toLowerCase(),p=g.detected_foods?JSON.parse(g.detected_foods).join(" "):"",j=g.suggestion||"";return p.toLowerCase().includes(b)||j.toLowerCase().includes(b)});return y?e.jsx(gt,{message:"Loading authentication...",subMessage:"Please wait while we verify your login"}):r?e.jsx(gt,{message:"Loading history...",subMessage:"Fetching your detection history",showLogo:!0,size:"lg",fullScreen:!0}):o?e.jsxs("div",{role:"alert","aria-live":"assertive",className:"p-8 text-center text-red-600 min-h-[600px] flex flex-col items-center justify-center",children:[e.jsx("p",{className:"text-xl font-semibold",children:o}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Please ensure you are logged in and try again."})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"History"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Showing your all histories with a clear view."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:space-x-4",children:[e.jsxs(O,{variant:"outline",size:"sm",className:"flex items-center justify-center gap-2",children:[e.jsx(bu,{className:"h-4 w-4"}),"Filter"]}),e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(_e,{placeholder:"Search history...",value:i,onChange:g=>c(g.target.value),className:"pl-10 w-full sm:w-64"})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6",children:x.length===0?e.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-gray-500 text-center p-8 min-h-[400px]",children:[e.jsx(Xe,{className:"h-16 w-16 text-gray-300 mb-4","aria-hidden":"true"}),e.jsx("p",{className:"text-xl font-semibold",children:"No detection history yet."}),e.jsx("p",{className:"text-md mt-2",children:"Start scanning to see your results here."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map(g=>e.jsx(pm,{item:g,onCardClick:b=>{u(b),f(!0)}},g.id))})}),e.jsx(bm,{item:h,isOpen:m,onClose:()=>{f(!1),u(null)}})]})}function pm({item:t,onCardClick:s}){var x,g,b,p,j,P;const a=()=>{s(t)},r=()=>{try{return t.detected_foods?JSON.parse(t.detected_foods):t.ingredients?JSON.parse(t.ingredients):[]}catch{return[]}},n=()=>{try{if(t.resources&&t.resources!=="{}"){const C=JSON.parse(t.resources);return C.GoogleSearch&&Array.isArray(C.GoogleSearch)&&(C.GoogleSearch=C.GoogleSearch.flat()),C.YoutubeSearch&&Array.isArray(C.YoutubeSearch)&&(C.YoutubeSearch=C.YoutubeSearch.flat()),C}return null}catch{return null}},o=r(),l=n(),i=o[0]||"Unknown",c=o.length>1?o.length-1:0,h=((x=l==null?void 0:l.YoutubeSearch)==null?void 0:x.length)>0||t.youtube,u=((g=l==null?void 0:l.GoogleSearch)==null?void 0:g.length)>0||t.google,m=h||u,f=t.recipe_type==="food_detection"&&(t.image_url||t.input_data&&t.input_data.startsWith("http")||t.image_data&&t.image_data.startsWith("data:image")),y=t.image_url?t.image_url:t.image_data&&t.image_data.startsWith("data:image")?t.image_data:t.input_data&&t.input_data.startsWith("http")?t.input_data:null;return e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden cursor-pointer transform hover:scale-105",onClick:a,children:[e.jsxs("div",{className:"relative h-48",children:[f&&y?e.jsx("img",{src:y,alt:i,className:"w-full h-full object-cover",onError:C=>{var N;const D=C.target;D.style.display="none",(N=D.nextElementSibling)==null||N.classList.remove("hidden")}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:t.recipe_type==="food_detection"?"":""}),e.jsx("p",{className:"text-sm text-gray-600",children:"Detection"})]})}),e.jsx("div",{className:"hidden w-full h-full bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center absolute inset-0",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:t.recipe_type==="food_detection"?"":""}),e.jsx("p",{className:"text-sm text-gray-600",children:"Detection"})]})}),e.jsx("div",{className:"absolute top-3 left-3 bg-white/90 backdrop-blur-sm rounded-full w-8 h-8 flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-lg",children:t.recipe_type==="food_detection"?"":""})}),e.jsx("div",{className:"absolute top-3 right-3 w-8 h-8 bg-gradient-to-r from-red-500 to-orange-500 rounded-full flex items-center justify-center text-white opacity-0 hover:opacity-100 transition-opacity",children:e.jsx(mo,{className:"h-4 w-4"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-[#2D3436] mb-2 text-sm leading-tight line-clamp-2",children:i}),c>0&&e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["+",c," more items"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-[#1e293b] text-xs",children:[e.jsx(Bt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[h&&e.jsx("span",{className:"text-red-500 text-xs",children:""}),u&&e.jsx("span",{className:"text-blue-500 text-xs",children:""})]})]}),m&&e.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-1",children:[h&&e.jsxs("span",{className:"text-xs text-red-600 font-medium",children:[((b=l==null?void 0:l.YoutubeSearch)==null?void 0:b.length)||1," video",((p=l==null?void 0:l.YoutubeSearch)==null?void 0:p.length)!==1?"s":""]}),u&&h&&e.jsx("span",{className:"text-xs text-gray-400",children:""}),u&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[((j=l==null?void 0:l.GoogleSearch)==null?void 0:j.length)||1," article",((P=l==null?void 0:l.GoogleSearch)==null?void 0:P.length)!==1?"s":""]})]})})]})]})}function bm({item:t,isOpen:s,onClose:a}){if(!t)return null;const r=c=>{try{const h=new URL(c);return h.hostname.includes("youtube.com")||h.hostname.includes("youtu.be")?h.hostname.includes("youtu.be")?h.pathname.slice(1):h.searchParams.get("v"):null}catch{return null}},n=()=>{try{return t.detected_foods?JSON.parse(t.detected_foods):t.ingredients?JSON.parse(t.ingredients):[]}catch{return[]}},o=()=>{try{if(t.resources&&t.resources!=="{}"){const c=JSON.parse(t.resources);return c.GoogleSearch&&Array.isArray(c.GoogleSearch)&&(c.GoogleSearch=c.GoogleSearch.flat()),c.YoutubeSearch&&Array.isArray(c.YoutubeSearch)&&(c.YoutubeSearch=c.YoutubeSearch.flat()),c}return null}catch{return null}},l=n(),i=o();return e.jsx(um,{open:s,onOpenChange:a,children:e.jsxs(ko,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Co,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Fo,{className:"text-2xl font-bold text-gray-900",children:l[0]||"Recipe Details"}),e.jsx(O,{variant:"ghost",size:"sm",onClick:a,className:"h-8 w-8 p-0",children:e.jsx(Ft,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[t.recipe_type==="food_detection"&&t.input_data&&t.input_data.startsWith("http")&&e.jsxs("div",{className:"relative w-full h-64 rounded-lg overflow-hidden",children:[e.jsx("img",{src:t.input_data,alt:l[0]||"Detected Food",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(Re,{variant:"outline",className:xm(t.recipe_type),children:fm(t.recipe_type)}),e.jsxs("span",{className:"text-sm text-gray-600",children:[new Date(t.created_at).toLocaleDateString()," at"," ",new Date(t.created_at).toLocaleTimeString()]})]}),l.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Detected Foods:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((c,h)=>e.jsx(Re,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:c},h))})]})]}),t.instructions&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Cooking Instructions"}),e.jsx("div",{className:"prose prose-sm max-w-none bg-white rounded-lg p-4 border",dangerouslySetInnerHTML:{__html:t.instructions}})]}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Cooking Resources"}),i.YoutubeSearch&&i.YoutubeSearch.length>0&&e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Xa,{className:"h-5 w-5 text-red-600"}),"Video Tutorials"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.YoutubeSearch.slice(0,4).map((c,h)=>{const u=r(c.link);return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[u?e.jsx("div",{className:"aspect-video bg-gray-100",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${u}?rel=0&modestbranding=1`,title:c.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xa,{className:"h-12 w-12 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Video Preview"})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h6",{className:"font-semibold text-sm mb-2 line-clamp-2 text-gray-900",children:c.title}),e.jsxs("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-sm font-medium px-3 py-2 rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-sm hover:shadow-md",children:[e.jsx($a,{className:"h-3 w-3"}),"Watch on YouTube"]})]})]},h)})})]}),i.GoogleSearch&&i.GoogleSearch.length>0&&e.jsxs("div",{children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5 text-blue-600"}),"Articles & Recipes"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.GoogleSearch.slice(0,4).map((c,h)=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(gs,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Article Preview"})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h6",{className:"font-semibold text-sm mb-2 line-clamp-2 text-gray-900",children:c.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-3 leading-relaxed text-left",children:c.description}),e.jsxs("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-medium px-3 py-2 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-sm hover:shadow-md",children:[e.jsx($a,{className:"h-3 w-3"}),"Read Article"]})]})]},h))})]})]})]})]})})}const ym=()=>{const{id:t}=Mc(),s=et(),[a,r]=d.useState(null),[n,o]=d.useState(!0),[l,i]=d.useState(null),{isAuthenticated:c,loading:h}=tt();Ze(),d.useEffect(()=>{!h&&c&&(async()=>{var f;if(!t){i("No history ID provided"),o(!1);return}o(!0),i(null);try{const v=await Ne.getDetectionHistory();if(v.status==="success"){let y=[];v.detection_history?y=v.detection_history:(f=v.data)!=null&&f.detection_history?y=v.data.detection_history:Array.isArray(v.data)?y=v.data:v.data&&(y=[v.data]);const x=y.find(g=>g.id===t);x?r(x):i("History entry not found")}else i(v.message||"Failed to load history detail.")}catch(v){console.error("Error fetching history detail:",v),i("Failed to load history detail. Please try again later.")}finally{o(!1)}})()},[t,c,h,Ne]);const u=m=>{if(!m)return null;const f=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,v=m.match(f);return v&&v[2]&&v[2].length===11?v[2]:null};return h?e.jsx(gt,{message:"Loading authentication...",subMessage:"Please wait while we verify your login",showLogo:!0,size:"lg",fullScreen:!0}):c?n?e.jsx(gt,{message:"Loading details...",subMessage:"Fetching detailed information",showLogo:!0,size:"lg",fullScreen:!0}):l||!a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl shadow-lg mx-auto",children:e.jsx(Xe,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"History Entry Not Found"}),e.jsx("p",{className:"text-gray-600",children:l||"The requested history entry could not be found."}),e.jsx(O,{onClick:()=>s("/history"),className:"w-full py-3 text-lg font-bold bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-lg hover:from-red-600 hover:to-orange-600 transition-all duration-300",children:"Back to History"})]})]})}):e.jsx("div",{className:"min-h-screen py-8 text-[#2D3436] leading-[1.6]",style:{fontFamily:"'Segoe UI', system-ui, -apple-system, sans-serif",background:"url('https://images.unsplash.com/photo-1495195134817-aeb325a55b65?auto=format&fit=crop&w=2000&q=80') center/cover no-repeat fixed"},children:e.jsx("div",{className:"max-w-[800px] mx-auto",children:e.jsxs("div",{className:"bg-[rgba(255,255,255,0.95)] rounded-[2rem] shadow-[0_20px_40px_rgba(0,0,0,0.1)] overflow-hidden p-12 relative",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs(O,{onClick:()=>s("/history"),variant:"ghost",className:"text-[#FF6B6B] hover:text-[#FF8E53] p-0",children:[e.jsx(ba,{className:"mr-2 h-4 w-4"}),"Back to History"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.recipe_type==="food_detection"?e.jsx(Xe,{className:"h-5 w-5 text-red-600"}):e.jsx(du,{className:"h-5 w-5 text-orange-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(a.created_at).toLocaleDateString()})]})]}),e.jsx("h1",{className:"text-[2.5rem] font-[800] text-center mb-8",style:{background:"linear-gradient(135deg, #FF6B6B, #FF8E53)",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent",letterSpacing:"-1px"},children:a.recipe_type==="food_detection"?"Food Detection Result":"Ingredient Detection Result"}),a.recipe_type==="food_detection"&&a.input_data&&a.input_data.startsWith("http")&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Detected Image"}),e.jsxs("div",{className:"relative w-full h-80 rounded-xl overflow-hidden shadow-lg",children:[e.jsx("img",{src:a.input_data,alt:"Detected Food",className:"w-full h-full object-cover transition-transform hover:scale-105 duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 hover:bg-opacity-20 transition-opacity"}),e.jsx("div",{className:"absolute top-4 right-4 w-10 h-10 bg-gradient-to-r from-red-500 to-orange-500 rounded-full flex items-center justify-center text-white shadow-lg",children:e.jsx(Xe,{className:"h-5 w-5"})})]})]})}),a.detected_foods&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:a.recipe_type==="food_detection"?"Detected Foods":"Ingredients"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{try{return JSON.parse(a.detected_foods).map((f,v)=>e.jsx("span",{className:"inline-block px-3 py-1 bg-gradient-to-r from-red-100 to-orange-100 text-red-700 border border-red-200 rounded-full text-sm font-medium",children:f},v))}catch{return e.jsx("span",{className:"text-gray-600",children:"No foods detected"})}})()})]})}),a.suggestion&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Recipe Suggestion"}),e.jsx("p",{className:"text-lg font-medium text-red-600",children:a.suggestion})]})}),a.instructions&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Cooking Instructions"}),e.jsx("div",{className:"leading-[1.4] m-0 text-left",style:{lineHeight:"1.4",margin:0,textAlign:"left"},dangerouslySetInnerHTML:{__html:a.instructions}})]})}),a.resources_link&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"Additional Resources"}),e.jsx("div",{className:"leading-[1.4] m-0 text-left",style:{lineHeight:"1.4",margin:0,textAlign:"left"},dangerouslySetInnerHTML:{__html:a.resources_link}})]})}),(a.youtube_link||a.google_link)&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-[rgba(255,255,255,0.95)] to-[rgba(255,255,255,0.8)] rounded-[1.5rem] border-none overflow-hidden transition-all duration-300 shadow-[0_10px_30px_rgba(0,0,0,0.1)]",children:e.jsxs("div",{className:"p-4 mt-2.5",children:[e.jsx("h5",{className:"text-[#2D3436] font-bold text-xl mb-6 border-b-2 border-[rgba(255,107,107,0.2)] pb-3 text-left",children:"External Resources"}),e.jsxs("div",{className:"space-y-6",children:[a.youtube_link&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-[#2D3436] mb-3 flex items-center gap-2",children:" YouTube Tutorial"}),(()=>{const m=u(a.youtube_link);return m?e.jsx("div",{className:"aspect-video bg-gray-100 rounded-xl overflow-hidden shadow-lg",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${m}?rel=0&modestbranding=1`,title:"YouTube Tutorial",className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):e.jsx("div",{className:"aspect-video bg-gradient-to-br from-red-50 to-orange-50 rounded-xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"Video Preview"})]})})})(),e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:a.youtube_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-red-500 to-red-600 text-white font-medium px-4 py-2 rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-sm hover:shadow-md",children:"Watch on YouTube"})})]}),a.google_link&&e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-[#2D3436] mb-3 flex items-center gap-2",children:" Google Search"}),e.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("p",{className:"text-sm text-gray-600",children:"Search Results"})]})}),e.jsx("div",{className:"mt-3",children:e.jsx("a",{href:a.google_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium px-4 py-2 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-sm hover:shadow-md",children:"View Search Results"})})]})]})]})})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rose-50 to-orange-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl shadow-lg mx-auto",children:e.jsx(Xe,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view your detection history."}),e.jsx(O,{onClick:()=>s("/login"),className:"w-full py-3 text-lg font-bold bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-lg hover:from-red-600 hover:to-orange-600 transition-all duration-300",children:"Go to Login"})]})]})})},vm=({children:t})=>{const s=qd();return e.jsx(ro.Provider,{value:s,children:t})};function ua(t,[s,a]){return Math.min(a,Math.max(s,t))}function ja(t){const s=d.useRef({value:t,previous:t});return d.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var jm=[" ","Enter","ArrowUp","ArrowDown"],wm=[" ","Enter"],Qt="Select",[wa,Na,Nm]=_n(Qt),[js,Wh]=qs(Qt,[Nm,En]),Sa=En(),[Sm,Ot]=js(Qt),[km,Cm]=js(Qt),Po=t=>{const{__scopeSelect:s,children:a,open:r,defaultOpen:n,onOpenChange:o,value:l,defaultValue:i,onValueChange:c,dir:h,name:u,autoComplete:m,disabled:f,required:v,form:y}=t,x=Sa(s),[g,b]=d.useState(null),[p,j]=d.useState(null),[P,C]=d.useState(!1),D=lr(h),[N,_]=xs({prop:r,defaultProp:n??!1,onChange:o,caller:Qt}),[I,k]=xs({prop:l,defaultProp:i,onChange:c,caller:Qt}),E=d.useRef(null),R=g?y||!!g.closest("form"):!0,[L,z]=d.useState(new Set),oe=Array.from(L).map(de=>de.props.value).join(";");return e.jsx(Fi,{...x,children:e.jsxs(Sm,{required:v,scope:s,trigger:g,onTriggerChange:b,valueNode:p,onValueNodeChange:j,valueNodeHasChildren:P,onValueNodeHasChildrenChange:C,contentId:ha(),value:I,onValueChange:k,open:N,onOpenChange:_,dir:D,triggerPointerDownPosRef:E,disabled:f,children:[e.jsx(wa.Provider,{scope:s,children:e.jsx(km,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(de=>{z(pe=>new Set(pe).add(de))},[]),onNativeOptionRemove:d.useCallback(de=>{z(pe=>{const T=new Set(pe);return T.delete(de),T})},[]),children:a})}),R?e.jsxs(Zo,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:m,value:I,onChange:de=>k(de.target.value),disabled:f,form:y,children:[I===void 0?e.jsx("option",{value:""}):null,Array.from(L)]},oe):null]})})};Po.displayName=Qt;var Eo="SelectTrigger",_o=d.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:r=!1,...n}=t,o=Sa(a),l=Ot(Eo,a),i=l.disabled||r,c=Ge(s,l.onTriggerChange),h=Na(a),u=d.useRef("touch"),[m,f,v]=el(x=>{const g=h().filter(j=>!j.disabled),b=g.find(j=>j.value===l.value),p=tl(g,x,b);p!==void 0&&l.onValueChange(p.value)}),y=x=>{i||(l.onOpenChange(!0),v()),x&&(l.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return e.jsx(pi,{asChild:!0,...o,children:e.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":Qo(l.value)?"":void 0,...n,ref:c,onClick:Ie(n.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&y(x)}),onPointerDown:Ie(n.onPointerDown,x=>{u.current=x.pointerType;const g=x.target;g.hasPointerCapture(x.pointerId)&&g.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ie(n.onKeyDown,x=>{const g=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(g&&x.key===" ")&&jm.includes(x.key)&&(y(),x.preventDefault())})})})});_o.displayName=Eo;var Do="SelectValue",Ro=d.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,children:o,placeholder:l="",...i}=t,c=Ot(Do,a),{onValueNodeHasChildrenChange:h}=c,u=o!==void 0,m=Ge(s,c.onValueNodeChange);return Tt(()=>{h(u)},[h,u]),e.jsx(Ae.span,{...i,ref:m,style:{pointerEvents:"none"},children:Qo(c.value)?e.jsx(e.Fragment,{children:l}):o})});Ro.displayName=Do;var Fm="SelectIcon",Mo=d.forwardRef((t,s)=>{const{__scopeSelect:a,children:r,...n}=t;return e.jsx(Ae.span,{"aria-hidden":!0,...n,ref:s,children:r||""})});Mo.displayName=Fm;var Pm="SelectPortal",Io=t=>e.jsx(bi,{asChild:!0,...t});Io.displayName=Pm;var es="SelectContent",Ao=d.forwardRef((t,s)=>{const a=Ot(es,t.__scopeSelect),[r,n]=d.useState();if(Tt(()=>{n(new DocumentFragment)},[]),!a.open){const o=r;return o?cr.createPortal(e.jsx(To,{scope:t.__scopeSelect,children:e.jsx(wa.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(Bo,{...t,ref:s})});Ao.displayName=es;var xt=10,[To,zt]=js(es),Em="SelectContentImpl",_m=Ni("SelectContent.RemoveScroll"),Bo=d.forwardRef((t,s)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:o,onPointerDownOutside:l,side:i,sideOffset:c,align:h,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:g,...b}=t,p=Ot(es,a),[j,P]=d.useState(null),[C,D]=d.useState(null),N=Ge(s,G=>P(G)),[_,I]=d.useState(null),[k,E]=d.useState(null),R=Na(a),[L,z]=d.useState(!1),oe=d.useRef(!1);d.useEffect(()=>{if(j)return vi(j)},[j]),ji();const de=d.useCallback(G=>{const[ne,...ye]=R().map(Y=>Y.ref.current),[le]=ye.slice(-1),re=document.activeElement;for(const Y of G)if(Y===re||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===ne&&C&&(C.scrollTop=0),Y===le&&C&&(C.scrollTop=C.scrollHeight),Y==null||Y.focus(),document.activeElement!==re))return},[R,C]),pe=d.useCallback(()=>de([_,j]),[de,_,j]);d.useEffect(()=>{L&&pe()},[L,pe]);const{onOpenChange:T,triggerPointerDownPosRef:ee}=p;d.useEffect(()=>{if(j){let G={x:0,y:0};const ne=le=>{var re,Y;G={x:Math.abs(Math.round(le.pageX)-(((re=ee.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Y=ee.current)==null?void 0:Y.y)??0))}},ye=le=>{G.x<=10&&G.y<=10?le.preventDefault():j.contains(le.target)||T(!1),document.removeEventListener("pointermove",ne),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ye,{capture:!0})}}},[j,T,ee]),d.useEffect(()=>{const G=()=>T(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[T]);const[be,X]=el(G=>{const ne=R().filter(re=>!re.disabled),ye=ne.find(re=>re.ref.current===document.activeElement),le=tl(ne,G,ye);le&&setTimeout(()=>le.ref.current.focus())}),Fe=d.useCallback((G,ne,ye)=>{const le=!oe.current&&!ye;(p.value!==void 0&&p.value===ne||le)&&(I(G),le&&(oe.current=!0))},[p.value]),J=d.useCallback(()=>j==null?void 0:j.focus(),[j]),te=d.useCallback((G,ne,ye)=>{const le=!oe.current&&!ye;(p.value!==void 0&&p.value===ne||le)&&E(G)},[p.value]),A=r==="popper"?Qa:Lo,we=A===Qa?{side:i,sideOffset:c,align:h,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:g}:{};return e.jsx(To,{scope:a,content:j,viewport:C,onViewportChange:D,itemRefCallback:Fe,selectedItem:_,onItemLeave:J,itemTextRefCallback:te,focusSelectedItem:pe,selectedItemText:k,position:r,isPositioned:L,searchRef:be,children:e.jsx(wi,{as:_m,allowPinchZoom:!0,children:e.jsx(Si,{asChild:!0,trapped:p.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:Ie(n,G=>{var ne;(ne=p.trigger)==null||ne.focus({preventScroll:!0}),G.preventDefault()}),children:e.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(A,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:G=>G.preventDefault(),...b,...we,onPlaced:()=>z(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ie(b.onKeyDown,G=>{const ne=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ne&&G.key.length===1&&X(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let le=R().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(G.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const re=G.target,Y=le.indexOf(re);le=le.slice(Y+1)}setTimeout(()=>de(le)),G.preventDefault()}})})})})})})});Bo.displayName=Em;var Dm="SelectItemAlignedPosition",Lo=d.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:r,...n}=t,o=Ot(es,a),l=zt(es,a),[i,c]=d.useState(null),[h,u]=d.useState(null),m=Ge(s,N=>u(N)),f=Na(a),v=d.useRef(!1),y=d.useRef(!0),{viewport:x,selectedItem:g,selectedItemText:b,focusSelectedItem:p}=l,j=d.useCallback(()=>{if(o.trigger&&o.valueNode&&i&&h&&x&&g&&b){const N=o.trigger.getBoundingClientRect(),_=h.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(o.dir!=="rtl"){const re=k.left-_.left,Y=I.left-re,Be=N.left-Y,We=N.width+Be,De=Math.max(We,_.width),Ye=window.innerWidth-xt,ut=ua(Y,[xt,Math.max(xt,Ye-De)]);i.style.minWidth=We+"px",i.style.left=ut+"px"}else{const re=_.right-k.right,Y=window.innerWidth-I.right-re,Be=window.innerWidth-N.right-Y,We=N.width+Be,De=Math.max(We,_.width),Ye=window.innerWidth-xt,ut=ua(Y,[xt,Math.max(xt,Ye-De)]);i.style.minWidth=We+"px",i.style.right=ut+"px"}const E=f(),R=window.innerHeight-xt*2,L=x.scrollHeight,z=window.getComputedStyle(h),oe=parseInt(z.borderTopWidth,10),de=parseInt(z.paddingTop,10),pe=parseInt(z.borderBottomWidth,10),T=parseInt(z.paddingBottom,10),ee=oe+de+L+T+pe,be=Math.min(g.offsetHeight*5,ee),X=window.getComputedStyle(x),Fe=parseInt(X.paddingTop,10),J=parseInt(X.paddingBottom,10),te=N.top+N.height/2-xt,A=R-te,we=g.offsetHeight/2,G=g.offsetTop+we,ne=oe+de+G,ye=ee-ne;if(ne<=te){const re=E.length>0&&g===E[E.length-1].ref.current;i.style.bottom="0px";const Y=h.clientHeight-x.offsetTop-x.offsetHeight,Be=Math.max(A,we+(re?J:0)+Y+pe),We=ne+Be;i.style.height=We+"px"}else{const re=E.length>0&&g===E[0].ref.current;i.style.top="0px";const Be=Math.max(te,oe+x.offsetTop+(re?Fe:0)+we)+ye;i.style.height=Be+"px",x.scrollTop=ne-te+x.offsetTop}i.style.margin=`${xt}px 0`,i.style.minHeight=be+"px",i.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[f,o.trigger,o.valueNode,i,h,x,g,b,o.dir,r]);Tt(()=>j(),[j]);const[P,C]=d.useState();Tt(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const D=d.useCallback(N=>{N&&y.current===!0&&(j(),p==null||p(),y.current=!1)},[j,p]);return e.jsx(Mm,{scope:a,contentWrapper:i,shouldExpandOnScrollRef:v,onScrollButtonChange:D,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:e.jsx(Ae.div,{...n,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Lo.displayName=Dm;var Rm="SelectPopperPosition",Qa=d.forwardRef((t,s)=>{const{__scopeSelect:a,align:r="start",collisionPadding:n=xt,...o}=t,l=Sa(a);return e.jsx(Ci,{...l,...o,ref:s,align:r,collisionPadding:n,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qa.displayName=Rm;var[Mm,yr]=js(es,{}),er="SelectViewport",Uo=d.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:r,...n}=t,o=zt(er,a),l=yr(er,a),i=Ge(s,o.onViewportChange),c=d.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(wa.Slot,{scope:a,children:e.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ie(n.onScroll,h=>{const u=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&m){const v=Math.abs(c.current-u.scrollTop);if(v>0){const y=window.innerHeight-xt*2,x=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),b=Math.max(x,g);if(b<y){const p=b+v,j=Math.min(y,p),P=p-j;m.style.height=j+"px",m.style.bottom==="0px"&&(u.scrollTop=P>0?P:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Uo.displayName=er;var Oo="SelectGroup",[Im,Am]=js(Oo),Tm=d.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=ha();return e.jsx(Im,{scope:a,id:n,children:e.jsx(Ae.div,{role:"group","aria-labelledby":n,...r,ref:s})})});Tm.displayName=Oo;var zo="SelectLabel",Ho=d.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=Am(zo,a);return e.jsx(Ae.div,{id:n.id,...r,ref:s})});Ho.displayName=zo;var ma="SelectItem",[Bm,Vo]=js(ma),$o=d.forwardRef((t,s)=>{const{__scopeSelect:a,value:r,disabled:n=!1,textValue:o,...l}=t,i=Ot(ma,a),c=zt(ma,a),h=i.value===r,[u,m]=d.useState(o??""),[f,v]=d.useState(!1),y=Ge(s,p=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,p,r,n)}),x=ha(),g=d.useRef("touch"),b=()=>{n||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Bm,{scope:a,value:r,disabled:n,textId:x,isSelected:h,onItemTextChange:d.useCallback(p=>{m(j=>j||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(wa.ItemSlot,{scope:a,value:r,disabled:n,textValue:u,children:e.jsx(Ae.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":h&&f,"data-state":h?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...l,ref:y,onFocus:Ie(l.onFocus,()=>v(!0)),onBlur:Ie(l.onBlur,()=>v(!1)),onClick:Ie(l.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:Ie(l.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:Ie(l.onPointerDown,p=>{g.current=p.pointerType}),onPointerMove:Ie(l.onPointerMove,p=>{var j;g.current=p.pointerType,n?(j=c.onItemLeave)==null||j.call(c):g.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,p=>{var j;p.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ie(l.onKeyDown,p=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&p.key===" "||(wm.includes(p.key)&&b(),p.key===" "&&p.preventDefault())})})})})});$o.displayName=ma;var Ls="SelectItemText",Go=d.forwardRef((t,s)=>{const{__scopeSelect:a,className:r,style:n,...o}=t,l=Ot(Ls,a),i=zt(Ls,a),c=Vo(Ls,a),h=Cm(Ls,a),[u,m]=d.useState(null),f=Ge(s,b=>m(b),c.onItemTextChange,b=>{var p;return(p=i.itemTextRefCallback)==null?void 0:p.call(i,b,c.value,c.disabled)}),v=u==null?void 0:u.textContent,y=d.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:g}=h;return Tt(()=>(x(y),()=>g(y)),[x,g,y]),e.jsxs(e.Fragment,{children:[e.jsx(Ae.span,{id:c.textId,...o,ref:f}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?cr.createPortal(o.children,l.valueNode):null]})});Go.displayName=Ls;var Wo="SelectItemIndicator",Yo=d.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return Vo(Wo,a).isSelected?e.jsx(Ae.span,{"aria-hidden":!0,...r,ref:s}):null});Yo.displayName=Wo;var tr="SelectScrollUpButton",Ko=d.forwardRef((t,s)=>{const a=zt(tr,t.__scopeSelect),r=yr(tr,t.__scopeSelect),[n,o]=d.useState(!1),l=Ge(s,r.onScrollButtonChange);return Tt(()=>{if(a.viewport&&a.isPositioned){let i=function(){const h=c.scrollTop>0;o(h)};const c=a.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[a.viewport,a.isPositioned]),n?e.jsx(Jo,{...t,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=a;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});Ko.displayName=tr;var sr="SelectScrollDownButton",qo=d.forwardRef((t,s)=>{const a=zt(sr,t.__scopeSelect),r=yr(sr,t.__scopeSelect),[n,o]=d.useState(!1),l=Ge(s,r.onScrollButtonChange);return Tt(()=>{if(a.viewport&&a.isPositioned){let i=function(){const h=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<h;o(u)};const c=a.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[a.viewport,a.isPositioned]),n?e.jsx(Jo,{...t,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=a;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});qo.displayName=sr;var Jo=d.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:r,...n}=t,o=zt("SelectScrollButton",a),l=d.useRef(null),i=Na(a),c=d.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),Tt(()=>{var u;const h=i().find(m=>m.ref.current===document.activeElement);(u=h==null?void 0:h.ref.current)==null||u.scrollIntoView({block:"nearest"})},[i]),e.jsx(Ae.div,{"aria-hidden":!0,...n,ref:s,style:{flexShrink:0,...n.style},onPointerDown:Ie(n.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ie(n.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ie(n.onPointerLeave,()=>{c()})})}),Lm="SelectSeparator",Xo=d.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t;return e.jsx(Ae.div,{"aria-hidden":!0,...r,ref:s})});Xo.displayName=Lm;var ar="SelectArrow",Um=d.forwardRef((t,s)=>{const{__scopeSelect:a,...r}=t,n=Sa(a),o=Ot(ar,a),l=zt(ar,a);return o.open&&l.position==="popper"?e.jsx(Ei,{...n,...r,ref:s}):null});Um.displayName=ar;var Om="SelectBubbleInput",Zo=d.forwardRef(({__scopeSelect:t,value:s,...a},r)=>{const n=d.useRef(null),o=Ge(r,n),l=ja(s);return d.useEffect(()=>{const i=n.current;if(!i)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&u){const m=new Event("change",{bubbles:!0});u.call(i,s),i.dispatchEvent(m)}},[l,s]),e.jsx(Ae.select,{...a,style:{...Pi,...a.style},ref:o,defaultValue:s})});Zo.displayName=Om;function Qo(t){return t===""||t===void 0}function el(t){const s=yi(t),a=d.useRef(""),r=d.useRef(0),n=d.useCallback(l=>{const i=a.current+l;s(i),function c(h){a.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(i)},[s]),o=d.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,n,o]}function tl(t,s,a){const n=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,o=a?t.indexOf(a):-1;let l=zm(t,Math.max(o,0));n.length===1&&(l=l.filter(h=>h!==a));const c=l.find(h=>h.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==a?c:void 0}function zm(t,s){return t.map((a,r)=>t[(s+r)%t.length])}var Hm=Po,sl=_o,Vm=Ro,$m=Mo,Gm=Io,al=Ao,Wm=Uo,rl=Ho,nl=$o,Ym=Go,Km=Yo,ol=Ko,ll=qo,il=Xo;const it=Hm,ct=Vm,rt=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(sl,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx($m,{asChild:!0,children:e.jsx(ya,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=sl.displayName;const cl=d.forwardRef(({className:t,...s},a)=>e.jsx(ol,{ref:a,className:ce("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(uu,{className:"h-4 w-4"})}));cl.displayName=ol.displayName;const dl=d.forwardRef(({className:t,...s},a)=>e.jsx(ll,{ref:a,className:ce("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ya,{className:"h-4 w-4"})}));dl.displayName=ll.displayName;const nt=d.forwardRef(({className:t,children:s,position:a="popper",...r},n)=>e.jsx(Gm,{children:e.jsxs(al,{ref:n,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...r,children:[e.jsx(cl,{}),e.jsx(Wm,{className:ce("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(dl,{})]})}));nt.displayName=al.displayName;const qm=d.forwardRef(({className:t,...s},a)=>e.jsx(rl,{ref:a,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));qm.displayName=rl.displayName;const se=d.forwardRef(({className:t,children:s,...a},r)=>e.jsxs(nl,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Km,{children:e.jsx(fr,{className:"h-4 w-4"})})}),e.jsx(Ym,{children:s})]}));se.displayName=nl.displayName;const Jm=d.forwardRef(({className:t,...s},a)=>e.jsx(il,{ref:a,className:ce("-mx-1 my-1 h-px bg-muted",t),...s}));Jm.displayName=il.displayName;const Xm=({plan:t,billingCycle:s,onSuccess:a,onCancel:r})=>{const[n,o]=d.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:"",email:""}),[l,i]=d.useState(!1),[c,h]=d.useState("form"),[u,m]=d.useState(""),{toast:f}=Ze(),v=s==="monthly"?t.price_monthly:t.price_yearly,y=(D,N)=>{o(_=>({..._,[D]:N}))},x=D=>{const N=D.replace(/\s+/g,"").replace(/[^0-9]/gi,""),_=N.match(/\d{4,16}/g),I=_&&_[0]||"",k=[];for(let E=0,R=I.length;E<R;E+=4)k.push(I.substring(E,E+4));return k.length?k.join(" "):N},g=()=>n.cardNumber.replace(/\s/g,"").match(/^\d{16}$/)?!n.expiryMonth||!n.expiryYear?"Please enter card expiry date":n.cvv.match(/^\d{3,4}$/)?n.cardholderName.trim()?n.email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?null:"Please enter a valid email address":"Please enter cardholder name":"Please enter a valid CVV":"Please enter a valid 16-digit card number",b=async D=>{D.preventDefault();const N=g();if(N){m(N),f({title:"Validation Error",description:N,variant:"destructive"});return}i(!0),h("processing"),m("");try{const _={plan_id:t.id,amount:v,currency:t.currency||"USD",billing_cycle:s,payment_method:"card",card_data:{last4:n.cardNumber.slice(-4),brand:"visa",expiry_month:n.expiryMonth,expiry_year:n.expiryYear},customer:{email:n.email,name:n.cardholderName}},I=await Ne.post("/payment/process-in-app",_);if(I.status==="success")h("success"),f({title:"Payment Successful!",description:"Your subscription has been activated."}),setTimeout(()=>{a()},2e3);else throw new Error(I.message||"Payment failed")}catch(_){console.error("Payment error:",_),m(_ instanceof Error?_.message:"Payment failed"),h("error"),f({title:"Payment Failed",description:_ instanceof Error?_.message:"Unable to process payment",variant:"destructive"})}finally{i(!1)}},p=()=>e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"cardNumber",children:"Card Number"}),e.jsx(_e,{id:"cardNumber",type:"text",placeholder:"1234 5678 9012 3456",value:n.cardNumber,onChange:D=>y("cardNumber",x(D.target.value)),maxLength:19,className:"font-mono"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"expiryMonth",children:"Month"}),e.jsxs(it,{value:n.expiryMonth,onValueChange:D=>y("expiryMonth",D),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"MM"})}),e.jsx(nt,{children:Array.from({length:12},(D,N)=>N+1).map(D=>e.jsx(se,{value:D.toString().padStart(2,"0"),children:D.toString().padStart(2,"0")},D))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"expiryYear",children:"Year"}),e.jsxs(it,{value:n.expiryYear,onValueChange:D=>y("expiryYear",D),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"YYYY"})}),e.jsx(nt,{children:Array.from({length:10},(D,N)=>new Date().getFullYear()+N).map(D=>e.jsx(se,{value:D.toString(),children:D},D))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"cvv",children:"CVV"}),e.jsx(_e,{id:"cvv",type:"text",placeholder:"123",value:n.cvv,onChange:D=>y("cvv",D.target.value.replace(/\D/g,"")),maxLength:4,className:"font-mono"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"cardholderName",children:"Cardholder Name"}),e.jsx(_e,{id:"cardholderName",type:"text",placeholder:"John Doe",value:n.cardholderName,onChange:D=>y("cardholderName",D.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"email",children:"Email"}),e.jsx(_e,{id:"email",type:"email",placeholder:"john@example.com",value:n.email,onChange:D=>y("email",D.target.value)})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(O,{type:"button",variant:"outline",onClick:r,className:"flex-1",disabled:l,children:"Cancel"}),e.jsx(O,{type:"submit",className:"flex-1 bg-[#FF6B6B] hover:bg-[#FF5252]",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(qt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Jt,{className:"mr-2 h-4 w-4"}),"Pay $",v]})})]})]}),j=()=>e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(qt,{className:"h-12 w-12 animate-spin mx-auto text-[#FF6B6B]"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Processing Payment"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we process your payment securely..."})]}),P=()=>e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(qe,{className:"h-12 w-12 mx-auto text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-green-600",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600",children:"Your subscription has been activated successfully."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to dashboard..."})]}),C=()=>e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(mu,{className:"h-12 w-12 mx-auto text-red-500"}),e.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Payment Failed"}),e.jsx("p",{className:"text-gray-600",children:u}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(O,{variant:"outline",onClick:()=>h("form"),className:"flex-1",children:"Try Again"}),e.jsx(O,{onClick:r,className:"flex-1",children:"Cancel"})]})]});return e.jsxs(fe,{className:"w-full max-w-md mx-auto",children:[e.jsxs(ke,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-12 h-12 bg-[#FF6B6B] rounded-full flex items-center justify-center",children:e.jsx(Ws,{className:"h-6 w-6 text-white"})})}),e.jsx(Ce,{children:"Complete Payment"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t.display_name," - ",s==="monthly"?"Monthly":"Yearly"," Plan"]}),e.jsxs("p",{className:"text-2xl font-bold text-[#FF6B6B]",children:["$",v]})]}),e.jsxs(ge,{children:[c==="form"&&p(),c==="processing"&&j(),c==="success"&&P(),c==="error"&&C()]})]})},Zm=()=>{var I;Ze();const{user:t}=tt(),{subscription:s,plans:a,loading:r,refreshSubscription:n}=ts(),[o,l]=d.useState(null),[i,c]=d.useState("monthly"),[h,u]=d.useState(!1),[m,f]=d.useState(!1),[v,y]=d.useState(!1),[x,g]=d.useState(""),[b,p]=d.useState(!1),j=s==null?void 0:s.plan,P=async k=>{l(k),p(!0)},C=async()=>{p(!1),f(!0),await n(),setTimeout(()=>{window.location.href="/"},3e3)},D=()=>{p(!1),l(null)},N=k=>{const E=i==="monthly"?k.price_monthly:k.price_yearly;return ms.formatAmount(E,k.currency)},_=()=>i==="monthly"?"month":"year";return r?e.jsx(gt,{message:"Loading subscription plans..."}):m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-50 flex items-center justify-center p-4",children:e.jsx(fe,{className:"w-full max-w-md text-center",children:e.jsxs(ge,{className:"p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"h-8 w-8 text-[#FF6B6B]"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your subscription has been activated. You now have access to all premium features."}),e.jsx(O,{onClick:()=>window.location.href="/",className:"w-full bg-[#FF6B6B] hover:bg-[#FF5252]",children:"Continue to App"})]})})}):v?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-rose-50 flex items-center justify-center p-4",children:e.jsx(fe,{className:"w-full max-w-md text-center",children:e.jsxs(ge,{className:"p-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Va,{className:"h-8 w-8 text-red-600"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Failed"}),e.jsx("p",{className:"text-gray-600 mb-4",children:x}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{onClick:()=>y(!1),className:"w-full bg-red-600 hover:bg-red-700",children:"Try Again"}),e.jsx(O,{variant:"outline",onClick:()=>window.location.href="/",className:"w-full",children:"Back to App"})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center",children:e.jsx(pt,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Unlock the full potential of MealLensAI with our premium subscription plans"})]}),j&&e.jsx("div",{className:"mb-8",children:e.jsx(fe,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:e.jsx(ge,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(qe,{className:"h-6 w-6 text-[#FF6B6B]"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-green-800",children:["Current Plan: ",j.display_name]}),e.jsxs("p",{className:"text-sm text-green-600",children:["Active until ",(I=s==null?void 0:s.subscription)!=null&&I.current_period_end?new Date(s.subscription.current_period_end).toLocaleDateString():"Unknown"]})]})]}),e.jsx(Re,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Active"})]})})})}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"bg-white rounded-xl p-1 shadow-sm border",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>c("monthly"),className:`px-6 py-2 rounded-lg font-medium transition-all ${i==="monthly"?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Monthly"}),e.jsxs("button",{onClick:()=>c("yearly"),className:`px-6 py-2 rounded-lg font-medium transition-all relative ${i==="yearly"?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Yearly",e.jsx(Re,{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs px-1 py-0.5",children:"Save 20%"})]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:a.map(k=>{const E=(j==null?void 0:j.id)===k.id,R=k.name==="premium";return e.jsxs(fe,{className:`relative transition-all duration-200 hover:shadow-lg ${E?"ring-2 ring-green-500 bg-green-50":R?"ring-2 ring-blue-500":"hover:ring-2 hover:ring-gray-300"}`,children:[R&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs(Re,{className:"bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] text-white px-3 py-1",children:[e.jsx(pr,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),E&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs(Re,{className:"bg-[#FF6B6B] text-white px-3 py-1",children:[e.jsx(qe,{className:"h-3 w-3 mr-1"}),"Current Plan"]})}),e.jsxs(ke,{className:"text-center pb-4",children:[e.jsx(Ce,{className:"text-2xl font-bold text-gray-900",children:k.display_name}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-4xl font-bold text-gray-900",children:N(k)}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["/",_()]})]})]}),e.jsxs(ge,{className:"space-y-6",children:[e.jsx("div",{className:"space-y-3",children:Object.entries(k.features).map(([L,z])=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${z?"bg-green-100":"bg-gray-100"}`,children:z?e.jsx(qe,{className:"h-3 w-3 text-[#FF6B6B]"}):e.jsx(Va,{className:"h-3 w-3 text-gray-400"})}),e.jsx("span",{className:`text-sm ${z?"text-gray-900":"text-gray-500"}`,children:L.replace(/_/g," ").replace(/\b\w/g,oe=>oe.toUpperCase())})]},L))}),e.jsx(O,{onClick:()=>E?null:P(k),disabled:E||h,className:`w-full py-3 font-semibold ${E?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] hover:from-[#FF5252] hover:to-[#FF6B6B] text-white shadow-lg hover:shadow-xl"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(qt,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):E?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Current Plan"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Subscribe Now"]})})]})]},k.id)})}),e.jsxs(fe,{className:"mb-8",children:[e.jsx(ke,{children:e.jsx(Ce,{className:"text-2xl font-bold text-center",children:"What's Included"})}),e.jsx(ge,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(da,{className:"h-6 w-6 text-[#FF6B6B]"})}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"AI Food Detection"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Advanced AI-powered food recognition with detailed nutritional information"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(pt,{className:"h-6 w-6 text-[#FF6B6B]"})}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Smart Meal Planning"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Personalized meal plans based on your preferences and health goals"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Xt,{className:"h-6 w-6 text-[#FF6B6B]"})}),e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Health Tracking"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Comprehensive health monitoring and dietary recommendations"})]})]})})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-8 text-gray-500 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-4 w-4"}),e.jsx("span",{children:"Secure Payment"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4"}),e.jsx("span",{children:"Privacy Protected"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-4 w-4"}),e.jsx("span",{children:"Cancel Anytime"})]})]})})]}),b&&o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsx(Xm,{plan:o,billingCycle:i,onSuccess:C,onCancel:D})})})]})};var ka="Switch",[Qm,Yh]=qs(ka),[eh,th]=Qm(ka),ul=d.forwardRef((t,s)=>{const{__scopeSwitch:a,name:r,checked:n,defaultChecked:o,required:l,disabled:i,value:c="on",onCheckedChange:h,form:u,...m}=t,[f,v]=d.useState(null),y=Ge(s,j=>v(j)),x=d.useRef(!1),g=f?u||!!f.closest("form"):!0,[b,p]=xs({prop:n,defaultProp:o??!1,onChange:h,caller:ka});return e.jsxs(eh,{scope:a,checked:b,disabled:i,children:[e.jsx(Ae.button,{type:"button",role:"switch","aria-checked":b,"aria-required":l,"data-state":fl(b),"data-disabled":i?"":void 0,disabled:i,value:c,...m,ref:y,onClick:Ie(t.onClick,j=>{p(P=>!P),g&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})}),g&&e.jsx(xl,{control:f,bubbles:!x.current,name:r,value:c,checked:b,required:l,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});ul.displayName=ka;var ml="SwitchThumb",hl=d.forwardRef((t,s)=>{const{__scopeSwitch:a,...r}=t,n=th(ml,a);return e.jsx(Ae.span,{"data-state":fl(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:s})});hl.displayName=ml;var sh="SwitchBubbleInput",xl=d.forwardRef(({__scopeSwitch:t,control:s,checked:a,bubbles:r=!0,...n},o)=>{const l=d.useRef(null),i=Ge(l,o),c=ja(a),h=ir(s);return d.useEffect(()=>{const u=l.current;if(!u)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==a&&v){const y=new Event("click",{bubbles:r});v.call(u,a),u.dispatchEvent(y)}},[c,a,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:i,style:{...n.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xl.displayName=sh;function fl(t){return t?"checked":"unchecked"}var gl=ul,ah=hl;const Qe=d.forwardRef(({className:t,...s},a)=>e.jsx(gl,{className:ce("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(ah,{className:ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Qe.displayName=gl.displayName;var rh="Separator",cn="horizontal",nh=["horizontal","vertical"],pl=d.forwardRef((t,s)=>{const{decorative:a,orientation:r=cn,...n}=t,o=oh(r)?r:cn,i=a?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(Ae.div,{"data-orientation":o,...i,...n,ref:s})});pl.displayName=rh;function oh(t){return nh.includes(t)}var bl=pl;const vr=d.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...r},n)=>e.jsx(bl,{ref:n,decorative:a,orientation:s,className:ce("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));vr.displayName=bl.displayName;function lh(){var ks;const{toast:t}=Ze(),{user:s}=tt(),{subscription:a,isInTrial:r,getTrialDaysLeft:n}=ts(),o=et(),[l,i]=d.useState(null),[c,h]=d.useState(!0),[u,m]=d.useState(!1),[f,v]=d.useState(!1),[y,x]=d.useState(""),[g,b]=d.useState(""),[p,j]=d.useState(""),[P,C]=d.useState(""),[D,N]=d.useState(0),[_,I]=d.useState(""),[k,E]=d.useState("USD"),[R,L]=d.useState(""),[z,oe]=d.useState(""),[de,pe]=d.useState(""),[T,ee]=d.useState(""),[be,X]=d.useState(""),[Fe,J]=d.useState(!1),[te,A]=d.useState([]),[we,G]=d.useState([]),[ne,ye]=d.useState([]),[le,re]=d.useState([]),[Y,Be]=d.useState(!1),[We,De]=d.useState(""),[Ye,ut]=d.useState(""),[ss,as]=d.useState(null),[Ns,rs]=d.useState(0),[Ss,ns]=d.useState(0),[dt,mt]=d.useState({name:"",phone:"",relationship:""}),$=["United States","Canada","United Kingdom","Germany","France","Spain","Italy","Netherlands","Belgium","Switzerland","Austria","Sweden","Norway","Denmark","Finland","Poland","Czech Republic","Hungary","Romania","Bulgaria","Greece","Portugal","Ireland","Luxembourg","Malta","Cyprus","Estonia","Latvia","Lithuania","Slovenia","Slovakia","Croatia","Serbia","Montenegro","Albania","North Macedonia","Bosnia and Herzegovina","Kosovo","Iceland","Liechtenstein","Monaco","San Marino","Vatican City","Andorra","Australia","New Zealand","Japan","South Korea","China","India","Singapore","Malaysia","Thailand","Vietnam","Philippines","Indonesia","Taiwan","Hong Kong","Macau","Brunei","Cambodia","Laos","Myanmar","Bangladesh","Sri Lanka","Pakistan","Nepal","Bhutan","Maldives","Mongolia","Kazakhstan","Uzbekistan","Kyrgyzstan","Tajikistan","Turkmenistan","Afghanistan","Iran","Iraq","Syria","Lebanon","Jordan","Israel","Palestine","Saudi Arabia","Yemen","Oman","United Arab Emirates","Qatar","Bahrain","Kuwait","Egypt","Libya","Tunisia","Algeria","Morocco","Sudan","South Sudan","Ethiopia","Eritrea","Djibouti","Somalia","Kenya","Uganda","Tanzania","Rwanda","Burundi","Democratic Republic of the Congo","Republic of the Congo","Gabon","Equatorial Guinea","Cameroon","Central African Republic","Chad","Niger","Nigeria","Benin","Togo","Ghana","Ivory Coast","Liberia","Sierra Leone","Guinea","Guinea-Bissau","Senegal","Gambia","Mauritania","Mali","Burkina Faso","Cape Verde","So Tom and Prncipe","Angola","Zambia","Malawi","Mozambique","Zimbabwe","Botswana","Namibia","South Africa","Lesotho","Eswatini","Madagascar","Comoros","Mauritius","Seychelles","Brazil","Argentina","Chile","Peru","Bolivia","Paraguay","Uruguay","Ecuador","Colombia","Venezuela","Guyana","Suriname","French Guiana","Mexico","Guatemala","Belize","El Salvador","Honduras","Nicaragua","Costa Rica","Panama","Cuba","Jamaica","Haiti","Dominican Republic","Puerto Rico","Trinidad and Tobago","Barbados","Grenada","Saint Vincent and the Grenadines","Saint Lucia","Dominica","Antigua and Barbuda","Saint Kitts and Nevis","Bahamas","Fiji","Papua New Guinea","Solomon Islands","Vanuatu","New Caledonia","Samoa","Tonga","Tuvalu","Kiribati","Marshall Islands","Micronesia","Palau","Nauru"],me=ae=>({"United States":"USD",Canada:"CAD","United Kingdom":"GBP",Germany:"EUR",France:"EUR",Spain:"EUR",Italy:"EUR",Netherlands:"EUR",Belgium:"EUR",Switzerland:"CHF",Austria:"EUR",Sweden:"SEK",Norway:"NOK",Denmark:"DKK",Finland:"EUR",Poland:"PLN","Czech Republic":"CZK",Hungary:"HUF",Romania:"RON",Bulgaria:"BGN",Greece:"EUR",Portugal:"EUR",Ireland:"EUR",Luxembourg:"EUR",Malta:"EUR",Cyprus:"EUR",Estonia:"EUR",Latvia:"EUR",Lithuania:"EUR",Slovenia:"EUR",Slovakia:"EUR",Croatia:"EUR",Serbia:"RSD",Montenegro:"EUR",Albania:"ALL","North Macedonia":"MKD","Bosnia and Herzegovina":"BAM",Kosovo:"EUR",Iceland:"ISK",Liechtenstein:"CHF",Monaco:"EUR","San Marino":"EUR","Vatican City":"EUR",Andorra:"EUR",Australia:"AUD","New Zealand":"NZD",Japan:"JPY","South Korea":"KRW",China:"CNY",India:"INR",Singapore:"SGD",Malaysia:"MYR",Thailand:"THB",Vietnam:"VND",Philippines:"PHP",Indonesia:"IDR",Taiwan:"TWD","Hong Kong":"HKD",Macau:"MOP",Brunei:"BND",Cambodia:"KHR",Laos:"LAK",Myanmar:"MMK",Bangladesh:"BDT","Sri Lanka":"LKR",Pakistan:"PKR",Nepal:"NPR",Bhutan:"BTN",Maldives:"MVR",Mongolia:"MNT",Kazakhstan:"KZT",Uzbekistan:"UZS",Kyrgyzstan:"KGS",Tajikistan:"TJS",Turkmenistan:"TMT",Afghanistan:"AFN",Iran:"IRR",Iraq:"IQD",Syria:"SYP",Lebanon:"LBP",Jordan:"JOD",Israel:"ILS",Palestine:"ILS","Saudi Arabia":"SAR",Yemen:"YER",Oman:"OMR","United Arab Emirates":"AED",Qatar:"QAR",Bahrain:"BHD",Kuwait:"KWD",Egypt:"EGP",Libya:"LYD",Tunisia:"TND",Algeria:"DZD",Morocco:"MAD",Sudan:"SDG","South Sudan":"SSP",Ethiopia:"ETB",Eritrea:"ERN",Djibouti:"DJF",Somalia:"SOS",Kenya:"KES",Uganda:"UGX",Tanzania:"TZS",Rwanda:"RWF",Burundi:"BIF","Democratic Republic of the Congo":"CDF","Republic of the Congo":"XAF",Gabon:"XAF","Equatorial Guinea":"XAF",Cameroon:"XAF","Central African Republic":"XAF",Chad:"XAF",Niger:"XOF",Nigeria:"NGN",Benin:"XOF",Togo:"XOF",Ghana:"GHS","Ivory Coast":"XOF",Liberia:"LRD","Sierra Leone":"SLL",Guinea:"GNF","Guinea-Bissau":"XOF",Senegal:"XOF",Gambia:"GMD",Mauritania:"MRU",Mali:"XOF","Burkina Faso":"XOF","Cape Verde":"CVE","So Tom and Prncipe":"STN",Angola:"AOA",Zambia:"ZMW",Malawi:"MWK",Mozambique:"MZN",Zimbabwe:"ZWL",Botswana:"BWP",Namibia:"NAD","South Africa":"ZAR",Lesotho:"LSL",Eswatini:"SZL",Madagascar:"MGA",Comoros:"KMF",Mauritius:"MUR",Seychelles:"SCR",Brazil:"BRL",Argentina:"ARS",Chile:"CLP",Peru:"PEN",Bolivia:"BOB",Paraguay:"PYG",Uruguay:"UYU",Ecuador:"USD",Colombia:"COP",Venezuela:"VES",Guyana:"GYD",Suriname:"SRD","French Guiana":"EUR",Mexico:"MXN",Guatemala:"GTQ",Belize:"BZD","El Salvador":"USD",Honduras:"HNL",Nicaragua:"NIO","Costa Rica":"CRC",Panama:"PAB",Cuba:"CUP",Jamaica:"JMD",Haiti:"HTG","Dominican Republic":"DOP","Puerto Rico":"USD","Trinidad and Tobago":"TTD",Barbados:"BBD",Grenada:"XCD","Saint Vincent and the Grenadines":"XCD","Saint Lucia":"XCD",Dominica:"XCD","Antigua and Barbuda":"XCD","Saint Kitts and Nevis":"XCD",Bahamas:"BSD",Fiji:"FJD","Papua New Guinea":"PGK","Solomon Islands":"SBD",Vanuatu:"VUV","New Caledonia":"XPF",Samoa:"WST",Tonga:"TOP",Tuvalu:"AUD",Kiribati:"AUD","Marshall Islands":"USD",Micronesia:"USD",Palau:"USD",Nauru:"AUD"})[ae]||"USD",Z=ae=>{L(ae);const ue=me(ae);E(ue)};d.useEffect(()=>{(async()=>{try{const ue=await Ne.getUserProfile();ue.status==="success"&&ue.profile&&(i(ue.profile),x(ue.profile.first_name||""),b(ue.profile.last_name||""),j(ue.profile.email||""),C(ue.profile.gender||""),N(ue.profile.age||0),I(ue.profile.mobile_number||""),E(ue.profile.currency||"USD"),L(ue.profile.country||""),oe(ue.profile.state||""),pe(ue.profile.city||""),ee(ue.profile.address||""),X(ue.profile.postal_code||""),J(ue.profile.has_health_condition||!1),A(ue.profile.health_conditions||[]),G(ue.profile.allergies||[]),ye(ue.profile.dietary_preferences||[]),re(ue.profile.medical_history||[]),Be(ue.profile.has_sickness||!1),De(ue.profile.sickness_type||""),mt(ue.profile.emergency_contact||{name:"",phone:"",relationship:""}))}catch(ue){console.error("Error fetching profile:",ue),t({title:"Error",description:"Failed to load profile data.",variant:"destructive"})}finally{h(!1)}})()},[t]);const ve=async()=>{v(!0);try{const ae={first_name:y,last_name:g,email:p,gender:P,age:D,mobile_number:_,currency:k,country:R,state:z,city:de,address:T,postal_code:be,has_health_condition:Fe,health_conditions:te,allergies:we,dietary_preferences:ne,medical_history:le,has_sickness:Y,sickness_type:We,emergency_contact:dt},ue=await Ne.updateUserProfile(ae);if(ue.status==="success")t({title:"Success",description:"Profile updated successfully."}),m(!1),i(ue.profile);else throw new Error(ue.message||"Failed to update profile")}catch(ae){console.error("Error updating profile:",ae),t({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}finally{v(!1)}},He=()=>{l&&(x(l.first_name||""),b(l.last_name||""),j(l.email||""),C(l.gender||""),N(l.age||0),I(l.mobile_number||""),E(l.currency||"USD"),L(l.country||""),oe(l.state||""),pe(l.city||""),ee(l.address||""),X(l.postal_code||""),J(l.has_health_condition||!1),A(l.health_conditions||[]),G(l.allergies||[]),ye(l.dietary_preferences||[]),re(l.medical_history||[]),Be(l.has_sickness||!1),De(l.sickness_type||""),mt(l.emergency_contact||{name:"",phone:"",relationship:""})),m(!1)},ot=()=>{const ae=y.charAt(0).toUpperCase(),ue=g.charAt(0).toUpperCase();return ae+ue},wt=()=>l!=null&&l.created_at?new Date(l.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown",Ke=ae=>{if(!ae)return 0;const ue=new Date,Nt=new Date(ae);let yt=ue.getFullYear()-Nt.getFullYear();const Ht=ue.getMonth()-Nt.getMonth();return(Ht<0||Ht===0&&ue.getDate()<Nt.getDate())&&yt--,yt},Js=ae=>{var Nt;const ue=(Nt=ae.target.files)==null?void 0:Nt[0];if(ue){const yt=new FileReader;yt.onload=Ht=>{var os;as((os=Ht.target)==null?void 0:os.result)},yt.readAsDataURL(ue)}};return c?e.jsx(gt,{message:"Loading profile..."}):e.jsx("div",{className:"h-screen bg-gradient-to-br from-slate-50 to-gray-100 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white border-b border-gray-200",children:[e.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>o(-1),className:"text-gray-600 hover:text-gray-900",children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Profile"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account information"})]}),u?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(O,{onClick:ve,disabled:f,size:"sm",className:"bg-[#FF6B6B] hover:bg-[#FF5252]",children:[f?e.jsx(qt,{className:"h-3 w-3 mr-2 animate-spin"}):e.jsx(gr,{className:"h-3 w-3 mr-2"}),"Save"]}),e.jsxs(O,{variant:"outline",onClick:He,disabled:f,size:"sm",children:[e.jsx(Ft,{className:"h-3 w-3 mr-2"}),"Cancel"]})]}):e.jsxs(O,{onClick:()=>m(!0),variant:"outline",size:"sm",children:[e.jsx(Nu,{className:"h-3 w-3 mr-2"}),"Edit"]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs("div",{className:"h-full grid grid-cols-1 lg:grid-cols-3 gap-4 p-4",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(fe,{className:"bg-white shadow-sm border-0",children:e.jsx(ge,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[ss?e.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden",children:e.jsx("img",{src:ss,alt:"Profile",className:"w-full h-full object-cover"})}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-full flex items-center justify-center text-white text-xl font-bold",children:ot()}),u&&e.jsxs("div",{className:"absolute -bottom-1 -right-1",children:[e.jsx("input",{type:"file",id:"profile-image",accept:"image/*",onChange:Js,className:"hidden"}),e.jsx("label",{htmlFor:"profile-image",children:e.jsx(O,{size:"sm",variant:"outline",className:"w-6 h-6 rounded-full p-0 cursor-pointer bg-white hover:bg-gray-50",children:e.jsx(Yt,{className:"h-3 w-3"})})})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[y," ",g]}),e.jsxs("p",{className:"text-gray-600 flex items-center gap-2 text-sm",children:[e.jsx(Ys,{className:"h-3 w-3"}),p]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[e.jsx(Gs,{className:"h-3 w-3"}),"Member since ",wt()]})]}),e.jsx("div",{className:"flex flex-col gap-2",children:((ks=a==null?void 0:a.subscription)==null?void 0:ks.status)==="active"?e.jsxs(Re,{className:"bg-[#FF6B6B]/10 text-[#FF6B6B] border-[#FF6B6B]/20 text-xs",children:[e.jsx(pt,{className:"h-3 w-3 mr-1"}),"Premium"]}):r()?e.jsxs(Re,{className:"bg-orange-100 text-orange-800 border-orange-200 text-xs",children:[e.jsx(Bt,{className:"h-3 w-3 mr-1"}),"Trial - ",n(),"d"]}):e.jsxs(Re,{variant:"outline",className:"text-gray-600 text-xs",children:[e.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Free"]})})]})})})}),e.jsx("div",{className:"lg:col-span-2 space-y-4 overflow-y-auto",children:e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsx(ke,{className:"pb-3",children:e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Zt,{className:"h-5 w-5 text-[#FF6B6B]"}),"Personal Information"]})}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"firstName",className:"text-sm font-medium",children:"First Name"}),e.jsx(_e,{id:"firstName",value:y,onChange:ae=>x(ae.target.value),disabled:!u,placeholder:"Enter your first name",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"lastName",className:"text-sm font-medium",children:"Last Name"}),e.jsx(_e,{id:"lastName",value:g,onChange:ae=>b(ae.target.value),disabled:!u,placeholder:"Enter your last name",className:"h-9"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsx(_e,{id:"email",type:"email",value:p,onChange:ae=>j(ae.target.value),disabled:!u,placeholder:"Enter your email",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"mobileNumber",className:"text-sm font-medium",children:"Phone Number"}),e.jsx(_e,{id:"mobileNumber",value:_,onChange:ae=>I(ae.target.value),disabled:!u,placeholder:"Enter your phone number",className:"h-9"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"dateOfBirth",className:"text-sm font-medium",children:"Date of Birth"}),e.jsx(_e,{id:"dateOfBirth",type:"date",value:Ye,onChange:ae=>{ut(ae.target.value),N(Ke(ae.target.value))},disabled:!u,className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"age",className:"text-sm font-medium",children:"Age"}),e.jsx(_e,{id:"age",type:"number",value:D,onChange:ae=>N(parseInt(ae.target.value)||0),disabled:!u,placeholder:"Enter your age",className:"h-9"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"gender",className:"text-sm font-medium",children:"Gender"}),e.jsxs(it,{value:P,onValueChange:C,disabled:!u,children:[e.jsx(rt,{className:"h-9",children:e.jsx(ct,{placeholder:"Select gender"})}),e.jsxs(nt,{children:[e.jsx(se,{value:"male",children:"Male"}),e.jsx(se,{value:"female",children:"Female"}),e.jsx(se,{value:"other",children:"Other"}),e.jsx(se,{value:"prefer_not_to_say",children:"Prefer not to say"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"weight",className:"text-sm font-medium",children:"Weight (kg)"}),e.jsx(_e,{id:"weight",type:"number",value:Ns,onChange:ae=>rs(parseFloat(ae.target.value)||0),disabled:!u,placeholder:"Enter your weight",className:"h-9"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"height",className:"text-sm font-medium",children:"Height (cm)"}),e.jsx(_e,{id:"height",type:"number",value:Ss,onChange:ae=>ns(parseFloat(ae.target.value)||0),disabled:!u,placeholder:"Enter your height",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"currency",className:"text-sm font-medium",children:"Currency"}),e.jsxs(it,{value:k,onValueChange:E,disabled:!u,children:[e.jsx(rt,{className:"h-9",children:e.jsx(ct,{placeholder:"Select currency"})}),e.jsxs(nt,{children:[e.jsx(se,{value:"USD",children:"USD ($)"}),e.jsx(se,{value:"EUR",children:"EUR ()"}),e.jsx(se,{value:"GBP",children:"GBP ()"}),e.jsx(se,{value:"NGN",children:"NGN ()"}),e.jsx(se,{value:"CAD",children:"CAD (C$)"}),e.jsx(se,{value:"AUD",children:"AUD (A$)"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qe,{id:"hasIllness",checked:Y,onCheckedChange:Be,disabled:!u}),e.jsx(V,{htmlFor:"hasIllness",className:"text-sm font-medium",children:"Do you have any illnesses?"})]}),Y&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"illnessName",className:"text-sm font-medium",children:"Illness Name(s)"}),e.jsx(_e,{id:"illnessName",value:We,onChange:ae=>De(ae.target.value),disabled:!u,placeholder:"Enter illness name(s)",className:"h-9"})]})]}),e.jsx(vr,{}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(vu,{className:"h-4 w-4 text-[#FF6B6B]"}),"Address Information"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"country",className:"text-sm font-medium",children:"Country"}),e.jsxs(it,{value:R,onValueChange:Z,disabled:!u,children:[e.jsx(rt,{className:"h-9",children:e.jsx(ct,{placeholder:"Select country"})}),e.jsx(nt,{children:$.map(ae=>e.jsx(se,{value:ae,children:ae},ae))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"state",className:"text-sm font-medium",children:"State/Province"}),e.jsx(_e,{id:"state",value:z,onChange:ae=>oe(ae.target.value),disabled:!u,placeholder:"Enter your state",className:"h-9"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"city",className:"text-sm font-medium",children:"City"}),e.jsx(_e,{id:"city",value:de,onChange:ae=>pe(ae.target.value),disabled:!u,placeholder:"Enter your city",className:"h-9"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"postalCode",className:"text-sm font-medium",children:"Postal Code"}),e.jsx(_e,{id:"postalCode",value:be,onChange:ae=>X(ae.target.value),disabled:!u,placeholder:"Enter your postal code",className:"h-9"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(V,{htmlFor:"address",className:"text-sm font-medium",children:"Address"}),e.jsx(_e,{id:"address",value:T,onChange:ae=>ee(ae.target.value),disabled:!u,placeholder:"Enter your full address",className:"h-9 mt-2"})]})]})]})]})}),e.jsx("div",{className:"space-y-4 overflow-y-auto",children:e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsx(ke,{className:"pb-3",children:e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Ks,{className:"h-5 w-5 text-[#FF6B6B]"}),"Quick Actions"]})}),e.jsxs(ge,{className:"space-y-2",children:[e.jsxs(O,{variant:"outline",className:"w-full justify-start text-sm h-9",onClick:()=>o("/settings"),children:[e.jsx(Ks,{className:"h-3 w-3 mr-2"}),"Settings"]}),e.jsxs(O,{variant:"outline",className:"w-full justify-start text-sm h-9",onClick:()=>o("/payment"),children:[e.jsx(Ws,{className:"h-3 w-3 mr-2"}),"Billing"]})]})]})})]})})]})})}var yl=["PageUp","PageDown"],vl=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jl={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ws="Slider",[rr,ih,ch]=_n(ws),[wl,Kh]=qs(ws,[ch]),[dh,Ca]=wl(ws),Nl=d.forwardRef((t,s)=>{const{name:a,min:r=0,max:n=100,step:o=1,orientation:l="horizontal",disabled:i=!1,minStepsBetweenThumbs:c=0,defaultValue:h=[r],value:u,onValueChange:m=()=>{},onValueCommit:f=()=>{},inverted:v=!1,form:y,...x}=t,g=d.useRef(new Set),b=d.useRef(0),j=l==="horizontal"?uh:mh,[P=[],C]=xs({prop:u,defaultProp:h,onChange:E=>{var L;(L=[...g.current][b.current])==null||L.focus(),m(E)}}),D=d.useRef(P);function N(E){const R=ph(P,E);k(E,R)}function _(E){k(E,b.current)}function I(){const E=D.current[b.current];P[b.current]!==E&&f(P)}function k(E,R,{commit:L}={commit:!1}){const z=jh(o),oe=wh(Math.round((E-r)/o)*o+r,z),de=ua(oe,[r,n]);C((pe=[])=>{const T=fh(pe,de,R);if(vh(T,c*o)){b.current=T.indexOf(de);const ee=String(T)!==String(pe);return ee&&L&&f(T),ee?T:pe}else return pe})}return e.jsx(dh,{scope:t.__scopeSlider,name:a,disabled:i,min:r,max:n,valueIndexToChangeRef:b,thumbs:g.current,values:P,orientation:l,form:y,children:e.jsx(rr.Provider,{scope:t.__scopeSlider,children:e.jsx(rr.Slot,{scope:t.__scopeSlider,children:e.jsx(j,{"aria-disabled":i,"data-disabled":i?"":void 0,...x,ref:s,onPointerDown:Ie(x.onPointerDown,()=>{i||(D.current=P)}),min:r,max:n,inverted:v,onSlideStart:i?void 0:N,onSlideMove:i?void 0:_,onSlideEnd:i?void 0:I,onHomeKeyDown:()=>!i&&k(r,0,{commit:!0}),onEndKeyDown:()=>!i&&k(n,P.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:R})=>{if(!i){const oe=yl.includes(E.key)||E.shiftKey&&vl.includes(E.key)?10:1,de=b.current,pe=P[de],T=o*oe*R;k(pe+T,de,{commit:!0})}}})})})})});Nl.displayName=ws;var[Sl,kl]=wl(ws,{startEdge:"left",endEdge:"right",size:"width",direction:1}),uh=d.forwardRef((t,s)=>{const{min:a,max:r,dir:n,inverted:o,onSlideStart:l,onSlideMove:i,onSlideEnd:c,onStepKeyDown:h,...u}=t,[m,f]=d.useState(null),v=Ge(s,j=>f(j)),y=d.useRef(void 0),x=lr(n),g=x==="ltr",b=g&&!o||!g&&o;function p(j){const P=y.current||m.getBoundingClientRect(),C=[0,P.width],N=jr(C,b?[a,r]:[r,a]);return y.current=P,N(j-P.left)}return e.jsx(Sl,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:e.jsx(Cl,{dir:x,"data-orientation":"horizontal",...u,ref:v,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const P=p(j.clientX);l==null||l(P)},onSlideMove:j=>{const P=p(j.clientX);i==null||i(P)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:j=>{const C=jl[b?"from-left":"from-right"].includes(j.key);h==null||h({event:j,direction:C?-1:1})}})})}),mh=d.forwardRef((t,s)=>{const{min:a,max:r,inverted:n,onSlideStart:o,onSlideMove:l,onSlideEnd:i,onStepKeyDown:c,...h}=t,u=d.useRef(null),m=Ge(s,u),f=d.useRef(void 0),v=!n;function y(x){const g=f.current||u.current.getBoundingClientRect(),b=[0,g.height],j=jr(b,v?[r,a]:[a,r]);return f.current=g,j(x-g.top)}return e.jsx(Sl,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:e.jsx(Cl,{"data-orientation":"vertical",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const g=y(x.clientY);o==null||o(g)},onSlideMove:x=>{const g=y(x.clientY);l==null||l(g)},onSlideEnd:()=>{f.current=void 0,i==null||i()},onStepKeyDown:x=>{const b=jl[v?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:b?-1:1})}})})}),Cl=d.forwardRef((t,s)=>{const{__scopeSlider:a,onSlideStart:r,onSlideMove:n,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:i,onStepKeyDown:c,...h}=t,u=Ca(ws,a);return e.jsx(Ae.span,{...h,ref:s,onKeyDown:Ie(t.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(i(m),m.preventDefault()):yl.concat(vl).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:Ie(t.onPointerDown,m=>{const f=m.target;f.setPointerCapture(m.pointerId),m.preventDefault(),u.thumbs.has(f)?f.focus():r(m)}),onPointerMove:Ie(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&n(m)}),onPointerUp:Ie(t.onPointerUp,m=>{const f=m.target;f.hasPointerCapture(m.pointerId)&&(f.releasePointerCapture(m.pointerId),o(m))})})}),Fl="SliderTrack",Pl=d.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=Ca(Fl,a);return e.jsx(Ae.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...r,ref:s})});Pl.displayName=Fl;var nr="SliderRange",El=d.forwardRef((t,s)=>{const{__scopeSlider:a,...r}=t,n=Ca(nr,a),o=kl(nr,a),l=d.useRef(null),i=Ge(s,l),c=n.values.length,h=n.values.map(f=>Rl(f,n.min,n.max)),u=c>1?Math.min(...h):0,m=100-Math.max(...h);return e.jsx(Ae.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...r,ref:i,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:m+"%"}})});El.displayName=nr;var or="SliderThumb",_l=d.forwardRef((t,s)=>{const a=ih(t.__scopeSlider),[r,n]=d.useState(null),o=Ge(s,i=>n(i)),l=d.useMemo(()=>r?a().findIndex(i=>i.ref.current===r):-1,[a,r]);return e.jsx(hh,{...t,ref:o,index:l})}),hh=d.forwardRef((t,s)=>{const{__scopeSlider:a,index:r,name:n,...o}=t,l=Ca(or,a),i=kl(or,a),[c,h]=d.useState(null),u=Ge(s,p=>h(p)),m=c?l.form||!!c.closest("form"):!0,f=ir(c),v=l.values[r],y=v===void 0?0:Rl(v,l.min,l.max),x=gh(r,l.values.length),g=f==null?void 0:f[i.size],b=g?bh(g,y,i.direction):0;return d.useEffect(()=>{if(c)return l.thumbs.add(c),()=>{l.thumbs.delete(c)}},[c,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${y}% + ${b}px)`},children:[e.jsx(rr.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Ae.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":l.min,"aria-valuenow":v,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:u,style:v===void 0?{display:"none"}:t.style,onFocus:Ie(t.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),m&&e.jsx(Dl,{name:n??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:v},r)]})});_l.displayName=or;var xh="RadioBubbleInput",Dl=d.forwardRef(({__scopeSlider:t,value:s,...a},r)=>{const n=d.useRef(null),o=Ge(n,r),l=ja(s);return d.useEffect(()=>{const i=n.current;if(!i)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&u){const m=new Event("input",{bubbles:!0});u.call(i,s),i.dispatchEvent(m)}},[l,s]),e.jsx(Ae.input,{style:{display:"none"},...a,ref:o,defaultValue:s})});Dl.displayName=xh;function fh(t=[],s,a){const r=[...t];return r[a]=s,r.sort((n,o)=>n-o)}function Rl(t,s,a){const o=100/(a-s)*(t-s);return ua(o,[0,100])}function gh(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function ph(t,s){if(t.length===1)return 0;const a=t.map(n=>Math.abs(n-s)),r=Math.min(...a);return a.indexOf(r)}function bh(t,s,a){const r=t/2,o=jr([0,50],[0,r]);return(r-o(s)*a)*a}function yh(t){return t.slice(0,-1).map((s,a)=>t[a+1]-s)}function vh(t,s){if(s>0){const a=yh(t);return Math.min(...a)>=s}return!0}function jr(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(t[1]-t[0]);return s[0]+r*(a-t[0])}}function jh(t){return(String(t).split(".")[1]||"").length}function wh(t,s){const a=Math.pow(10,s);return Math.round(t*a)/a}var Ml=Nl,Nh=Pl,Sh=El,kh=_l;const Il=d.forwardRef(({className:t,...s},a)=>e.jsxs(Ml,{ref:a,className:ce("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(Nh,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Sh,{className:"absolute h-full bg-primary"})}),e.jsx(kh,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Il.displayName=Ml.displayName;const Ch=()=>{var N,_,I;const t=et(),{toast:s}=Ze(),{user:a,signOut:r}=tt(),{subscription:n,isInTrial:o,getTrialDaysLeft:l}=ts(),[i,c]=d.useState(!1),[h,u]=d.useState(!1),[m,f]=d.useState({language:"en",textSize:16,boldText:!1,notifications:{email:!0,push:!0,mealReminders:!0,weeklyReports:!1,marketing:!1},theme:"light",accessibility:{reduceMotion:!1,highContrast:!1,screenReader:!1},privacy:{dataCollection:!0,analytics:!0,personalizedAds:!1}});d.useEffect(()=>{const k=localStorage.getItem("meallens-settings");if(k)try{const E=JSON.parse(k);f(R=>({...R,...E})),v(E)}catch(E){console.error("Error parsing saved settings:",E)}},[]);const v=k=>{k.theme&&(k.theme==="dark"?document.documentElement.classList.add("dark"):k.theme==="light"?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),k.textSize&&(document.documentElement.style.fontSize=`${k.textSize}px`),k.boldText!==void 0&&(k.boldText?document.body.classList.add("font-bold"):document.body.classList.remove("font-bold")),k.accessibility&&(k.accessibility.reduceMotion?document.documentElement.style.setProperty("--animation-duration","0s"):document.documentElement.style.removeProperty("--animation-duration"))},y=async()=>{u(!0);try{localStorage.setItem("meallens-settings",JSON.stringify(m)),v(m),s({title:"Settings Saved",description:"Your preferences have been updated successfully."})}catch{s({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{u(!1)}},x=async()=>{try{await r(),t("/"),s({title:"Signed Out",description:"You have been successfully signed out."})}catch{s({title:"Error",description:"Failed to sign out. Please try again.",variant:"destructive"})}},g=(k,E)=>{const R={...m,[k]:E};f(R),v({[k]:E})},b=(k,E)=>{const R={...m.notifications,[k]:E},L={...m,notifications:R};f(L),v({})},p=(k,E)=>{const R={...m.accessibility,[k]:E},L={...m,accessibility:R};f(L),v({accessibility:R})},j=(k,E)=>{const R={...m.privacy,[k]:E},L={...m,privacy:R};f(L),v({})},P=k=>{const E=k[0];g("textSize",E)},C=k=>{g("theme",k)},D=k=>k<=12?"Small":k<=16?"Medium":k<=20?"Large":"Extra Large";return e.jsx("div",{className:"h-screen bg-gradient-to-br from-slate-50 to-gray-100 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white border-b border-gray-200",children:[e.jsxs(O,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"text-gray-600 hover:text-gray-900",children:[e.jsx(ba,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Customize your MealLensAI experience"})]}),e.jsx(O,{onClick:y,disabled:h,size:"sm",className:"bg-[#FF6B6B] hover:bg-[#FF5252]",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gr,{className:"h-3 w-3 mr-2"}),"Save"]})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs("div",{className:"h-full grid grid-cols-1 lg:grid-cols-3 gap-4 p-4",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4 overflow-y-auto",children:[e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsxs(ke,{className:"pb-3",children:[e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(wu,{className:"h-5 w-5 text-[#FF6B6B]"}),"Appearance & Accessibility"]}),e.jsx(jt,{className:"text-sm",children:"Customize how MealLensAI looks and feels"})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"language",className:"text-sm font-medium",children:"Language"}),e.jsxs(it,{value:m.language,onValueChange:k=>g("language",k),children:[e.jsx(rt,{className:"h-9",children:e.jsx(ct,{placeholder:"Select language"})}),e.jsxs(nt,{children:[e.jsx(se,{value:"en",children:"English"}),e.jsx(se,{value:"es",children:"Espaol"}),e.jsx(se,{value:"fr",children:"Franais"}),e.jsx(se,{value:"de",children:"Deutsch"}),e.jsx(se,{value:"it",children:"Italiano"}),e.jsx(se,{value:"pt",children:"Portugus"}),e.jsx(se,{value:"ru",children:""}),e.jsx(se,{value:"zh",children:""}),e.jsx(se,{value:"ja",children:""}),e.jsx(se,{value:"ko",children:""})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"theme",className:"text-sm font-medium",children:"Theme"}),e.jsxs(it,{value:m.theme,onValueChange:C,children:[e.jsx(rt,{className:"h-9",children:e.jsx(ct,{placeholder:"Select theme"})}),e.jsxs(nt,{children:[e.jsx(se,{value:"light",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cu,{className:"h-4 w-4"}),"Light"]})}),e.jsx(se,{value:"dark",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uo,{className:"h-4 w-4"}),"Dark"]})}),e.jsx(se,{value:"auto",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-4 w-4"}),"Auto (System)"]})})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(V,{className:"text-sm font-medium",children:"Text Size"}),e.jsx("span",{className:"text-sm text-gray-600",children:D(m.textSize)})]}),e.jsx(Il,{value:[m.textSize],onValueChange:P,max:24,min:10,step:1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Small"}),e.jsx("span",{children:"Large"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"boldText",className:"text-sm font-medium",children:"Bold Text"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Make text easier to read"})]}),e.jsx(Qe,{id:"boldText",checked:m.boldText,onCheckedChange:k=>g("boldText",k)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"reduceMotion",className:"text-sm font-medium",children:"Reduce Motion"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Minimize animations"})]}),e.jsx(Qe,{id:"reduceMotion",checked:m.accessibility.reduceMotion,onCheckedChange:k=>p("reduceMotion",k)})]})]})]})]}),e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsxs(ke,{className:"pb-3",children:[e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(cu,{className:"h-5 w-5 text-[#FF6B6B]"}),"Notifications"]}),e.jsx(jt,{className:"text-sm",children:"Choose what notifications you want to receive"})]}),e.jsx(ge,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"emailNotifications",className:"text-sm font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive updates via email"})]}),e.jsx(Qe,{id:"emailNotifications",checked:m.notifications.email,onCheckedChange:k=>b("email",k)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"pushNotifications",className:"text-sm font-medium",children:"Push Notifications"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive notifications on your device"})]}),e.jsx(Qe,{id:"pushNotifications",checked:m.notifications.push,onCheckedChange:k=>b("push",k)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"mealReminders",className:"text-sm font-medium",children:"Meal Reminders"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Get reminded about meal times"})]}),e.jsx(Qe,{id:"mealReminders",checked:m.notifications.mealReminders,onCheckedChange:k=>b("mealReminders",k)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"weeklyReports",className:"text-sm font-medium",children:"Weekly Reports"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive weekly nutrition summaries"})]}),e.jsx(Qe,{id:"weeklyReports",checked:m.notifications.weeklyReports,onCheckedChange:k=>b("weeklyReports",k)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"marketing",className:"text-sm font-medium",children:"Marketing"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive promotional content"})]}),e.jsx(Qe,{id:"marketing",checked:m.notifications.marketing,onCheckedChange:k=>b("marketing",k)})]})]})})]}),e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsxs(ke,{className:"pb-3",children:[e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Jt,{className:"h-5 w-5 text-[#FF6B6B]"}),"Privacy & Data"]}),e.jsx(jt,{className:"text-sm",children:"Control your data and privacy settings"})]}),e.jsx(ge,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"dataCollection",className:"text-sm font-medium",children:"Data Collection"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Allow us to collect usage data"})]}),e.jsx(Qe,{id:"dataCollection",checked:m.privacy.dataCollection,onCheckedChange:k=>j("dataCollection",k)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"analytics",className:"text-sm font-medium",children:"Analytics"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Help improve the app"})]}),e.jsx(Qe,{id:"analytics",checked:m.privacy.analytics,onCheckedChange:k=>j("analytics",k)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{htmlFor:"personalizedAds",className:"text-sm font-medium",children:"Personalized Ads"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Show relevant advertisements"})]}),e.jsx(Qe,{id:"personalizedAds",checked:m.privacy.personalizedAds,onCheckedChange:k=>j("personalizedAds",k)})]})]})})]})]}),e.jsxs("div",{className:"space-y-4 overflow-y-auto",children:[e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsx(ke,{className:"pb-3",children:e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Zt,{className:"h-5 w-5 text-[#FF6B6B]"}),"Account"]})}),e.jsx(ge,{className:"space-y-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-full flex items-center justify-center text-white text-lg font-bold mx-auto mb-2",children:(N=a==null?void 0:a.email)==null?void 0:N.charAt(0).toUpperCase()}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:a==null?void 0:a.email}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Member since ",new Date().toLocaleDateString()]})]})})]}),e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsx(ke,{className:"pb-3",children:e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(pt,{className:"h-5 w-5 text-yellow-600"}),"Subscription"]})}),e.jsx(ge,{className:"space-y-3",children:((_=n==null?void 0:n.subscription)==null?void 0:_.status)==="active"?e.jsxs("div",{className:"text-center",children:[e.jsx(qe,{className:"h-6 w-6 text-[#FF6B6B] mx-auto mb-2"}),e.jsx("p",{className:"font-medium text-green-800 text-sm",children:"Active Subscription"}),e.jsx("p",{className:"text-xs text-gray-600",children:(I=n.plan)==null?void 0:I.display_name})]}):o()?e.jsxs("div",{className:"text-center",children:[e.jsx(Bt,{className:"h-6 w-6 text-orange-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium text-orange-800 text-sm",children:"Free Trial"}),e.jsxs("p",{className:"text-xs text-gray-600",children:[l()," days remaining"]}),e.jsxs(O,{onClick:()=>t("/payment"),className:"w-full mt-2 bg-[#FF6B6B] hover:bg-[#FF5252] text-xs",children:[e.jsx(Ws,{className:"h-3 w-3 mr-1"}),"Upgrade Now"]})]}):e.jsxs("div",{className:"text-center",children:[e.jsx(Xt,{className:"h-6 w-6 text-gray-600 mx-auto mb-2"}),e.jsx("p",{className:"font-medium text-gray-800 text-sm",children:"Free Plan"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Limited features"}),e.jsxs(O,{onClick:()=>t("/payment"),className:"w-full mt-2 bg-[#FF6B6B] hover:bg-[#FF5252] text-xs",children:[e.jsx(pt,{className:"h-3 w-3 mr-1"}),"Get Premium"]})]})})]}),e.jsxs(fe,{className:"bg-white shadow-sm border-0",children:[e.jsx(ke,{className:"pb-3",children:e.jsxs(Ce,{className:"flex items-center gap-2 text-lg",children:[e.jsx(Ks,{className:"h-5 w-5 text-gray-600"}),"Quick Actions"]})}),e.jsxs(ge,{className:"space-y-2",children:[e.jsxs(O,{variant:"outline",className:"w-full justify-start text-sm h-9",onClick:()=>t("/profile"),children:[e.jsx(Zt,{className:"h-3 w-3 mr-2"}),"Edit Profile"]}),e.jsxs(O,{variant:"outline",className:"w-full justify-start text-sm h-9",onClick:()=>t("/payment"),children:[e.jsx(Ws,{className:"h-3 w-3 mr-2"}),"Billing"]}),e.jsxs(O,{variant:"outline",className:"w-full justify-start text-sm h-9",onClick:()=>{s({title:"Data Export",description:"Your data export has been initiated."})},children:[e.jsx(pu,{className:"h-3 w-3 mr-2"}),"Export Data"]}),e.jsx(vr,{className:"my-2"}),e.jsxs(O,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 text-sm h-9",onClick:x,children:[e.jsx(co,{className:"h-3 w-3 mr-2"}),"Sign Out"]})]})]})]})]})})]})})},Fh=()=>{const t=et(),{user:s,signOut:a}=tt();d.useEffect(()=>{s&&window.location.pathname==="/"&&t("/home")},[s,t]);const r=()=>{t(s?"/home":"/login")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-400 via-red-500 to-orange-500",children:[e.jsx("header",{className:"bg-white/95 backdrop-blur-sm shadow-lg sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center",children:e.jsx(ps,{size:"lg",showText:!0,onClick:()=>t("/")})}),e.jsxs("nav",{className:"hidden md:flex space-x-6 lg:space-x-8",children:[e.jsx("a",{href:"#home",className:"text-gray-700 hover:text-[#FF6B6B] text-sm lg:text-base transition-colors font-medium",children:"Home"}),e.jsx("a",{href:"#features",className:"text-gray-700 hover:text-[#FF6B6B] text-sm lg:text-base transition-colors font-medium",children:"Features"}),e.jsx("a",{href:"#how-it-works",className:"text-gray-700 hover:text-[#FF6B6B] text-sm lg:text-base transition-colors font-medium",children:"How It Works"}),e.jsx("a",{href:"#pricing",className:"text-gray-700 hover:text-[#FF6B6B] text-sm lg:text-base transition-colors font-medium",children:"Pricing"})]}),e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:s?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"hidden sm:block text-gray-700 text-sm lg:text-base truncate max-w-32 lg:max-w-none",children:s.email}),e.jsx(O,{variant:"outline",onClick:a,className:"border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Sign Out"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{variant:"outline",onClick:()=>t("/login"),className:"border-[#FF6B6B] text-[#FF6B6B] hover:bg-[#FF6B6B] hover:text-white transition-colors",children:"Sign In"}),e.jsx(O,{onClick:()=>t("/signup"),className:"bg-[#FF6B6B] hover:bg-[#FF5252] text-white transition-colors",children:"Get Started"})]})})]})})}),e.jsxs("section",{id:"home",className:"py-16 sm:py-20 lg:py-24 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-white/10 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsxs(Re,{className:"mb-6 bg-white/20 text-white border-white/30 hover:bg-white/30",children:[e.jsx(Ts,{className:"h-3 w-3 mr-2"}),"AI-Powered Kitchen Assistant"]}),e.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold text-white mb-6 leading-tight",children:["Transform Your",e.jsx("span",{className:"block text-yellow-200",children:"Culinary Journey"})]}),e.jsx("p",{className:"text-xl sm:text-2xl text-white/90 mb-8 leading-relaxed max-w-2xl mx-auto lg:mx-0",children:"Snap a picture of your ingredients or meal, and let our AI guide you with recipes, cooking tips, and personalized suggestions. Your smart kitchen companion."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[e.jsxs(O,{onClick:r,size:"lg",className:"bg-white text-[#FF6B6B] hover:bg-gray-100 px-8 py-4 text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:["Start Cooking Now",e.jsx(Ha,{className:"ml-2 h-5 w-5"})]}),e.jsx(O,{variant:"outline",size:"lg",className:"border-2 border-white text-white hover:bg-white hover:text-[#FF6B6B] px-8 py-4 text-lg font-semibold transition-all duration-300",children:"Watch Demo"})]}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-6 text-white/80",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:"10,000+ Happy Users"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pr,{className:"h-5 w-5 text-yellow-300"}),e.jsx("span",{className:"text-sm",children:"4.9/5 Rating"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:"Secure & Private"})]})]})]}),e.jsx("div",{className:"flex justify-center order-first lg:order-last",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative w-full max-w-lg lg:max-w-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400/20 to-orange-400/20 rounded-3xl blur-2xl"}),e.jsx("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-3xl p-8 border border-white/20 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Yt,{className:"h-12 w-12 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Smart Food Detection"}),e.jsx("p",{className:"text-white/80 mb-6",children:"Point your camera at any food and get instant recognition"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(It,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(qa,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(Ya,{className:"h-8 w-8 text-white"})})]})]})})]}),e.jsx("div",{className:"absolute -top-4 -right-4 w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg animate-bounce",children:e.jsx(Ts,{className:"h-8 w-8 text-white"})}),e.jsx("div",{className:"absolute -bottom-4 -left-4 w-12 h-12 bg-[#FF6B6B] rounded-full flex items-center justify-center shadow-lg animate-pulse",children:e.jsx(da,{className:"h-6 w-6 text-white"})})]})})]})})]}),e.jsx("section",{id:"features",className:"py-20 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs(Re,{className:"mb-4 bg-[#FF6B6B]/10 text-[#FF6B6B] border-[#FF6B6B]/20",children:[e.jsx(Ts,{className:"h-3 w-3 mr-2"}),"Powerful Features"]}),e.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-6",children:["Everything You Need for",e.jsx("span",{className:"text-[#FF6B6B]",children:" Smart Cooking"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover why MealLensAI is the ultimate kitchen companion with cutting-edge AI technology."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs(fe,{className:"group hover:shadow-2xl transition-all duration-300 border-0 bg-gradient-to-br from-red-50 to-orange-50",children:[e.jsxs(ke,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(Yt,{className:"h-8 w-8 text-white"})}),e.jsx(Ce,{className:"text-2xl font-bold text-gray-900",children:"Smart Ingredient Recognition"})]}),e.jsxs(ge,{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Snap a picture or upload an image of your ingredients, and let MealLensAI identify them instantly using cutting-edge AI technology."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(Re,{variant:"outline",className:"text-xs",children:"Real-time"}),e.jsx(Re,{variant:"outline",className:"text-xs",children:"Accurate"}),e.jsx(Re,{variant:"outline",className:"text-xs",children:"Fast"})]})]})]}),e.jsxs(fe,{className:"group hover:shadow-2xl transition-all duration-300 border-0 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsxs(ke,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(It,{className:"h-8 w-8 text-white"})}),e.jsx(Ce,{className:"text-2xl font-bold text-gray-900",children:"Recipe Suggestions & AI Review"})]}),e.jsxs(ge,{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Discover recipes based on your ingredients, get quick meal ideas, and missing ingredients. Also snap your finished dish, and let AI score how well you made it."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(Re,{variant:"outline",className:"text-xs",children:"Personalized"}),e.jsx(Re,{variant:"outline",className:"text-xs",children:"AI-Powered"}),e.jsx(Re,{variant:"outline",className:"text-xs",children:"Creative"})]})]})]}),e.jsxs(fe,{className:"group hover:shadow-2xl transition-all duration-300 border-0 bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsxs(ke,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(qa,{className:"h-8 w-8 text-white"})}),e.jsx(Ce,{className:"text-2xl font-bold text-gray-900",children:"Smart Food Detection"})]}),e.jsxs(ge,{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"Capture a photo of any prepared meal, and let our AI identify the dish and provide the full recipe with ingredient list and step-by-step cooking instructions."}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(Re,{variant:"outline",className:"text-xs",children:"Instant"}),e.jsx(Re,{variant:"outline",className:"text-xs",children:"Detailed"}),e.jsx(Re,{variant:"outline",className:"text-xs",children:"Educational"})]})]})]})]})]})}),e.jsx("section",{id:"how-it-works",className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs(Re,{className:"mb-4 bg-[#FF6B6B]/10 text-[#FF6B6B] border-[#FF6B6B]/20",children:[e.jsx(da,{className:"h-3 w-3 mr-2"}),"Simple Steps"]}),e.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-6",children:["How MealLensAI",e.jsx("span",{className:"text-[#FF6B6B]",children:" Works"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Get started in just three simple steps and transform your cooking experience."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center group",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-full flex items-center justify-center mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(Yt,{className:"h-4 w-4 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Snap a Photo"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Take a picture of your ingredients or finished dish using your camera or upload an existing image."})]}),e.jsxs("div",{className:"text-center group",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-full flex items-center justify-center mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(Ts,{className:"h-4 w-4 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"AI Analysis"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our advanced AI instantly recognizes ingredients, suggests recipes, and provides cooking guidance."})]}),e.jsxs("div",{className:"text-center group",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-full flex items-center justify-center mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center",children:e.jsx(Ya,{className:"h-4 w-4 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cook & Enjoy"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Follow the detailed recipes, cooking tips, and enjoy your perfectly prepared meal."})]})]})]})}),e.jsx("section",{id:"pricing",className:"py-20 bg-white",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs(Re,{className:"mb-4 bg-[#FF6B6B]/10 text-[#FF6B6B] border-[#FF6B6B]/20",children:[e.jsx(pt,{className:"h-3 w-3 mr-2"}),"Choose Your Plan"]}),e.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-6",children:["Simple & Transparent",e.jsx("span",{className:"text-[#FF6B6B]",children:" Pricing"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Start free and upgrade when you're ready to unlock premium features."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[e.jsxs(fe,{className:"relative border-2 border-gray-200 hover:border-[#FF6B6B] transition-all duration-300",children:[e.jsxs(ke,{className:"text-center pb-4",children:[e.jsx(Ce,{className:"text-2xl font-bold text-gray-900",children:"Free Plan"}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:["$0",e.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"5 food detections per day"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Basic recipe suggestions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Standard AI responses"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Community support"})]})]}),e.jsx(O,{variant:"outline",className:"w-full border-[#FF6B6B] text-[#FF6B6B] hover:bg-[#FF6B6B] hover:text-white",onClick:r,children:"Get Started Free"})]})]}),e.jsxs(fe,{className:"relative border-2 border-[#FF6B6B] bg-gradient-to-br from-[#FF6B6B]/5 to-[#FF8E8E]/5",children:[e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs(Re,{className:"bg-[#FF6B6B] text-white px-4 py-1",children:[e.jsx(pt,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),e.jsxs(ke,{className:"text-center pb-4",children:[e.jsx(Ce,{className:"text-2xl font-bold text-gray-900",children:"Premium Plan"}),e.jsxs("div",{className:"text-4xl font-bold text-[#FF6B6B]",children:["$9.99",e.jsx("span",{className:"text-lg font-normal text-gray-600",children:"/month"})]})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Unlimited food detections"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Advanced recipe suggestions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Premium AI responses"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Meal planning features"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-gray-700",children:"Priority support"})]})]}),e.jsx(O,{className:"w-full bg-[#FF6B6B] hover:bg-[#FF5252] text-white",onClick:()=>t("/signup"),children:"Start Premium Trial"})]})]})]})]})}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs(Re,{className:"mb-4 bg-[#FF6B6B]/10 text-[#FF6B6B] border-[#FF6B6B]/20",children:[e.jsx(gs,{className:"h-3 w-3 mr-2"}),"Works Everywhere"]}),e.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-6",children:["Perfect on Every",e.jsx("span",{className:"text-[#FF6B6B]",children:" Device"})]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Access MealLensAI seamlessly across all your devices with our responsive design."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx(ho,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Mobile"}),e.jsx("p",{className:"text-gray-600",children:"Perfect for on-the-go cooking with touch-optimized interface and camera integration."})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx(Fu,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Tablet"}),e.jsx("p",{className:"text-gray-600",children:"Enhanced viewing experience with larger screens for detailed recipe instructions."})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx(Ka,{className:"h-8 w-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Desktop"}),e.jsx("p",{className:"text-gray-600",children:"Full-featured experience with advanced meal planning and recipe management."})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E]",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("h2",{className:"text-4xl sm:text-5xl font-bold text-white mb-6",children:["Ready to Transform Your",e.jsx("span",{className:"block text-yellow-200",children:"Cooking Experience?"})]}),e.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Join thousands of users who are already cooking smarter with MealLensAI."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(O,{onClick:r,size:"lg",className:"bg-white text-[#FF6B6B] hover:bg-gray-100 px-8 py-4 text-lg font-semibold shadow-xl",children:["Start Cooking Now",e.jsx(Ha,{className:"ml-2 h-5 w-5"})]}),e.jsx(O,{variant:"outline",size:"lg",className:"border-2 border-white text-white hover:bg-white hover:text-[#FF6B6B] px-8 py-4 text-lg font-semibold",children:"Learn More"})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx(ps,{size:"lg",showText:!0,onClick:()=>t("/")}),e.jsx("p",{className:"mt-4 text-gray-400 max-w-md",children:"MealLensAI is your smart kitchen assistant, powered by cutting-edge AI technology to help you cook better, discover new recipes, and enjoy your culinary journey."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),e.jsx("li",{children:e.jsx("a",{href:"#pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Careers"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})]})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-800 text-center",children:e.jsx("p",{className:"text-gray-400",children:" 2024 MealLensAI. All rights reserved."})})]})})]})};var Fa="Checkbox",[Ph,qh]=qs(Fa),[Eh,wr]=Ph(Fa);function _h(t){const{__scopeCheckbox:s,checked:a,children:r,defaultChecked:n,disabled:o,form:l,name:i,onCheckedChange:c,required:h,value:u="on",internal_do_not_use_render:m}=t,[f,v]=xs({prop:a,defaultProp:n??!1,onChange:c,caller:Fa}),[y,x]=d.useState(null),[g,b]=d.useState(null),p=d.useRef(!1),j=y?!!l||!!y.closest("form"):!0,P={checked:f,disabled:o,setChecked:v,control:y,setControl:x,name:i,form:l,value:u,hasConsumerStoppedPropagationRef:p,required:h,defaultChecked:At(n)?!1:n,isFormControl:j,bubbleInput:g,setBubbleInput:b};return e.jsx(Eh,{scope:s,...P,children:Dh(m)?m(P):r})}var Al="CheckboxTrigger",Tl=d.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:a,...r},n)=>{const{control:o,value:l,disabled:i,checked:c,required:h,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:y}=wr(Al,t),x=Ge(n,u),g=d.useRef(c);return d.useEffect(()=>{const b=o==null?void 0:o.form;if(b){const p=()=>m(g.current);return b.addEventListener("reset",p),()=>b.removeEventListener("reset",p)}},[o,m]),e.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":At(c)?"mixed":c,"aria-required":h,"data-state":zl(c),"data-disabled":i?"":void 0,disabled:i,value:l,...r,ref:x,onKeyDown:Ie(s,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ie(a,b=>{m(p=>At(p)?!0:!p),y&&v&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});Tl.displayName=Al;var Nr=d.forwardRef((t,s)=>{const{__scopeCheckbox:a,name:r,checked:n,defaultChecked:o,required:l,disabled:i,value:c,onCheckedChange:h,form:u,...m}=t;return e.jsx(_h,{__scopeCheckbox:a,checked:n,defaultChecked:o,disabled:i,required:l,onCheckedChange:h,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>e.jsxs(e.Fragment,{children:[e.jsx(Tl,{...m,ref:s,__scopeCheckbox:a}),f&&e.jsx(Ol,{__scopeCheckbox:a})]})})});Nr.displayName=Fa;var Bl="CheckboxIndicator",Ll=d.forwardRef((t,s)=>{const{__scopeCheckbox:a,forceMount:r,...n}=t,o=wr(Bl,a);return e.jsx(Dn,{present:r||At(o.checked)||o.checked===!0,children:e.jsx(Ae.span,{"data-state":zl(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...t.style}})})});Ll.displayName=Bl;var Ul="CheckboxBubbleInput",Ol=d.forwardRef(({__scopeCheckbox:t,...s},a)=>{const{control:r,hasConsumerStoppedPropagationRef:n,checked:o,defaultChecked:l,required:i,disabled:c,name:h,value:u,form:m,bubbleInput:f,setBubbleInput:v}=wr(Ul,t),y=Ge(a,v),x=ja(o),g=ir(r);d.useEffect(()=>{const p=f;if(!p)return;const j=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(j,"checked").set,D=!n.current;if(x!==o&&C){const N=new Event("click",{bubbles:D});p.indeterminate=At(o),C.call(p,At(o)?!1:o),p.dispatchEvent(N)}},[f,x,o,n]);const b=d.useRef(At(o)?!1:o);return e.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??b.current,required:i,disabled:c,name:h,value:u,form:m,...s,tabIndex:-1,ref:y,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ol.displayName=Ul;function Dh(t){return typeof t=="function"}function At(t){return t==="indeterminate"}function zl(t){return At(t)?"indeterminate":t?"checked":"unchecked"}const oa=d.forwardRef(({className:t,...s},a)=>e.jsx(Nr,{ref:a,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Ll,{className:ce("flex items-center justify-center text-current"),children:e.jsx(fr,{className:"h-4 w-4"})})}));oa.displayName=Nr.displayName;const Rh=()=>{const t=et(),{toast:s}=Ze(),{user:a}=tt(),[r,n]=d.useState(1),[o,l]=d.useState(!1),[i,c]=d.useState({firstName:"",lastName:"",age:0,gender:"",weight:0,height:0,activityLevel:"",goal:"",dietaryRestrictions:[],healthConditions:[],allergies:[]}),h=4,u=(j,P)=>{c(C=>({...C,[j]:P}))},m=()=>{r<h&&n(r+1)},f=()=>{r>1&&n(r-1)},v=async()=>{l(!0);try{await Ne.post("/api/profile/onboarding",i),s({title:"Profile Setup Complete!",description:"Welcome to MealLens! Your personalized nutrition journey begins now."}),t("/dashboard")}catch{s({title:"Error",description:"Failed to save your profile. Please try again.",variant:"destructive"})}finally{l(!1)}},y=()=>e.jsxs(fe,{className:"w-full max-w-md mx-auto",children:[e.jsxs(ke,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Zt,{className:"h-8 w-8 text-white"})}),e.jsx(Ce,{className:"text-2xl",children:"Basic Information"}),e.jsx(jt,{children:"Let's start with your basic details to personalize your experience."})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(V,{htmlFor:"firstName",children:"First Name"}),e.jsx(_e,{id:"firstName",value:i.firstName,onChange:j=>u("firstName",j.target.value),placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx(V,{htmlFor:"lastName",children:"Last Name"}),e.jsx(_e,{id:"lastName",value:i.lastName,onChange:j=>u("lastName",j.target.value),placeholder:"Doe"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(V,{htmlFor:"age",children:"Age"}),e.jsx(_e,{id:"age",type:"number",value:i.age||"",onChange:j=>u("age",parseInt(j.target.value)),placeholder:"25"})]}),e.jsxs("div",{children:[e.jsx(V,{htmlFor:"gender",children:"Gender"}),e.jsxs(it,{value:i.gender,onValueChange:j=>u("gender",j),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Select gender"})}),e.jsxs(nt,{children:[e.jsx(se,{value:"male",children:"Male"}),e.jsx(se,{value:"female",children:"Female"}),e.jsx(se,{value:"other",children:"Other"}),e.jsx(se,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})]})]})]})]}),x=()=>e.jsxs(fe,{className:"w-full max-w-md mx-auto",children:[e.jsxs(ke,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Pu,{className:"h-8 w-8 text-white"})}),e.jsx(Ce,{className:"text-2xl",children:"Physical Information"}),e.jsx(jt,{children:"Help us understand your current physical state for better recommendations."})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(V,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(_e,{id:"weight",type:"number",value:i.weight||"",onChange:j=>u("weight",parseFloat(j.target.value)),placeholder:"70"})]}),e.jsxs("div",{children:[e.jsx(V,{htmlFor:"height",children:"Height (cm)"}),e.jsx(_e,{id:"height",type:"number",value:i.height||"",onChange:j=>u("height",parseFloat(j.target.value)),placeholder:"170"})]})]}),e.jsxs("div",{children:[e.jsx(V,{htmlFor:"activityLevel",children:"Activity Level"}),e.jsxs(it,{value:i.activityLevel,onValueChange:j=>u("activityLevel",j),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Select activity level"})}),e.jsxs(nt,{children:[e.jsx(se,{value:"sedentary",children:"Sedentary (little or no exercise)"}),e.jsx(se,{value:"light",children:"Lightly active (light exercise 1-3 days/week)"}),e.jsx(se,{value:"moderate",children:"Moderately active (moderate exercise 3-5 days/week)"}),e.jsx(se,{value:"active",children:"Very active (hard exercise 6-7 days/week)"}),e.jsx(se,{value:"very-active",children:"Extremely active (very hard exercise, physical job)"})]})]})]})]})]}),g=()=>e.jsxs(fe,{className:"w-full max-w-md mx-auto",children:[e.jsxs(ke,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ya,{className:"h-8 w-8 text-white"})}),e.jsx(Ce,{className:"text-2xl",children:"Health Goals"}),e.jsx(jt,{children:"What would you like to achieve with your nutrition journey?"})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(V,{htmlFor:"goal",children:"Primary Goal"}),e.jsxs(it,{value:i.goal,onValueChange:j=>u("goal",j),children:[e.jsx(rt,{children:e.jsx(ct,{placeholder:"Select your primary goal"})}),e.jsxs(nt,{children:[e.jsx(se,{value:"weight-loss",children:"Weight Loss"}),e.jsx(se,{value:"weight-gain",children:"Weight Gain"}),e.jsx(se,{value:"maintenance",children:"Maintain Current Weight"}),e.jsx(se,{value:"muscle-gain",children:"Build Muscle"}),e.jsx(se,{value:"energy",children:"Increase Energy"}),e.jsx(se,{value:"health",children:"Improve Overall Health"})]})]})]}),e.jsxs("div",{children:[e.jsx(V,{children:"Dietary Restrictions"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Keto","Paleo"].map(j=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oa,{id:j,checked:i.dietaryRestrictions.includes(j.toLowerCase()),onCheckedChange:P=>{P?u("dietaryRestrictions",[...i.dietaryRestrictions,j.toLowerCase()]):u("dietaryRestrictions",i.dietaryRestrictions.filter(C=>C!==j.toLowerCase()))}}),e.jsx(V,{htmlFor:j,className:"text-sm",children:j})]},j))})]})]})]}),b=()=>e.jsxs(fe,{className:"w-full max-w-md mx-auto",children:[e.jsxs(ke,{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Xe,{className:"h-8 w-8 text-white"})}),e.jsx(Ce,{className:"text-2xl",children:"Health & Allergies"}),e.jsx(jt,{children:"Let us know about any health conditions or allergies for safe recommendations."})]}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(V,{children:"Common Allergies"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["Peanuts","Tree Nuts","Milk","Eggs","Soy","Wheat","Fish","Shellfish"].map(j=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oa,{id:j,checked:i.allergies.includes(j.toLowerCase()),onCheckedChange:P=>{P?u("allergies",[...i.allergies,j.toLowerCase()]):u("allergies",i.allergies.filter(C=>C!==j.toLowerCase()))}}),e.jsx(V,{htmlFor:j,className:"text-sm",children:j})]},j))})]}),e.jsxs("div",{children:[e.jsx(V,{children:"Health Conditions"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["Diabetes","Hypertension","Heart Disease","Celiac Disease","Lactose Intolerance"].map(j=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oa,{id:j,checked:i.healthConditions.includes(j.toLowerCase()),onCheckedChange:P=>{P?u("healthConditions",[...i.healthConditions,j.toLowerCase()]):u("healthConditions",i.healthConditions.filter(C=>C!==j.toLowerCase()))}}),e.jsx(V,{htmlFor:j,className:"text-sm",children:j})]},j))})]})]})]}),p=()=>{switch(r){case 1:return y();case 2:return x();case 3:return g();case 4:return b();default:return y()}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to MealLens!"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",r," of ",h]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-[#FF6B6B] to-[#FF8E8E] h-2 rounded-full transition-all duration-300",style:{width:`${r/h*100}%`}})})]}),p(),e.jsxs("div",{className:"flex items-center justify-between mt-8",children:[e.jsxs(O,{variant:"outline",onClick:f,disabled:r===1,className:"flex items-center",children:[e.jsx(ba,{className:"mr-2 h-4 w-4"}),"Back"]}),e.jsx("div",{className:"flex items-center space-x-4",children:r<h?e.jsxs(O,{onClick:m,className:"bg-[#FF6B6B] hover:bg-[#FF5252] text-white flex items-center",children:["Next",e.jsx(Ha,{className:"ml-2 h-4 w-4"})]}):e.jsx(O,{onClick:v,disabled:o,className:"bg-[#FF6B6B] hover:bg-[#FF5252] text-white flex items-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Completing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Complete Setup"]})})})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx(O,{variant:"ghost",onClick:()=>t("/dashboard"),className:"text-gray-600 hover:text-[#FF6B6B]",children:"Skip for now"})})]})})},Mh=({onLaunchComplete:t})=>{const[s,a]=d.useState({days:0,hours:0,minutes:0,seconds:0}),[r,n]=d.useState(!1),[o,l]=d.useState(null),[i,c]=d.useState(""),[h,u]=d.useState(!1),m=new Date("2024-12-25T00:00:00Z"),f=async()=>{try{const g=await(await fetch("/api/server-time")).json();return new Date(g.serverTime)}catch(x){return console.error("Failed to get server time, using local time:",x),new Date}},v=x=>{const g=m.getTime()-x.getTime();return g>0?{days:Math.floor(g/(1e3*60*60*24)),hours:Math.floor(g/(1e3*60*60)%24),minutes:Math.floor(g/1e3/60%60),seconds:Math.floor(g/1e3%60)}:{days:0,hours:0,minutes:0,seconds:0}},y=async()=>{if(!(!i||!i.includes("@")))try{u(!0),localStorage.setItem("meallens-waitlist-email",i)}catch(x){console.error("Failed to subscribe:",x)}};return d.useEffect(()=>{(async()=>{const b=await f();l(b);const p=v(b);if(a(p),p.days===0&&p.hours===0&&p.minutes===0&&p.seconds===0){n(!0),t();return}})();const g=setInterval(async()=>{const b=await f(),p=v(b);a(p),p.days===0&&p.hours===0&&p.minutes===0&&p.seconds===0&&(n(!0),t(),clearInterval(g))},1e3);return()=>clearInterval(g)},[t]),d.useEffect(()=>{const x=localStorage.getItem("meallens-waitlist-email");x&&(c(x),u(!0))},[]),r?null:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#FF6B6B] via-[#FF8E8E] to-[#FF5252] flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsx(fe,{className:"bg-white/95 backdrop-blur-sm shadow-2xl border-0",children:e.jsxs(ge,{className:"p-8 text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsx(ps,{size:"xl",showText:!0})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Coming Soon!"}),e.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"MealLensAI is launching in"}),e.jsx("p",{className:"text-lg text-gray-500",children:m.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E8E] rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold",children:s.days}),e.jsx("div",{className:"text-sm opacity-90",children:"Days"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E8E] rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold",children:s.hours}),e.jsx("div",{className:"text-sm opacity-90",children:"Hours"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E8E] rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold",children:s.minutes}),e.jsx("div",{className:"text-sm opacity-90",children:"Minutes"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-[#FF6B6B] to-[#FF8E8E] rounded-lg p-4 text-white",children:[e.jsx("div",{className:"text-3xl md:text-4xl font-bold",children:s.seconds}),e.jsx("div",{className:"text-sm opacity-90",children:"Seconds"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"What's Coming"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-[#FF6B6B]/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Smart Food Detection"}),e.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered ingredient recognition"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-[#FF6B6B]/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recipe Suggestions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Personalized meal recommendations"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-[#FF6B6B]/10 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Meal Planning"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Weekly meal organization"})]})]})]}),h?e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center text-green-800",children:[e.jsx(Ys,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-semibold",children:"You're on the list!"})]}),e.jsx("p",{className:"text-sm text-green-700 text-center mt-1",children:"We'll notify you as soon as we launch."})]})}):e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Get Early Access"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Be the first to know when we launch and get exclusive early access!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[e.jsx("input",{type:"email",value:i,onChange:x=>c(x.target.value),placeholder:"Enter your email",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF6B6B] focus:border-transparent"}),e.jsxs(O,{onClick:y,disabled:!i||!i.includes("@"),className:"bg-[#FF6B6B] hover:bg-[#FF5252] text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Subscribe"]})]})]}),o&&e.jsxs("div",{className:"text-xs text-gray-400 mt-4",children:["Server time: ",o.toLocaleString()]})]})})})})};var Pa="Tabs",[Ih,Jh]=qs(Pa,[Rn]),Hl=Rn(),[Ah,Sr]=Ih(Pa),Vl=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,onValueChange:n,defaultValue:o,orientation:l="horizontal",dir:i,activationMode:c="automatic",...h}=t,u=lr(i),[m,f]=xs({prop:r,onChange:n,defaultProp:o??"",caller:Pa});return e.jsx(Ah,{scope:a,baseId:ha(),value:m,onValueChange:f,orientation:l,dir:u,activationMode:c,children:e.jsx(Ae.div,{dir:u,"data-orientation":l,...h,ref:s})})});Vl.displayName=Pa;var $l="TabsList",Gl=d.forwardRef((t,s)=>{const{__scopeTabs:a,loop:r=!0,...n}=t,o=Sr($l,a),l=Hl(a);return e.jsx(_i,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:e.jsx(Ae.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});Gl.displayName=$l;var Wl="TabsTrigger",Yl=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,disabled:n=!1,...o}=t,l=Sr(Wl,a),i=Hl(a),c=Jl(l.baseId,r),h=Xl(l.baseId,r),u=r===l.value;return e.jsx(Di,{asChild:!0,...i,focusable:!n,active:u,children:e.jsx(Ae.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":h,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...o,ref:s,onMouseDown:Ie(t.onMouseDown,m=>{!n&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:Ie(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:Ie(t.onFocus,()=>{const m=l.activationMode!=="manual";!u&&!n&&m&&l.onValueChange(r)})})})});Yl.displayName=Wl;var Kl="TabsContent",ql=d.forwardRef((t,s)=>{const{__scopeTabs:a,value:r,forceMount:n,children:o,...l}=t,i=Sr(Kl,a),c=Jl(i.baseId,r),h=Xl(i.baseId,r),u=r===i.value,m=d.useRef(u);return d.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(Dn,{present:n||u,children:({present:f})=>e.jsx(Ae.div,{"data-state":u?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:h,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:f&&o})})});ql.displayName=Kl;function Jl(t,s){return`${t}-trigger-${s}`}function Xl(t,s){return`${t}-content-${s}`}var Th=Vl,Zl=Gl,Ql=Yl,ei=ql;const Bh=Th,ti=d.forwardRef(({className:t,...s},a)=>e.jsx(Zl,{ref:a,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));ti.displayName=Zl.displayName;const Us=d.forwardRef(({className:t,...s},a)=>e.jsx(Ql,{ref:a,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));Us.displayName=Ql.displayName;const Os=d.forwardRef(({className:t,...s},a)=>e.jsx(ei,{ref:a,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Os.displayName=ei.displayName;const Lh=()=>{const[t,s]=d.useState("overview"),[a,r]=d.useState({totalUsers:12543,activeUsers:8921,newUsers:234,premiumUsers:3456,trialUsers:1234,freeUsers:7853}),[n,o]=d.useState({dailyActiveUsers:2341,weeklyActiveUsers:8921,monthlyActiveUsers:15432,averageSessionDuration:8.5,totalSessions:45678,featureUsage:{foodDetection:12345,mealPlanning:8765,recipeSearch:6543,aiKitchen:5432}}),[l,i]=d.useState({enabled:!0,placement:"inline",frequency:"medium",type:"card",targetAudience:["free","trial"]}),[c,h]=d.useState([{name:"Food Detection",enabled:!0,restricted:!1,requiresPremium:!1,description:"AI-powered food recognition from images"},{name:"Meal Planning",enabled:!0,restricted:!0,requiresPremium:!0,description:"Advanced meal planning with AI suggestions"},{name:"Recipe Search",enabled:!0,restricted:!1,requiresPremium:!1,description:"Search and discover recipes"},{name:"AI Kitchen Assistant",enabled:!0,restricted:!0,requiresPremium:!0,description:"AI-powered cooking assistance and tips"},{name:"Premium Features",enabled:!0,restricted:!0,requiresPremium:!0,description:"Access to premium features and content"}]),[u,m]=d.useState(!1),f=(b,p)=>((b-p)/p*100).toFixed(1),v=()=>({mobile:65,desktop:25,tablet:10}),y=(b,p)=>{i(j=>({...j,[b]:p}))},x=(b,p,j)=>{const P=[...c];P[b]={...P[b],[p]:j},h(P)},g=()=>{console.log("Saving settings:",{adSettings:l,featureSettings:c}),m(!1)};return e.jsx("div",{className:"h-screen bg-gradient-to-br from-slate-50 to-gray-100 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage app settings, users, and analytics"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Re,{variant:"outline",className:"text-xs",children:[e.jsx(Xt,{className:"h-3 w-3 mr-1"}),"Admin Access"]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs(O,{onClick:g,size:"sm",className:"bg-[#FF6B6B] hover:bg-[#FF5252]",children:[e.jsx(gr,{className:"h-3 w-3 mr-2"}),"Save"]}),e.jsxs(O,{variant:"outline",onClick:()=>m(!1),size:"sm",children:[e.jsx(Ft,{className:"h-3 w-3 mr-2"}),"Cancel"]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsxs(Bh,{value:t,onValueChange:s,className:"h-full",children:[e.jsx("div",{className:"p-4 border-b bg-white",children:e.jsxs(ti,{className:"grid w-full grid-cols-4",children:[e.jsxs(Us,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(an,{className:"h-4 w-4"}),"Overview"]}),e.jsxs(Us,{value:"users",className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-4 w-4"}),"Users"]}),e.jsxs(Us,{value:"ads",className:"flex items-center gap-2",children:[e.jsx(rn,{className:"h-4 w-4"}),"Ads"]}),e.jsxs(Us,{value:"features",className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"h-4 w-4"}),"Features"]})]})}),e.jsxs("div",{className:"p-4 overflow-y-auto",children:[e.jsxs(Os,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(fe,{children:[e.jsx(ke,{className:"pb-2",children:e.jsx(Ce,{className:"text-sm font-medium text-gray-600",children:"Total Users"})}),e.jsxs(ge,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.totalUsers.toLocaleString()}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["+",f(a.newUsers,a.totalUsers-a.newUsers),"% this week"]})]})]}),e.jsxs(fe,{children:[e.jsx(ke,{className:"pb-2",children:e.jsx(Ce,{className:"text-sm font-medium text-gray-600",children:"Active Users"})}),e.jsxs(ge,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.activeUsers.toLocaleString()}),e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[(a.activeUsers/a.totalUsers*100).toFixed(1),"% of total"]})]})]}),e.jsxs(fe,{children:[e.jsx(ke,{className:"pb-2",children:e.jsx(Ce,{className:"text-sm font-medium text-gray-600",children:"Premium Users"})}),e.jsxs(ge,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.premiumUsers.toLocaleString()}),e.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[(a.premiumUsers/a.totalUsers*100).toFixed(1),"% conversion"]})]})]}),e.jsxs(fe,{children:[e.jsx(ke,{className:"pb-2",children:e.jsx(Ce,{className:"text-sm font-medium text-gray-600",children:"Daily Active"})}),e.jsxs(ge,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.dailyActiveUsers.toLocaleString()}),e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[n.averageSessionDuration,"min avg session"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(fe,{children:[e.jsx(ke,{children:e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(iu,{className:"h-5 w-5"}),"Feature Usage"]})}),e.jsx(ge,{className:"space-y-4",children:Object.entries(n.featureUsage).map(([b,p])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium capitalize",children:b.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#FF6B6B] h-2 rounded-full",style:{width:`${p/Math.max(...Object.values(n.featureUsage))*100}%`}})}),e.jsx("span",{className:"text-sm text-gray-600",children:p.toLocaleString()})]})]},b))})]}),e.jsxs(fe,{children:[e.jsx(ke,{children:e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5"}),"Device Distribution"]})}),e.jsx(ge,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(v()).map(([b,p])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[b==="mobile"&&e.jsx(ho,{className:"h-4 w-4 text-gray-600"}),b==="desktop"&&e.jsx(Ka,{className:"h-4 w-4 text-gray-600"}),b==="tablet"&&e.jsx(Ka,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium capitalize",children:b})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-[#FF6B6B] h-2 rounded-full",style:{width:`${p}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[p,"%"]})]})]},b))})})]})]})]}),e.jsx(Os,{value:"users",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(fe,{children:[e.jsx(ke,{children:e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-5 w-5"}),"User Breakdown"]})}),e.jsxs(ge,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-sm",children:"Premium"})]}),e.jsx(Re,{variant:"outline",children:a.premiumUsers.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm",children:"Trial"})]}),e.jsx(Re,{variant:"outline",children:a.trialUsers.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-gray-600"}),e.jsx("span",{className:"text-sm",children:"Free"})]}),e.jsx(Re,{variant:"outline",children:a.freeUsers.toLocaleString()})]})]})]}),e.jsxs(fe,{className:"lg:col-span-2",children:[e.jsx(ke,{children:e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(_u,{className:"h-5 w-5"}),"User Growth"]})}),e.jsx(ge,{children:e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(an,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"User growth chart would be displayed here"})]})})})]})]})}),e.jsx(Os,{value:"ads",className:"space-y-6",children:e.jsxs(fe,{children:[e.jsxs(ke,{children:[e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(rn,{className:"h-5 w-5"}),"Advertisement Settings"]}),e.jsx(jt,{children:"Configure ad display settings and targeting"})]}),e.jsxs(ge,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(V,{htmlFor:"ads-enabled",className:"text-sm font-medium",children:"Enable Ads"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Show advertisements to users"})]}),e.jsx(Qe,{id:"ads-enabled",checked:l.enabled,onCheckedChange:b=>y("enabled",b)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"ad-placement",className:"text-sm font-medium",children:"Ad Placement"}),e.jsxs(it,{value:l.placement,onValueChange:b=>y("placement",b),children:[e.jsx(rt,{children:e.jsx(ct,{})}),e.jsxs(nt,{children:[e.jsx(se,{value:"top",children:"Top"}),e.jsx(se,{value:"bottom",children:"Bottom"}),e.jsx(se,{value:"sidebar",children:"Sidebar"}),e.jsx(se,{value:"inline",children:"Inline"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"ad-frequency",className:"text-sm font-medium",children:"Ad Frequency"}),e.jsxs(it,{value:l.frequency,onValueChange:b=>y("frequency",b),children:[e.jsx(rt,{children:e.jsx(ct,{})}),e.jsxs(nt,{children:[e.jsx(se,{value:"low",children:"Low"}),e.jsx(se,{value:"medium",children:"Medium"}),e.jsx(se,{value:"high",children:"High"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{htmlFor:"ad-type",className:"text-sm font-medium",children:"Ad Type"}),e.jsxs(it,{value:l.type,onValueChange:b=>y("type",b),children:[e.jsx(rt,{children:e.jsx(ct,{})}),e.jsxs(nt,{children:[e.jsx(se,{value:"banner",children:"Banner"}),e.jsx(se,{value:"card",children:"Card"}),e.jsx(se,{value:"native",children:"Native"})]})]})]})]})]})}),e.jsxs(Os,{value:"features",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Feature Management"}),e.jsxs(O,{onClick:()=>m(!u),variant:"outline",size:"sm",children:[u?e.jsx(Ft,{className:"h-4 w-4 mr-2"}):e.jsx(xo,{className:"h-4 w-4 mr-2"}),u?"Cancel":"Edit"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map((b,p)=>e.jsx(fe,{children:e.jsx(ge,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium",children:b.name}),b.requiresPremium&&e.jsxs(Re,{className:"bg-yellow-100 text-yellow-800",children:[e.jsx(pt,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:b.description})]}),u&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{htmlFor:`feature-${p}-enabled`,className:"text-xs",children:"Enabled"}),e.jsx(Qe,{id:`feature-${p}-enabled`,checked:b.enabled,onCheckedChange:j=>x(p,"enabled",j)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{htmlFor:`feature-${p}-restricted`,className:"text-xs",children:"Restricted"}),e.jsx(Qe,{id:`feature-${p}-restricted`,checked:b.restricted,onCheckedChange:j=>x(p,"restricted",j)})]})]})]})})},b.name))})]})]})]})})]})})},Uh=({children:t})=>{const[s,a]=d.useState(!1),[r,n]=d.useState(!0);return d.useEffect(()=>{(async()=>{try{const i=await(await fetch("/api/server-time")).json();new Date(i.serverTime)>=new Date("2024-12-25T00:00:00Z")&&a(!0)}catch(l){console.error("Failed to check launch status:",l),a(!0)}finally{n(!1)}})()},[]),r?e.jsx(gt,{message:"Checking launch status..."}):s?e.jsx(e.Fragment,{children:t}):e.jsx(Mh,{onLaunchComplete:()=>a(!0)})},Oh=ed([{path:"/",element:e.jsx(Fh,{})},{path:"/home",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(ln,{})})})},{path:"/login",element:e.jsx(Ru,{})},{path:"/signup",element:e.jsx(Mu,{})},{path:"/onboarding",element:e.jsx(ht,{children:e.jsx(Rh,{})})},{path:"/dashboard",element:e.jsx(Oa,{to:"/home",replace:!0})},{path:"/ai-kitchen",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(Bu,{})})})},{path:"/detected",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(Tu,{})})})},{path:"/planner",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(ln,{})})})},{path:"/history",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(gm,{})})})},{path:"/history/:id",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(ym,{})})})},{path:"/payment",element:e.jsx(ht,{children:e.jsx(Zm,{})})},{path:"/profile",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(lh,{})})})},{path:"/settings",element:e.jsx(ht,{children:e.jsx(Dt,{children:e.jsx(Ch,{})})})},{path:"/admin",element:e.jsx(ht,{children:e.jsx(Lh,{})})},{path:"*",element:e.jsx(Oa,{to:"/",replace:!0})}],{future:{v7_relativeSplatPath:!0}}),zh=()=>e.jsx(Uh,{children:e.jsx(cd,{router:Oh})});function Hh(){return e.jsx(vm,{children:e.jsxs(Au,{children:[e.jsx(zh,{}),e.jsx(cm,{})]})})}Mn(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(Hh,{})}));
